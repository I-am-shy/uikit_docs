<div class="download-area">
    <div class="sdk-download-item-wrapper">
      <div class="sdk-fun">macOS</div>
      <div class="download-title">示例源码</div>
      <div class="download-selector">
        <a class="download-select-icon" href="javascript:void(0)"></a>
        <div class="download-select-wrapper">
          <a class="download-target-btn" href="javascript:void(0);">本地下载</a>
          <ul class="download-dropdown-list">
            <li data-href="https://storage.zego.im/express/example/video/mac_qt_cpp/ZegoExpressDemo_mac_qt_cpp.zip"
              class="dropdown-option">
              本地下载
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="sdk-download-item-wrapper">
      <div class="sdk-fun">Windows</div>
      <div class="download-title">示例源码</div>
      <div class="download-selector">
        <a class="download-select-icon" href="javascript:void(0)"></a>
        <div class="download-select-wrapper">
          <a class="download-target-btn" href="javascript:void(0);">本地下载</a>
          <ul class="download-dropdown-list">
            <li data-href="https://storage.zego.im/express/example/video/win_qt_cpp/ZegoExpressDemo_win_qt_cpp.zip"
              class="dropdown-option">
              本地下载
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

## 示例源码运行指引

@@@SupTestEnvNewDocWarn@@@

本文介绍如何快速跑通示例源码，体验基础的音视频通话服务。

### 1 准备环境

请确保开发环境满足以下技术要求：

* Windows 系统：Windows 7 或以上版本，已安装 Visual Studio 2015 或以上版本。
* macOS 系统：已安装 Xcode。
* 已安装 [CMake\|_blank](https://cmake.org/download/)。
* 已安装 [Qt\|_blank](http://download.qt.io/official_releases/qt) 5.9 或以上版本，详细信息请参考 [Getting Started with Qt\|_balnk](https://doc.qt.io/qt-5/gettingstarted.html)。
* 麦克风和摄像头等支持音视频功能的外部设备正常。

### 2 前提条件

@@@Demo_Prerequisites@@@

- 安装完 CMake 和 Qt 后需要添加环境变量：

    <div class = 'mk-warning'>

    下面提供的 CMake 和 Qt 路径仅供参考，用户需要根据自己设备上的实际路径填写。
    </div>

    - **Windows 系统：**

        1. 修改“环境变量”：在 “Path” 中添加 “C:\Program Files\CMake\bin”。
        2. 修改“环境变量”：在 “Path” 中添加 “C:\Qt\Qt5.9.8\5.9.8\msvc201d5\bin”。
        3. 修改“环境变量”：在 “Path” 中添加 “C:\Qt\Qt5.9.8\5.9.8\msvc2015_64\bin”。
        4. 添加“用户变量”：添加 “QT_DIR” 用户变量为 “C:\Qt\Qt5.9.b8\5.9.8\msvc2015”。
        5. 添加“用户变量”：添加 “QT_DIR_x64” 用户变量为 “C:\Qt\Qt5.9.8\5.9.8\msvc2015_64”。

    - **macOS 系统：**

        ```bash
        export PATH="/Users/zego/Qt5.9.8/5.9.8/clang_64/bin:$PATH"
        export QTDIR="/Users/zego/Qt5.9.8/5.9.8/clang_64/"
        ```

### 3 示例源码目录结构

下列结构为 **video** 子目录的文件结构，下文所涉及的文件路径均为相对于此目录的路径。

```bash
.
├── bin
├── CMakeLists.txt
├── README.ZH.md
├── README.md
├── build-mac
│   └── generate_mac.sh-------------------------用于生成 xcode 工程
├── build-win
│   ├── generate_vs2013_x64.bat-----------------用于生成 vs 工程
│   ├── generate_vs2013_x86.bat
│   ├── generate_vs2015_x64.bat
│   └── generate_vs2015_x86.bat
├── libs
│   ├── ScreenCapture
│   └── ZegoExpress
│       ├── mac---------------------------------ZegoExpressVideo Mac SDK 存放目录
│       │   ├── include
│       │   └── lib
│       └── win---------------------------------ZegoExpressVideo Win SDK 存放目录
│           ├── include
│           └── lib
│               ├── x64
│               └── x86
└── ZegoExpressExample
    ├── KeyCenter.cpp---------------填写申请的 AppID
    ├── KeyCenter.h
    ├── AppSupport
    │   ├── ZegoUtilHelper.cpp
    │   ├── ZegoUtilHelper.h
    │   └── ZegoCrashHelper.h
    ├── Common
    ├── EventHandler
    ├── Examples
    ├── HomePage
    ├── Resources
    ├── CMakeLists.txt
    └── ZegoExpressExample.pro------------------可使用 QtCreator 打开工程
```

### 4 运行示例源码

1. 下载 SDK 包，解压后将文件拷贝到示例源码如下目录。

    **若下载的示例源码中已经有对应的 SDK 文件，则请跳过此步到下一步操作**。

    * Windows 系统：[下载 SDK 包\|_blank](#2972)，并解压到 “/libs/ZegoExpress/win” 目录。
    * macOS 系统：[下载 SDK 包\|_blank](#5566)，并解压到 “/libs/ZegoExpress/mac” 目录。

2. 示例源码中缺少 SDK 初始化所需的 “AppID”、“UserID” 和 “Token”，需要修改 “/ZegoExpressExample/KeyCenter.cpp” 文件，请使用本文 [前提条件](!DownloadDemo/DownloadDemo#1_2) 已获取的 AppID 和 Token 正确填写，否则示例源码无法正常运行。

```c++
// Developers can get appID from admin console.
// https://console.zego.im/dashboard
// for example: 123456789;
unsigned int KeyCenter::getAppID() {
    return 123456789;// Input AppID here
}

// Developers should customize a user ID.
// for example: "zego_benjamin";
std::string KeyCenter::getUserID() {
    return "zego_benjamin";// Input UserID here
}

// Developers can get token from admin console.
// https://console.zego.im/dashboard
// Note: The user ID used to generate the token needs to be the same as the userID filled in above!
// for example: "04AAAAAxxxxxxxxxxxxxx";
std::string KeyCenter::getToken() {
    return "04AAAAAxxxxxxxxxxxxxx";// Input Token here
}
```

3. 使用 IDE 打开项目。

    示例源码中自带了 Qt 工程文件，开发者可以在 Windows 或 macOS 系统中，使用 Qt Creator 打开 “ZegoExpressExample” 目录下的 “ZegoExpressExample.pro” 工程文件。

    如果开发者需要使用 Visual Studio 或 Xcode 打开项目，示例中提供了 “cmakelist.txt” 文件，开发者可利用 CMake 生成平台特有的 “.sln” 或 “.xcodeproj” 工程文件。
    
    - 生成 “.sln” 工程文件后使用 Visual Studio 打开。
        - 双击 “/build-win/generate_vs2015_x86.bat”，将在 “/build-win/cmake_temp_x86” 目录下生成 32 位 sln 工程。
        - 双击 “/build-win/generate_vs2015_x64.bat”，将在 “/build-win/cmake_temp_x64” 目录下生成 64 位 sln 工程。

    - 生成 “.xcodeproj” 工程文件后使用 Xcode 打开。

        执行 “/build-mac/generate_mac.sh” 脚本，将在 “/build-mac/cmake_temp” 目录下生成 Xcode 工程。

4. 编译和运行项目工程。

### 5 体验实时音视频功能

@@@New_Experience_RTC_Functions@@@
