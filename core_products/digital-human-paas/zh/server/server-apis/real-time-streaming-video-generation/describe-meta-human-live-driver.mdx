

# 查询驱动任务状态

---

## 描述

调用本接口查询一个驱动任务的状态。


## 接口原型

- 请求方法：POST
- 中国大陆正式环境请求地址：https://aigc-api.zegotech.cn/?Action=DescribeMetaHumanLiveDriver
- 传输协议：HTTPS
- 调用频率限制：10 次/秒


## 请求参数

以下请求参数列表仅列出了接口请求参数，公共参数列表请参考 [调用方式 - 公共请求参数\|_blank](#18534#4_1)。

| 参数         | 类型   | 是否必选 | 描述                                         |
| :----------- | :----- | :------- | :---------------------------------------- |
| TaskId | String | 仅 DriverTaskId 为空时，必填 | 数字人视频流任务 ID，[创建数字人视频流任务\|_blank](!CreateMetaHumanLive) 后返回。 |
| DriverTaskId | String | 仅 TaskId 为空时，必填       | 驱动数字人任务 ID，[驱动数字人\|_blank](!DriveMetaHumanLive) 后返回。 |


## 请求示例


- 请求 URL  

    ```
    https://aigc-api.zegotech.cn/?Action=DescribeMetaHumanLiveDriver
    &AppId=1234567890
    &SignatureNonce=15215528852396
    &Timestamp=1234567890
    &Signature=7a2c0f11145fb760d607a07b54825013
    &SignatureVersion=2.0
    ```

- 请求消息体  

    ```json
    {
        "TaskId": "your_task_id",
        "DriverTaskId": "your_driver_rtask_id"
    }
    ```

## 响应参数

<table class="collapsible-table" >
  
<tbody><tr data-row-level="1">
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
<tr data-row-level="2">
<td>Code</td>
<td>Int</td>
<td>错误码。</td>
</tr>
<tr data-row-level="3">
<td>Message</td>
<td>String</td>
<td>错误描述。</td>
</tr>
<tr data-row-level="4" data-row-child="true">
<td>Data</td>
<td>Object</td>
<td>响应对象。</td>
</tr>
<tr data-row-level="4-1">
<td>TaskId</td>
<td>String</td>
<td>数字人视频流任务 ID。</td>
</tr>
<tr data-row-level="4-2">
<td>RoomId</td>
<td>String</td>
<td>房间 ID。</td>
</tr>
<tr data-row-level="4-3">
<td>StreamId</td>
<td>String</td>
<td>数字人音视流 ID。</td>
</tr>
<tr data-row-level="4-4" data-row-child="true">
<td>LiveDriverDataList</td>
<td>Array of Object</td>
<td>驱动数据。</td>
</tr>
<tr data-row-level="4-4-1">
<td>DriverTaskId</td>
<td>String</td>
<td>驱动直播任务 ID。</td>
</tr>
<tr data-row-level="4-4-2">
<td>Status</td>
<td>Int</td>
<td>驱动任务状态：
- 1：排队中。
- 2：驱动中。
- 3：驱动失败。
- 4：驱动结束。
- 5：驱动中断（被打断）。
- 6：驱动音频结束。</td>
</tr>
<tr data-row-level="4-4-3">
<td>Duration</td>
<td>Number</td>
<td>驱动时长。</td>
</tr>
<tr data-row-level="4-4-4">
<td>Deduction</td>
<td>Number</td>
<td>扣费时长，具体抵扣系数请发送邮件至 [aigc@zego.im](mailto:aigc@zego.im) 获取。</td>
</tr>
</tbody></table>

## 响应示例


```json
{
    "Code": 0,
    "Message": "succeed",
    "Data": {
        "TaskId": "5b14dfba-d6b1-4013-b0a6-829e130e4937",
        "RoomId": "your_room_id",
        "StreamId": "your_stream_id",
        "LiveDriverDataList": [
            {
                "DriverTaskId": "45799a25-f2c4-4fe5-a9f6-aa2dc41c2808",
                "Status": 4,
                "Duration": 100,
                "Deduction": 210
            }
         ]
    }
}
```

## 返回码

以下仅列出了常见的接口业务逻辑相关的返回码，完整返回码请参考 [全局返回码\|_blank](#18574)。

| 返回码 | 说明 | 处理建议 |
| -- | -- | -- |
| 0 | 成功。| -|
| 100000004 | 签名过期。| 请重新生成签名。|
| 100000005 | 签名错误。| 请确认生成签名的参数是否正确。|
| 400000001 | 输入参数无效。| 请根据 Message 提示，调整对应参数的取值。|
| 400000002 | 数字人 PaaS 服务权限未开通。| 请联系 ZEGO 技术支持开通服务权限。|
| 400000005 | 未找到任务。 | 请确认设置的 TaskId 是否正确。 |
| 400010000 | 系统错误。| 请联系 ZEGO 技术支持处理。|
