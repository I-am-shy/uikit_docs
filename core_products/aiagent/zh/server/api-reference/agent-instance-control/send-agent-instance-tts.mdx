---
id: send-agent-instance-tts
title: "SendAgentInstanceTTS"
description: "本接口可用于主动调用 TTS 服务，以智能体身份向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本消息，会根据 AddHistory 参数决定是否被记录在会话消息历史之中，作为上下文输入给 LLM，同时该消息还会通过 RTC 房间消息下发。)"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>SendAgentInstanceTTS</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口可用于主动调用 TTS 服务，以智能体身份向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本消息，会根据 AddHistory 参数决定是否被记录在会话消息历史之中，作为上下文输入给 LLM，同时该消息还会通过 RTC 房间消息下发。)
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=SendAgentInstanceTTS\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendAgentInstanceTTS"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={false} name={"Text"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 300 characters`"} schema={{"type":"string","description":"用于 TTS 的文本内容，最大不超过 300 个字符。","maxLength":300,"example":"尊敬的开发者你好，欢迎使用 ZEGO RTC 共建实时互动世界。"}}></SchemaItem><SchemaItem collapsible={false} name={"AddHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否将文本消息记录在会话消息历史之中，作为上下文输入给 LLM。","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"InterruptMode"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","deprecated":true,"description":"（已弃用）请使用 Priority 和 SamePriorityOption 参数替代。\n智能体说话时被用户语音打断的模式：\n- 0: 立即打断。如果在 AI 说话时用户说话，那么 AI 将被立刻打断，停止说话。请改为 Priority=Medium 和 SamePriorityOption=ClearAndInterrupt 参数替代。\n- 1: 不打断。如果在 AI 说话时用户说话，那么 AI 不会被影响直到内容说完。请改为 Priority=High 和 SamePriorityOption=ClearAndInterrupt 参数替代。\n","default":0,"example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Priority"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Low`, `Medium`, `High`]"} schema={{"type":"string","description":"任务优先级，默认为 Medium。\n可选值：\n1. Low：低优先级\n2. Medium：中等优先级\n3. High：高优先级\n","enum":["Low","Medium","High"],"default":"Medium","example":"Medium"}}></SchemaItem><SchemaItem collapsible={false} name={"SamePriorityOption"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`ClearAndInterrupt`, `Enqueue`]"} schema={{"type":"string","description":"相同优先级时的打断策略，默认为 ClearAndInterrupt。\n可选值：\n1. ClearAndInterrupt：清空并打断\n2. Enqueue：排队等待，队列最大数量为 5\n","enum":["ClearAndInterrupt","Enqueue"],"default":"ClearAndInterrupt","example":"ClearAndInterrupt"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>发送成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1843985617336143872"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      