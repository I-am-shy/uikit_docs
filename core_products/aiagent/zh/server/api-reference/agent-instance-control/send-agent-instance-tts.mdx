---
id: send-agent-instance-tts
title: "SendAgentInstanceTTS"
description: "本接口可用于主动调用 TTS 服务，以智能体身份向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本消息，会根据 AddHistory 参数决定是否被记录在会话消息历史之中，作为上下文输入给 LLM，同时该消息还会通过 RTC 房间消息下发。)"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>SendAgentInstanceTTS</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口可用于主动调用 TTS 服务，以智能体身份向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本消息，会根据 AddHistory 参数决定是否被记录在会话消息历史之中，作为上下文输入给 LLM，同时该消息还会通过 RTC 房间消息下发。)
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=SendAgentInstanceTTS\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendAgentInstanceTTS"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={false} name={"Text"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 300 characters`"} schema={{"type":"string","description":"用于 TTS 的文本内容，最大不超过 300 个字符。","maxLength":300,"example":"尊敬的开发者你好，欢迎使用 ZEGO RTC 共建实时互动世界。"}}></SchemaItem><SchemaItem collapsible={false} name={"AddHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否将文本消息记录在会话消息历史之中，作为上下文输入给 LLM。","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"InterruptMode"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","deprecated":true,"description":"（已弃用）请使用 Priority 和 SamePriorityOption 参数替代。\n智能体说话时被用户语音打断的模式：\n- 0: 立即打断。如果在 AI 说话时用户说话，那么 AI 将被立刻打断，停止说话（默认）。\n- 1: 不打断。如果在 AI 说话时用户说话，那么 AI 不会被影响直到内容说完。\n","default":0,"example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Priority"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Low`, `Medium`, `High`]"} schema={{"type":"string","description":"任务优先级，默认为 Medium。\n可选值：\n1. Low：低优先级\n2. Medium：中等优先级\n3. High：高优先级\n","enum":["Low","Medium","High"],"default":"Medium","example":"Medium"}}></SchemaItem><SchemaItem collapsible={false} name={"SamePriorityOption"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`ClearAndInterrupt`, `Enqueue`]"} schema={{"type":"string","description":"相同优先级时的打断策略，默认为 ClearAndInterrupt。\n可选值：\n1. ClearAndInterrupt：清空并打断\n2. Enqueue：排队等待，队列最大数量为 5\n","enum":["ClearAndInterrupt","Enqueue"],"default":"ClearAndInterrupt","example":"ClearAndInterrupt"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>发送成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1843985617336143872"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      