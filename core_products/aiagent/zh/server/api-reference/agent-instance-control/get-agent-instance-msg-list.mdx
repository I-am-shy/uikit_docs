---
id: get-agent-instance-msg-list
title: "get-agent-instance-msg-list"
description: "本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。"
api: eJy9WFtTE0kU/itT/aRVE5KgSJGqdddVy6JqXS1EHxby0EyaMO7cnOkobCpVCdcoAVRAEJDLCkKtwqCwEEOQH+P0ZPKUv7DbMwO5AAHEkodQmek+5zu375yTKMAwrIFAC4BhJGEPL2kYShzycLKEVVkAQRaEkMapvIJ5WQIBYM58MIeXyMjb3NiKkRkmMytGeth8nbF6do3dUbI2a3wZtPamrYWUpa/m5zaI/tnS35gTW4VsyhreJiOvrL/f07u7M0b6mZEeNF8N5KZ6za2kmdBJcsJaWPka7wYskBWkQqq0MQQCIIzwNYqw0QV4Wwv/xmsYsECBKhQRRio1IwokKCIQANc4Gy8LeAr6UQSpXaDSlKuMYwkZniOzg2Sk2xxfb5WutkpXmQ6MFS3g9UI+zHkg7zgHKnzNXygsY8R11HDSz46On24dDa2ValfRowivohAIYDWCWAAFQX5yU1Rw1wMoRBAItENBQyzQuA4kQhCIAtylUPwaVnkpDFiApIhI43OMFhCMsUDDXQK91C6rIr3SqQhyCDk6Y2zRJ4rSGKruEvtIIZv64+atOwxJ9uf7hnJTvbmxFTO5TcZ0Ix0nA6uWnnBCVGndISt4CaMwUgFrQ4MYBECEl/ClWhArwXWPD0sQR1T0uyxxqDrA/NSIOZMhqxO5D++M9KdT4nC9Waq0mReRhqGoVNd3X+I7GXNiKz+xaSY3CtkUGRo3doeMdCa3/PJrvNuciZPFKdKXsNbSjN9n++zlXG6q19J1sr327X7iJXzl8tFuqo44t/qFPB8qZFNOgeb/SVl6wtK3zY/duale8jxpboyb8eVv99wBjgdI1U4sMgdO7mnSnPlARrYL2VR+Z9JaWyTxrJHOMLU1vrMhKVZEbY0PBGOxoHMXafhXOdRFL1SKolyGJExfQUUReM6mFe9DjQKMHtYktz1EHC7D1ALKiq8xRIlRUSlHYR5p9HLlgSOQVzBpOWnS4NgVZs4PWHo/dVR8ytobYFpIcprsZCqOBy9493lJQ+pjpHqhwntU1I5UJHHIW8HnIpRgGIlIwl5ORRAjT/mBiy4XUhSjQyQz5tChw9hOhFAnFBWbZ/wNvvr6ujp/fV1tQ72/3n+57grNEIB5bL8/hquanDCBWImsI/x2jHiqQEWaIkua4/Ban4/+K3eqA9hMPifP5sA5Ql8e2+s2nR5RrhXK98bI9GxuPlHIpnyMtbCSW8w4UChx9G0ZO69IPOs8J4sfrc2lr/FuS39n9vRZ+jYZ6bbiPUzLgZSTQqwiHFElDyeHkHaRsfRNc3K4IlS+GAtuI02DYXRyQroksTNqzs440sqirkU4DmkaDZ8bydNkuSOUabxRJuuSv85fV1tf31BbV9dwpaGhnrYEFtyA+BTRaJYxFE4TjuMHDTO+Y46vl0Lyl7jKbqxF+VBV4WFiK51YKAViJGonkUiTLFD2vu5m5SEOsd+fTByO5pEX+XjCivfRZrP80nr6qVXyMBENqQHGadj0O9Q0npYWDjAHBGJPJvssSi8AFhyco6CKcbLfxoqIT4utv4+sfS6LuLE7T5Z2C9mUmXxh9mwYmX5r+a2RjhvpQSOzTEYTxt6CmdDLeGQ/c2NO9Z9ILw45VPCLU7u+kjo4yOSyRD4yJ4sp6SZdbUWStOwHbd+RB55yLQa0c7pHik4+fK6QTVDPTOpkfcR8naGE8SWZfz9J+jattUVL7zd25wvZBIgFY647RIQ7ZApckd1BGHeAAPACFjh04QzEEVX4vxZOM9Ae7t07c7QfDS+RviUys07exAvZpJEeIqkMSfbTz7m5QvapbWJ1NR6tA1ZVZaRXyfQuWVzOv+63lTwz/922ZQdZQOm6qdjjb565edAJpV22s9fNIVlBkg2MwgAseOzOMgHgr/HV+NzWATk75ffn50bG1sdcu9vI3IsoiqxSvyMR8oKdVfaTX6iZnCBHQjWcLNr5TAMkQqlEVBhhT2WH1sIewVlpylwTLTaxH7d8uUWOUSf2KgLkJepDO8RRN89aAGWKDtkuAhCNtkEN3VeFWIw+dkZBmn0hXoNtAmU/d9M51rYLTS5RXmR+wGJ2pIF/oq7S1fGxs6IBO7+/yZCzrVPVMLmr2/khHblAVdF8aDk7P4TvslNVgVy62p0f7Zn2qdM48juiOnmtOg2g4h5XxBWkX1SeAgOBFvojQweCIaTaRe3cdzuYp5mqKN49NGdTG/cri0MKrno2WNLX7t651wxY0OaudaLdyIEKn9CpCj4BAdAKWoH9UxGVYE9Q9vMoEKAUjjjN3pFL//4D2qHrgA==
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>get-agent-instance-msg-list</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=GetAgentInstanceMsgList\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["GetAgentInstanceMsgList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>获取成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"3151527792559699732"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Total"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"被用作上下文的消息总数","example":10}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>消息列表</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"消息发送者的角色\n- user: 用户\n- assistant: 智能体\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息内容","example":"你好，我想了解一下产品信息"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 10,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好，我想了解一下产品信息\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 2,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好\"\n      },\n      {\n        \"Role\": \"assistant\",\n        \"Content\": \"你好！我是小智，很高兴认识你！\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      