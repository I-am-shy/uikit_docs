---
id: get-agent-instance-msg-list
title: "GetAgentInstanceMsgList"
description: "本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>GetAgentInstanceMsgList</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=GetAgentInstanceMsgList\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["GetAgentInstanceMsgList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>获取成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"3151527792559699732"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Total"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"被用作上下文的消息总数","example":10}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>消息列表</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"消息发送者的角色\n- user: 用户\n- assistant: 智能体\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息内容","example":"你好，我想了解一下产品信息"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 10,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好，我想了解一下产品信息\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 2,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好\"\n      },\n      {\n        \"Role\": \"assistant\",\n        \"Content\": \"你好！我是小智，很高兴认识你！\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      