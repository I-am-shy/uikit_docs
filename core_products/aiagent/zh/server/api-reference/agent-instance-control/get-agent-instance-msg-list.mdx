---
id: get-agent-instance-msg-list
title: "GetAgentInstanceMsgList"
description: "本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>GetAgentInstanceMsgList</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口用于在与智能体实例进行语音对话时，获取被用作上下文的消息列表。
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=GetAgentInstanceMsgList\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["GetAgentInstanceMsgList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>获取成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"3151527792559699732"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Total"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"被用作上下文的消息总数","example":10}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>消息列表</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"消息发送者的角色\n- user: 用户\n- assistant: 智能体\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息内容","example":"你好，我想了解一下产品信息"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 10,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好，我想了解一下产品信息\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 2,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"你好\"\n      },\n      {\n        \"Role\": \"assistant\",\n        \"Content\": \"你好！我是小智，很高兴认识你！\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      