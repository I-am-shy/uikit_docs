---
id: send-agent-instance-llm
title: "SendAgentInstanceLLM"
description: "本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>SendAgentInstanceLLM</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=SendAgentInstanceLLM\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendAgentInstanceLLM"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={false} name={"Text"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发送给 LLM 服务的文本内容","example":"今天天气怎么样？"}}></SchemaItem><SchemaItem collapsible={false} name={"SystemPrompt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"是否需要临时修改本次对话的智能体系统提示（prompt），若需要则填写本字段。若填空，则不改动本轮对话的 system prompt。","example":"你是一个友好的天气助手"}}></SchemaItem><SchemaItem collapsible={false} name={"AddQuestionToHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否把问题加入到上下文","default":false,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"AddAnswerToHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否把回答加入到上下文","default":false,"example":true}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>发送成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1843985617336143872"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      