---
id: send-agent-instance-llm
title: "send-agent-instance-llm"
description: "本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>send-agent-instance-llm</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=SendAgentInstanceLLM\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendAgentInstanceLLM"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={false} name={"Text"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发送给 LLM 服务的文本内容","example":"今天天气怎么样？"}}></SchemaItem><SchemaItem collapsible={false} name={"SystemPrompt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"是否需要临时修改本次对话的智能体系统提示（prompt），若需要则填写本字段。若填空，则不改动本轮对话的 system prompt。","example":"你是一个友好的天气助手"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>发送成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1843985617336143872"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>请求错误</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"错误码","example":400}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"错误信息","example":"Invalid request parameters"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"3151527792559699733"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 400,\n  \"Message\": \"Invalid request parameters\",\n  \"RequestId\": \"3151527792559699733\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      