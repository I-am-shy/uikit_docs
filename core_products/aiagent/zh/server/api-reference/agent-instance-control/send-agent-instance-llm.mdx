---
id: send-agent-instance-llm
title: "SendAgentInstanceLLM"
description: "本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>SendAgentInstanceLLM</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口可用于，以用户身份主动调用 LLM 服务，并基于 LLM 的响应内容，以智能体身份主动调用 TTS 服务，向用户发送语音消息。(1. 当调用此接口时，若会话中的智能体正在说话，则该智能体的说话进程会被打断；2. 调用本接口传入的文本信息不会记录在会话历史消息中，也不会通过 RTC 房间消息下发。但 LLM 生成的回复会被记录在会话历史消息中并且会通过 RTC 房间消息下发。)
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=SendAgentInstanceLLM\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendAgentInstanceLLM"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"签名版本号，默认值为 2.0。","required":true,"schema":{"type":"string","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识，通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={false} name={"Text"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发送给 LLM 服务的文本内容","example":"今天天气怎么样？"}}></SchemaItem><SchemaItem collapsible={false} name={"SystemPrompt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"是否需要临时修改本次对话的智能体系统提示（prompt），若需要则填写本字段。若填空，则不改动本轮对话的 system prompt。","example":"你是一个友好的天气助手"}}></SchemaItem><SchemaItem collapsible={false} name={"AddQuestionToHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否把问题加入到上下文","default":false,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"AddAnswerToHistory"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否把回答加入到上下文","default":false,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"Priority"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Low`, `Medium`, `High`]"} schema={{"type":"string","description":"任务优先级，默认为 Medium。\n可选值：\n1. Low：低优先级\n2. Medium：中等优先级\n3. High：高优先级\n","enum":["Low","Medium","High"],"default":"Medium","example":"Medium"}}></SchemaItem><SchemaItem collapsible={false} name={"SamePriorityOption"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`ClearAndInterrupt`, `Enqueue`]"} schema={{"type":"string","description":"相同优先级时的打断策略，默认为 ClearAndInterrupt。\n可选值：\n1. ClearAndInterrupt：清空并打断\n2. Enqueue：排队等待，队列最大数量为 5\n","enum":["ClearAndInterrupt","Enqueue"],"default":"ClearAndInterrupt","example":"ClearAndInterrupt"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>发送成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1843985617336143872"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Succeed\",\n  \"RequestId\": \"1843985617336143872\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      