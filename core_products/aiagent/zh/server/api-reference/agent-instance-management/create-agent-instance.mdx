---
id: create-agent-instance
title: "CreateAgentInstance"
description: "通过本接口，您可以创建智能体实例，并将智能体实例加入到语音（RTC）对话之中。"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-management/open-api-desc
---

<h1 className={"openapi__heading"}>CreateAgentInstance</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


通过本接口，您可以创建智能体实例，并将智能体实例加入到语音（RTC）对话之中。

<Warning title="注意">
1. 如果创建智能体实例的用户超过 120 秒（可通过 AdvancedConfig.MaxIdleTime 参数自定义）不在 RTC 房间内，则智能体实例会自动销毁，并触发 Event 为 AgentInstanceDeleted 的[回调](/aiagent-server/callbacks/receiving-callback)，Data.Code 为 1202。
2. 默认情况下一个账号下最多同时存在 10 个智能体实例，超过限制后创建智能体实例会失败，如需调整请联系 ZEGO 商务。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=CreateAgentInstance\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["CreateAgentInstance"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"已注册的智能体唯一标识符","example":"xiaozhi"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"与该 AI Agent 实例交互的真实用户 ID。 仅支持数字、英文字符、'-'、'_'。","example":"user_1","maxLength":32}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>RTC</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}><div>  <p>RTC 相关信息</p>  <br/>  <strong>📌 重要说明</strong>  <p>所有属性字符限制：仅支持数字、英文字符、'_'、'-'、'.'。</p></div></div><SchemaItem collapsible={false} name={"RoomId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 128 characters`"} schema={{"type":"string","description":"RTC 房间 ID。","maxLength":128,"example":"room_1"}}></SchemaItem><SchemaItem collapsible={false} name={"AgentStreamId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 128 characters`"} schema={{"type":"string","description":"智能体实例推流使用的流 ID。\n> **📌 重要说明**\n>\n> 请确保当前运行中的多个智能体实例（即便不在同一个 RTC 房间）使用不同的流 ID，否则会导致后创建的智能体实例推流失败。\n","maxLength":128,"example":"agent_stream_1"}}></SchemaItem><SchemaItem collapsible={false} name={"AgentUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"智能体实例的用户 ID。\n> **📌 重要说明**\n>\n> 需确保同时在运行中的多个智能体实例（即便不在同一个 RTC 房间）使用不同的用户 ID，否则先创建的智能体实例会被踢出 RTC 房间。\n","maxLength":32,"example":"agent_user_1"}}></SchemaItem><SchemaItem collapsible={false} name={"UserStreamId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 128 characters`"} schema={{"type":"string","description":"真实用户推流使用的流 ID。","maxLength":128,"example":"user_stream_1"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>LLM</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Url"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"接收请求的端点（可以是你自己的服务，也可以是任何 LLM 服务提供商提供的服务），并且必须兼容 [OpenAI Chat Completions API](https://platform.openai.com/docs/api-reference/chat)。\n\n例如：https://api.openai.com/v1/chat/completions\n\n> **📌 重要说明**\n>\n> 如果 ApiKey 设置为 \"zego_test\"，则必须使用以下 Url 地址之一：\n> - MiniMax：https://api.minimax.chat/v1/text/chatcompletion_v2\n> - 火山引擎（豆包）：https://ark.cn-beijing.volces.com/api/v3/chat/completions\n> - 阿里云百炼（通义千问）：https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions\n> - 阶跃星辰：https://api.stepfun.com/v1/chat/completions\n","example":"https://ark.cn-beijing.volces.com/api/v3/chat/completions"}}></SchemaItem><SchemaItem collapsible={false} name={"ApiKey"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"LLM 服务提供商用于认证的参数。默认为空，但在生产环境中必须提供。\n\n> **📌 重要说明**\n>\n> 在接入测试期间(AI Agent 服务开通 2 周内)，可以将该参数值设置为 \"zego_test\" 即可使用该服务。\n","example":"zego_test"}}></SchemaItem><SchemaItem collapsible={false} name={"Model"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"LLM 模型。不同的 LLM 服务提供商支持不同的模型，请参考其官方文档选择合适的模型。\n\n> **📌 重要说明**\n>\n> 如果 ApiKey 设置为 \"zego_test\"，则必须使用以下模型之一：\n> - MiniMax：\n>   - *MiniMax-Text-01*\n> - 火山引擎（豆包）：\n>   - *doubao-1-5-pro-32k-250115*\n>   - *doubao-1-5-lite-32k-250115*\n> - 阿里云百炼（通义千问）：\n>   - *qwen-plus*\n> - 阶跃星辰：\n>   - *step-2-16k*\n","example":"doubao-1-5-lite-32k-250115"}}></SchemaItem><SchemaItem collapsible={false} name={"SystemPrompt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体系统提示（prompt）。调用 LLM 时附加在最前的预定义信息，用于控制 LLM 输出。可以是角色设定、提示词和回答样例等。","example":"你是一个友好的助手"}}></SchemaItem><SchemaItem collapsible={false} name={"Temperature"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 2`"} schema={{"type":"number","description":"数值越高，输出越随机；数值越低，输出越集中和确定。","minimum":0,"maximum":2,"default":0.7,"example":0.7}}></SchemaItem><SchemaItem collapsible={false} name={"TopP"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 1`"} schema={{"type":"number","description":"采样方法，数值越小，确定性越强；数值越大，随机性越强。","minimum":0,"maximum":1,"default":0.9,"example":0.9}}></SchemaItem><SchemaItem collapsible={false} name={"Params"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"LLM 服务提供商支持的其他参数，如最大 Token 数量限制等。不同的 LLM 提供商支持不同的参数，请参考其官方文档并根据需要填写。","example":{"max_tokens":16384}}}></SchemaItem><SchemaItem collapsible={false} name={"AddAgentInfo"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"如果此值为 true，AI Agent 服务器在请求 LLM 服务时会在请求参数中包含智能体信息。\n您可以使用此参数在自定义 LLM 服务中执行额外的业务逻辑。\n\nagent_info 的结构如下：\n- room_id: 房间 ID\n- user_id: 用户 ID\n- agent_instance_id: 智能体实例 ID\n","default":false,"example":false}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>TTS</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Vendor"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`Aliyun`, `ByteDance`, `ByteDanceFlowing`, `MiniMax`, `CosyVoice`]"} schema={{"type":"string","description":"语音合成（TTS）服务提供商。详细请参考[配置 TTS > TTS 参数说明](/aiagent-server/guides/configuring-tts##tts-params)","enum":["Aliyun","ByteDance","ByteDanceFlowing","MiniMax","CosyVoice"],"example":"ByteDance"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Params</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>TTS 配置参数，格式为 JSON 对象。包含 app 参数（用于认证）和其他参数（用于调整 TTS 效果）。详细请参考[配置 TTS > Params 参数说明](/aiagent-server/guides/configuring-tts#params)</div><SchemaItem collapsible={false} name={"app"} required={true} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"用于 TTS 服务鉴权，不同的 Vendor 值要求传入的 app 参数的结构不同，详细请参考[配置 TTS > Params 参数说明](/aiagent-server/guides/configuring-tts#params)"}}></SchemaItem><SchemaItem collapsible={false} name={"other_params"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"\n> **📌 重要说明**\n>\n> other_params 不是一个有效参数，仅仅是为了说明如何透传厂商参数。\n> 除 app 参数外，其余参数均直接透传厂商参数。详细请参考[配置 TTS > Params 参数说明](/aiagent-server/guides/configuring-tts#params)\n"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>FilterText</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>从 LLM 返回的内容中过滤指定标点符号内的文本，然后再进行语音合成。注意：- 需要在 LLM > SystemPrompt 中定义哪些内容应该放在指定标点符号内- 此参数在更新智能体实例时无法更新</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"BeginCharacters"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"过滤文本的开始标点符号。例如，如果要过滤 () 中的内容，请设置为 (。","example":"("}}></SchemaItem><SchemaItem collapsible={false} name={"EndCharacters"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"过滤文本的结束标点符号。例如，如果要过滤 () 中的内容，请设置为 )。","example":")"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"TerminatorText"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 4 characters`"} schema={{"type":"string","maxLength":4,"example":"#-#","description":"可用于设置 TTS 的终止文本。若输入 TTS 的文本中出现匹配 TerminatorText 字符串的内容，则本轮 TTS 从 TerminatorText 字符串（包含）开始的内容将不再进行语音合成。\n> **📌 重要说明**\n>\n> 双向流式只能设置一个字符。\n"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ASR</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Vendor"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Tencent`, `AliyunParaformer`, `AliyunGummy`, `Microsoft`]"} schema={{"type":"string","description":"ASR 厂商。可参考[配置 ASR](/aiagent-server/guides/configuring-asr) 参数说明。","enum":["Tencent","AliyunParaformer","AliyunGummy","Microsoft"],"default":"Tencent","example":"Tencent"}}></SchemaItem><SchemaItem collapsible={false} name={"Params"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"厂商参数，具体使用方式参考[配置 ASR](/aiagent-server/guides/configuring-asr) 中的 Params 参数说明。","example":{"engine_model_type":"16k_zh","hotword_list":"zego|10"}}}></SchemaItem><SchemaItem collapsible={false} name={"VADSilenceSegmentation"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 200` and `<= 2000`"} schema={{"type":"number","description":"用于设置用户说话停顿多少秒后，不再将两句话视为一句。\n单位为 ms，范围 [200，2000]，默认为 500。\n详细说明请参考[语音识别断句](/aiagent-server/advanced/speech-segmentation-control)。\n","minimum":200,"maximum":2000,"default":500,"example":500}}></SchemaItem><SchemaItem collapsible={false} name={"PauseInterval"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 200` and `<= 2000`"} schema={{"type":"number","description":"用于设置用户说话停顿多少秒内，将两句话视为一句，即 ASR 多句拼接。\n单位为 ms，范围 [200，2000]。\n仅当此值大于 VADSilenceSegmentation 时，才会启用 ASR 多句拼接。\n详细说明请参考[语音识别断句](/aiagent-server/advanced/speech-segmentation-control)。\n","minimum":200,"maximum":2000,"example":800}}></SchemaItem><SchemaItem collapsible={false} name={"HotWord"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","deprecated":true,"description":"该参数已废弃。请通过 Params 厂商参数设置。"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageHistory</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>供智能体实例使用的历史消息的配置</div><SchemaItem collapsible={false} name={"SyncMode"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"消息同步模式：\n- 0: 从即时通讯 (ZIM) 同步\n- 1: 通过 Messages 参数同步\n","enum":[0,1],"default":0,"example":0}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Messages</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>**Possible values:** `<= 100`</div><div className={"schema-description"}>消息列表</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"消息发送者的角色\n- user: 用户\n- assistant: 智能体\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息内容","example":"你好，我想了解一下产品信息"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"WindowSize"} required={false} schemaName={"Int"} qualifierMessage={"**Possible values:** `>= 0` and `<= 200`"} schema={{"type":"integer","format":"Int","description":"每次调用 LLM 服务时使用的近期历史消息数量。影响 LLM 上下文理解能力，建议设置为 10-30。","minimum":0,"maximum":200,"default":20,"example":20}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ZIM</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>ZIM 相关信息。<div><br/><strong>📌 重要说明</strong><p>- 仅当 MessageHistory.SyncMode 为 0 时有效。</p><p>- 请确保您的项目已开通 ZIM 服务。</p><p>- 请确保已调用 ZIM 机器人注册接口，并将返回的 UserInfo.UserId 作为 RobotId。</p><p>- 建议您提前注册机器人，以便完善用户信息设置并提升智能体实例的创建效率。</p></div></div><SchemaItem collapsible={false} name={"RobotId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ZIM 机器人 ID。即调用 ZIM [注册机器人](https://doc-zh.zego.im/zim-server/bot/register-bots#请求参数)接口对应的 UserInfo.UserId 。用于加载用户与该 ZIM 机器人的聊天上下文，并将对话过程中产生的消息同步至 ZIM。如果此参数为空，实时互动 AI Agent 后台将随机生成。","example":"@RBT#robot_123"}}></SchemaItem><SchemaItem collapsible={false} name={"LoadMessageCount"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** `>= 0` and `<= 200`"} schema={{"type":"integer","description":"创建智能体实例时，从 ZIM 服务获取多少条消息作为上下文。默认为 WindowSize 的值（取值上限）。","minimum":0,"maximum":200,"example":20}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>CallbackConfig</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>服务端回调配置<div><br/><strong>📌 重要说明</strong><p>在配置以下参数前，你需要参考 [接收回调](/aiagent-server/callbacks/receiving-callback) 设置好回调地址，并了解具体字段说明。</p></div></div><SchemaItem collapsible={false} name={"ASRResult"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调 ASR 结果。","enum":[0,1],"default":0}}></SchemaItem><SchemaItem collapsible={false} name={"LLMResult"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调 LLM 结果。如果开启，则 ZEGO 服务端将会按照每句话返回 LLM 输出结果。","enum":[0,1],"default":0}}></SchemaItem><SchemaItem collapsible={false} name={"Interrupted"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调智能体被打断结果。","enum":[0,1],"default":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserSpeakAction"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调用户说话的回调。","enum":[0,1],"default":0}}></SchemaItem><SchemaItem collapsible={false} name={"AgentSpeakAction"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调智能体说话的回调。","enum":[0,1],"default":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserAudioData"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"是否开启服务端回调用户说话音频数据。","enum":[0,1],"default":0}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>AdvancedConfig</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"InterruptMode"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","description":"智能体说话时被用户语音打断的模式：\n- 0: 立即打断。如果在 AI 说话时用户说话，那么 AI 将被立刻打断，停止说话。\n- 1: 不打断。如果在 AI 说话时用户说话，那么 AI 不会被影响直到内容说完。\n","enum":[0,1],"default":0,"example":0}}></SchemaItem><SchemaItem collapsible={false} name={"MaxIdleTime"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** `>= 10` and `<= 1800`"} schema={{"type":"integer","description":"智能体实例的自动销毁时间。创建实例的用户（UserId）若超过 MaxIdleTime 不在 RTC 房间内，则智能体实例会自动销毁，并触发 Event 为 AgentInstanceDeleted 的[回调](/aiagent-server/callbacks/receiving-callback)，Data.Code 为 1202。默认为 120s，取值范围 [10, 1800]。","minimum":10,"maximum":1800,"default":120,"example":120}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>创建成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码，0 表示成功，其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"Success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"3151527792559699732"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识。","example":"1912122918452641792"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"AgentInstanceId\": \"1912122918452641792\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      