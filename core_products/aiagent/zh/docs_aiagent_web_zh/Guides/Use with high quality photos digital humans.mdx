# 和精品照片数字人搭配使用

---

精品照片数字人是 AI Agent SDK 的一项高级功能，它能让您的 AI 助手拥有逼真的数字人形象，提供更加自然和沉浸式的交互体验。本文将指导您如何在 AI Agent SDK 中使用精品照片数字人功能。

## 前提条件

在开始使用精品照片数字人功能之前，请确保：

1. 已完成[快速开始](../Quick%20Start/Based%20on%20%20SDK.mdx#初始化用户信息和-ai-agent-sdk-参数)中 AI Agent SDK 的初始化，包括配置认证信息和用户信息。
2. 已创建基础会话，了解基本的会话管理流程。
3. 已在 [控制台](https://console.zego.im/) 开通精品照片数字人相关服务。

## 功能特点

高品质视觉效果：基于精品照片的数字人形象，提供逼真的面部表情和动作。

## 使用步骤

<Steps>
<Step title="创建数字人会话">
在调用 [startChat](../Client%20API/API%20reference.mdx#startchat) 创建会话时，需要设置 [chatMode](../Client%20API/Entity.mdx#chatmode) 为 `ChatMode.MetaHuman`，并传入 `metaHumanStreamId` 和 `metaHumanId` 参数。

```typescript
// AI Agent SDK

// 开始数字人聊天
const metaHumanOptions = {
    conversationId: 'conversation_id',      // 会话ID，需要与创建会话时的ID一致
    roomId: 'room_id',                     // 房间ID，用于音视频通信
    userStreamId: 'user_stream_id',        // 用户流ID
    agentStreamId: 'agent_stream_id',      // 智能体流ID
    chatMode: ChatMode.MetaHuman,          // 聊天模式：数字人
    metaHumanStreamId: 'meta_human_stream_id', // 数字人流ID
    metaHumanId: 'meta_human_id',   // 数字人ID，联系技术支持获取。
};

try {
    const startResult = await aiAgent.startChat(metaHumanOptions);
    if (startResult.code === 0) {
        console.log('数字人聊天开始成功');
        // 在这里可以进行后续的交互操作
    }
} catch (error) {
    console.error('开始数字人聊天失败:', error);
    // 处理错误情况
}
```

</Step>
<Step title="结束数字人会话">
当需要结束数字人会话时，调用 [stopChat](../Client%20API/API%20reference.mdx#stopchat) 方法：

```typescript
try {
    const stopResult = await aiAgent.stopChat('conversation_id');
    if (stopResult.code === 0) {
        console.log('数字人聊天结束成功');
    }
} catch (error) {
    console.error('结束数字人聊天失败:', error);
}
```

</Step>
</Steps>


## 注意事项

1. 确保在调用 [startChat](../Client%20API/API%20reference.mdx#startchat) 之前已经完成 SDK 初始化和会话创建。
2. 数字人相关的配置参数（如 metaHumanId等）联系技术支持获取。
