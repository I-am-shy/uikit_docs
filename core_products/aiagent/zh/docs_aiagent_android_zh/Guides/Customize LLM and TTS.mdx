# 自定义 LLM、TTS 等组件

- - -

<Note title="说明">

ZEGO AI Agent 服务端内置了对第三方 LLM 和 TTS 的支持，开发者可以使用 ZEGO 提供的子账号，也可以使用自己在第三方开通的账号，请在开通服务时将相关信息提供给 ZEGO 技术支持。

</Note>

## 自定义 LLM

在 CustomAgentConfig 下有一个 LLM 字段可用于设置 LLM 相关的参数，开发者可以在创建会话、修改会话、创建模版、修改模版等接口中进行设置。

### 使用示例

以下是在创建会话时通过服务端API自定义 LLM 的示例：

```json
{
  "ConversationId": "test_conversation_001",
  "UserId": "test_user_001",
  "AgentId": "@RBT#test_agent_001",
  "CustomAgentConfig": {
    "Name": "AI助手",
    "System": "你是一个专业的AI助手",
    "LLM": {
      "Type": "Minimax",
      "Model": "abab6.5s-chat",
      "ExtensionLLMParams": "{\"temperature\":0.7,\"top_p\":0.9}"
    }
  }
}
```

### 设置 LLM 模型

AI Agent 会将 Model 透传给第三方 LLM，不同 LLM 平台支持的模型不同，请参考各平台的官方文档进行配置。豆包的 Model 为推理接入点。

### 设置 LLM 扩展参数

AI Agent 会将 ExtensionLLMParams 透传给第三方 LLM，不同 LLM 平台支持的参数不同，请参考各平台的官方文档进行配置。

## 自定义 TTS

在 CustomAgentConfig 下有一个 TTS 字段可用于设置 TTS 相关的参数，开发者可以在创建会话、修改会话、创建模版、修改模版等接口中进行设置。

### 使用示例

以下是在创建会话时通过服务端API自定义 TTS 的示例：

```json
{
  "ConversationId": "test_conversation_002",
  "UserId": "test_user_001",
  "AgentId": "@RBT#test_agent_002",
  "CustomAgentConfig": {
    "Name": "语音助手",
    "System": "你是一个专业的语音助手",
    "TTS": {
      "Type": "Aliyun",
      "Voice": "xiaogang",
      "ExtensionTTSParams": "{\"speech_rate\":100,\"pitch_rate\":0}"
    }
  }
}
```

### 设置 TTS 音色

AI Agent 会将 Voice 透传给第三方 TTS，不同 TTS 平台支持的音色不同，请参考各平台的官方文档进行配置。
