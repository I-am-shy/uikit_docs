# 获取会话列表
---

##  描述

本接口可用于获取指定用户的会话列表，也可用于查询单个会话的详细信息。您可以基于返回结果维护已存在的会话列表。

## 接口原型

- 请求方法：POST
- 请求地址：`https://aigc-chat-api.zegotech.cn?Action=DescribeConversationList`
- 传输协议：HTTPS
- 调用频率限制：10 次/秒

## 请求参数

| 参数 | 类型 | 是否必选 | 描述 |
|------|------|---------|------|
| UserId | String | 是 | 用户 ID。 |
| ConversationId | String | 否 | 会话 ID。 |
| PageNum | Number | 否 | 从第几页开始查询。默认为 1。 |
| PageSize | Number | 否 | 返回结果包含的会话详情数量上限。默认为 100。 |

## 请求示例
- 请求地址 URL：

```https
https://aigc-chat-api.zegotech.cn?Action=DescribeConversationList
&<公共请求参数>
```

- 请求消息体：
```json
{
  "UserId": "test_user_001",
  "ConversationId": "test_conversation_001",
  "PageNum": 1,
  "PageSize": 10
}
```

## 响应参数

| 参数 | 类型 | 描述 |
|------|------|------|
| Code | Number | 返回码。0 表示成功，其他值表示失败。如需了解错误码及响应处理建议，请参考 [返回码](./../Return%20codes.mdx)。 |
| Message | String | 请求结果的说明信息。 |
| RequestId | String | 请求 ID。 |
| Data | Object | 返回数据。 |
|   └Total | Number | 会话总数。 |
|   └ConversationList | Array of Object | 会话详情。本参数结构请见 [ConversationInfo](#conversationinfo) |

### ConversationInfo

| 参数 | 类型 | 描述 |
|------|------|------|
| ConversationId | String | 会话 ID，会话的唯一标识。 |
| UserId | String | 用户 ID。 |
| AgentId | String | 智能体 ID。 |
| AgentTemplateId | String | 智能体模版 ID。 |
| CustomAgentConfig | Object | 自定义智能体参数。本参数结构请见 [常用参数说明 - CustomAgentConfig](./../Common%20Parameter%20Description.mdx#customagentconfig)。 |

## 响应示例

```json
{
    "Code": 0,
    "Message": "success",
    "RequestId": "1898302332764950528",
    "Data": {
        "Total": 1,
        "ConversationList": [
            {
                "ConversationId": "test_conversation_001",
                "UserId": "test_user_001",
                "AgentId": "@RBT#test_agent_001",
                "AgentTemplateId": "template_001",
                "CustomAgentConfig": {
                    "Name": "AI助手",
                    "Avatar": "https://example.com/avatar.png",
                    "Intro": "我是一个AI助手",
                    "System": "你是一个专业的AI助手",
                    "LLM": {
                        "Type": "WenXin",
                        "Model": "ERNIE-Bot-4"
                    }
                }
            }
        ]
    }
}
```

