# 常用参数说明

---

## CustomAgentConfig

| 参数            | 类型   | 是否必选 | 描述                                                                                                 |
| --------------- | ------ | -------- | ---------------------------------------------------------------------------------------------------- |
| AgentTemplateId | String | 否       | 智能体模版 ID。<ul><li>创建或更新会话时无需传入。</li><li>创建或更新模版时必填。</li></ul>           |
| Name            | String | 否       | 智能体模版名称，长度不超过 64 字节。                                                                 |
| Avatar          | String | 否       | 智能体头像 URL。长度不超过 500 字节。                                                                |
| Intro           | String | 否       | 智能体简介。                                                                                         |
| System          | String | 否       | 智能体系统提示（prompt）。                                                                           |
| LLM             | Object | 否       | 大语言模型参数。本参数结构，请见 [LLM](#llm)。                                                            |
| TTS             | Object | 否       | 文本转语音参数。本参数结构，请见 [TTS](#tts)。                                                              |
| Source          | String | 否       | 模版来源，查询模版列表时返回：<ul><li>`Zego`: 表示模版由即构提供。</li><li>`Customer`: 表示模版由客户提供。</li></ul> |
| Sex             | String | 否       | 智能体的性别。ZEGO 仅作透传。                                                       |
| WelcomeMessage  | String | 否       | 智能体的文本欢迎语。如果不填，按照"你好，我是某某某"的格式下发。                                         |

## LLM

| 参数               | 类型            | 是否必选 | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------------------ | --------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Type               | String          | 是       | 大语言模型（LLM）类型。可选：<ul><li>`WenXin`：文心一言。</li><li>`Doubao`：豆包。</li><li>`Minimax`：MiniMax。</li><li>`StepFun`：阶跃星辰。</li><li>`Qwen`：通义千问。</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Model              | String          | 是       | 模型名称。不同 LLM 支持的模型不同，具体请参考对应云商的官网文档：<ul><li>文心一言：[推理服务 API V1 - 接口概览 - 对话 Chat](https://cloud.baidu.com/doc/WENXINWORKSHOP/s/om5aq2brc#%E5%AF%B9%E8%AF%9Dchat)</li><li>豆包：[对话(Chat)-文本 API - 请求参数 - 请求体 - model](https://www.volcengine.com/docs/82379/1298454#%E8%AF%B7%E6%B1%82%E4%BD%93)</li><li>MiniMax：[ChatCompletion v2 - 支持模型和token数](http://platform.minimaxi.com/document/ChatCompletion%20v2?key=66701d281d57f38758d581d0#QklxsNSbaf6kM4j6wjO5eEek)</li><li>阶跃星辰：[模型列表 - 文本大模型](https://platform.stepfun.com/docs/llm/text)</li><li>通义千问：[模型列表 - 通义千问-Plus](https://help.aliyun.com/zh/model-studio/getting-started/models?spm=a2c4g.11186623.help-menu-2400256.d_0_2.4b75453a44gPA0#6c45e49509gtr)</li></ul>   <Note title="说明">使用 ZEGO 配置测试期间 Doubao 可选：<ul><li> Doubao-pro-32k：ep-20241206201351-2nbh7 </li><li> Doubao-pro-128k：ep-20241216151207-5zb2d </li><li> Doubao-1.5-lite-32k：ep-20250313172810-89ktv </li><li> Doubao-1.5-pro-32k：ep-20250313172853-pk4gv </li></ul></Note> |
| IgnoreBracketText  | Array of Integer | 否       | 移除 LLM 返回结果中不需要的内容。支持取值及含义如下：<ul><li>`1`：emoji 表情。</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ResponseFormatType | Int             | 否       | 大模型返回内容格式。<ul><li>`0`：常规文本（默认）</li><li>`1`：JSON</li></ul> |
| ResponseMessageName| String          | 否       | 大模型返回 JSON 时，TTS 读取内容的字段名，当 ResponseFormatType 值为1时才有效。 |



## TTS

| 参数 | 类型 | 是否必选 | 描述   |
| ----------------------- | --------------- | -------- | ----- |
| Type                    | String          | 是       | 文本转语音（TTS）类型。可选：<ul><li>`Aliyun`：阿里云 TTS。</li><li>`Huoshan`：火山云 TTS。</li><li>`Minimax`：MiniMax TTS， Minimax 在扩展参数 ExtensionTTSParams 中如果指定 model，将使用 ExtensionTTSParams 的指定的 model。</li></ul> |
| Voice                   | String          | 是       | 音色，不同 TTS 支持的音色不同。具体请参考对应云商的官网文档：<ul><li>阿里云 TTS：[语音合成 - 接口说明 - 音色列表](https://help.aliyun.com/zh/isi/developer-reference/overview-of-speech-synthesis?spm=a2c4g.11186623.0.0.54de622dhrDXcY#5186fe1abb7ag)</li><li>火山云 TTS：[大模型语音合成 - 音色列表](https://www.volcengine.com/docs/6561/1257544)</li><li>MiniMax：[T2A v2（语音生成） - API说明 - ](https://platform.minimaxi.com/document/T2A%20V2?key=66719005a427f0c8a5701643#YqSh1KAoyms1WH4XJrdeIrrb)</li></ul> |
| ExtensionParams         | Object          | 否       | 第三方 TTS 扩展参数。本参数结构，请见 [ExtensionParams](#extensionparams)。 |
| IgnoreBracketText       | Array of Integer | 否       | <p>将 LLM 返回内容中指定标点符号中的文字过滤后，再进行语音合成。</p><p>支持取值及含义如下：</p><ul><li>1：中文括号（）</li><li>2：英文括号()</li><li>3：中文方括号【】</li><li>4：英文方括号[]</li><li>5：英文花括号{}</li><li>默认值：[1, 2]，表示对（）、()、过滤</li><li>空数组：传 []，代表值为空，不进行过滤。</li></ul><Note title="说明">你可以在 [CustomAgentConfig > System](#customagentconfig) 中自行定义哪些内容需要放在指定标点符号内。</Note> |
| IgnoreCustomBracketText | Array of String | 否       | <p>将 LLM 返回内容中两个相同内容之间的文字过滤后，再进行语音合成。</p><ul><li>配置：["###"]</li><li>效果：<br/>###<br/>被忽略的内容<br/>###</li></ul>    |
| SilenceDuration         | Int          | 否       | 在基于 ZEGO 断句进行 TTS 时，断句停顿额外增加对应的耗时。默认为 0，单位为毫秒。取值范围 [0, 5000]。 |
| ExtensionTTSParams      | String          | 否       | <p>第三方 TTS 请求参数，一般为第三方请求体。</p><p>格式为：转义之后的 JSON 字符串。</p>比如：`\{\"key1\":\"value1\",\"key2\":\"value2\",\"key3\":0.1,\"key4\":1.0\}`<p>目前支持第三方的参数：</p><ul><li>MiniMax 大模型 TTS。</li><li>火山引擎 TTS（大模型语音合成API)。</li><li>火山引擎 TTS（双向流式 API）。</li></ul>本参数结构，请见 [ExtensionTTSParams（各第三方 TTS 扩展透传参数说明）](#extensionttsparams各第三方-tts-扩展透传参数说明)。    |

## ExtensionParams

| 参数       | 类型   | 是否必选 | 描述                                                                                                                                                                                                                                                            |
| ---------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Cluster    | String | 否       | 集群 id，仅适用于火山云，使用火山复刻音色时并且普通流式API时需指定。<br/> ⚠️注意，此字段会被ExtensionTTSParams的Cluster替换掉                                                                                                                                      |
| ApiType    | String | 否       | 第三方 API 类型，仅适用于火山引擎：<ul><li>stream：大模型语音合成 API</li><li>bidirection：双向流式 API</li></ul>                                                                                                                                               |
| ResourceId | String | 否       | 资源 ID，仅适用于火山引擎。当您使用火山引擎 TTS 双向流式 API 时需指定:<ul><li>volc.service_type.10029：大模型语音合成</li><li>声音复刻 2.0（不支持声音复刻 1.0）：<ul><li>小时版：volc.megatts.default</li><li>并发版：volc.megatts.concurr</li></ul></li></ul> |


## ASR

| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| HotWordId | String | 否 | 热词ID。<br/>[腾讯](https://cloud.tencent.com/document/product/1093/41111)<br/>[阿里](https://help.aliyun.com/zh/model-studio/developer-reference/custom-hot-words?spm=a2c4g.11186623.help-menu-2400256.d_3_3_7_3_3.677b54e0EZNOMD) |
| HotWord | String | 否 | 临时热词，仅支持[腾讯ASR](https://cloud.tencent.com/document/product/1093/48982)，各热词用逗号分隔开 |
| ExtensionASRParams | String | 否 | ASR 扩展参数，支持腾讯和百炼ASR。格式需要将json转义成字符串，如： <br/> `"{\"engine_model_type\":\"standard\",\"filter_dirty\":1,\"filter_modal\":1,\"filter_punc\":1,\"noise_threshold\":0.5,\"needvad\":1,\"filter_empty_result\":1,\"format\":\"wav\",\"sample_rate\":16000,\"disfluency_removal_enabled\":true,\"language_hints\":[\"zh-CN\"],\"semantic_punctuation_enabled\":true}"`<br/><br/>[阿里ASR](https://help.aliyun.com/zh/model-studio/developer-reference/websocket-for-paraformer-real-time-service?spm=a2c4g.11186623.help-menu-2400256.d_3_3_7_3_0_2.6cf354e0CkLwkX)<br/>阿里支持的字段：<ul><li>1. format - 音频格式2. sample_rate - 采样率</li><li>3. disfluency_removal_enabled - 是否过滤语气词</li><li>4. language_hints - 指定语言，仅支持paraformer-realtime-v2模型</li><li>5. semantic_punctuation_enabled - 是否开启语义断句</li><li>6. model - 引擎模型类型</li></ul><br/>[腾讯ASR](https://cloud.tencent.com/document/product/1093/48982)<br/>腾讯支持的字段:<ul><li>1. engine_model_type - 引擎模型类型</li><li>2. filter_dirty - 是否过滤脏话</li><li>3. filter_modal - 是否过滤语气词</li><li>4. filter_punc - 是否过滤句末的句号</li><li>5. noise_threshold - 噪声阈值</li><li>6. needvad - 是否需要语音活动检测</li><li>7. filter_empty_result - 是否过滤空结果 </li></ul>|


## ExtensionTTSParams（各第三方 TTS 扩展透传参数说明）

<Warning title="注意">
使用 ExtensionTTSParams 时，需要将以下 JSON 格式内容转义为字符串（`\" key/value \"`）。
</Warning>

<Tabs title="TTS厂商">
<Tab title="MiniMax TTS">

MiniMax TTS 的 JSON 格式说明请参考 MiniMax 官方文档 [T2A v2（语音生成）](https://platform.minimaxi.com/document/T2A%20V2?key=66719005a427f0c8a5701643)（请参考其中开启“流式”的请求体）。

当前仅支持以下字段：
- speed
- vol
- pitch
- emotion

json 示例：

```json
{
    "model": "speech-01-turbo",
    "voice_setting":{
        "speed": 1,
        "vol": 1,
        "pitch": 0,
        "emotion": "happy"
    }
}
```
转义后的字符串示例：

`"{\"model\": \"speech-01-turbo\",\"voice_setting\": {\"speed\": 1, \"vol\": 1, \"pitch\": 0, \"emotion\": \"happy\"}}"`

</Tab>
<Tab title="火山引擎 TTS（大模型语音合成API)(默认)">

火山引擎 TTS（大模型）单向(默认)的 JSON 格式说明请参考火山引擎官方文档 [大模型语音合成API](https://www.volcengine.com/docs/6561/1257584)。

当前仅支持以下字段：
- cluster   

  集群 ID，默认为 `volcano_tts`（普通音色集群）。当您使用火山引擎 TTS 复刻音色以及其大模型语音合成 API 时需指定本参数为 `volcano_icl`（声音复刻集群）。

- speed_ratio

json 示例：
```json
{
    "app": {
        "cluster": "volcano_tts"
    },
    "audio": {
        "speed_ratio": 1.0
    }
}
```
转义后的字符串示例：

`"{\"app\": {\"cluster\": \"volcano_tts\"}, \"audio\": {\"speed_ratio\": 1.0}}"`
</Tab>
<Tab title="火山引擎 TTS（双向流式 API）">

火山引擎 TTS（双向流式 API）的 JSON 格式说明请参考火山引擎官方文档 [双向流式API](https://www.volcengine.com/docs/6561/1329505)。

当前仅支持以下字段：
- pitch_rate
- speech_rate

json示例：
```json
{
    "req_params": {
        "audio_params": {
            "pitch_rate": 0,
            "speech_rate": 100
        }
    }
}
```
转义后的字符串示例：

`"{\"req_params\": {\"audio_params\": {\"pitch_rate\": 0, \"speech_rate\": 100}}}"`
</Tab>
</Tabs>

---

## ChatConfig

| 参数                  | 类型   | 是否必选 | 描述                                                                                                                                   |
|----------------------|--------|----------|--------------------------------------------------------------------------------------------------------------------------------------|
| LLMSystemMode        | int    | 否       | LLM 的 System 输入来源，支持的值如下：<ul><li>0：使用当前会话配置中的 `System`。</li><li>1：既使用当前会话配置中的`System`，您也可以基于用户语音 ASR 识别结果自定义本轮对话的 `System`，即总共存在两个 `System`。</li><li>2：由您基于用户语音 ASR 识别结果自定义本轮对话 System。若 5s 内您没有返回，则 ZEGO 服务端不再等待，使用当前会话配置中的 `System`，即仅会存在一个 `System`</li></ul><Note title="注意">基于ASR语音识别结果，自定义当轮对话 LLM - System的处理方式，请查看 [自定义 LLM System 回调](./Callbacks/Custom%20LLM%20System%20Callback.mdx)。</Note> |
| EnableLLMServerMessage | Int  | 否       | 是否开启服务端回调 LLM 结果。若开启，则按照每句话返回 LLM 输出结果。回调内容请参考 [通用回调](./../Callbacks/General%20Callback.mdx)。支持的值如下：<ul><li>0：不开启。（默认）</li><li>1：开启。</li></ul>                                               |
