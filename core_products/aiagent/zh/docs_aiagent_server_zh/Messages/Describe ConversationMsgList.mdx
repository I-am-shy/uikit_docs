# 获取会话上下文消息

---

##  描述

本接口可用于获取指定会话中 LLM 使用的上下文消息。可以通过 [重置会话上下文消息](./Reset%20ConversationMsg.mdx) 接口重置该消息内容，该消息内容是历史记录的子集。

## 接口原型

- 请求方法：POST
- 请求地址：`https://aigc-chat-api.zegotech.cn?Action=DescribeConversationMsgList`
- 传输协议：HTTPS
- 调用频率限制：10 次/秒
## 请求参数

| 参数 | 类型 | 是否必选 | 描述 |
|------|------|---------|------|
| UserId           | String | 是    | 用户 ID，仅支持数字、英文字符、'-'、'_'，长度上限为 32 字节。                                 |
| ConversationId   | String | 是    | 会话的唯一标识。需要保证全局唯一。仅支持数字、英文字符、'-'、'_'，长度上限为 128 字节。                      |

## 请求示例

- 请求地址 URL：

```https
https://aigc-chat-api.zegotech.cn?Action=DescribeConversationMsgList
&<公共请求参数>
```

- 请求消息体：

```json
{
  "UserId": "test_user_001",
  "ConversationId": "test_conversation_001"
}
```

## 响应参数

| 参数 | 类型 | 描述 |
|------|------|------|
| Code | Number | 返回码。0 表示成功，其他值表示失败。如需了解错误码及响应处理建议，请参考 [返回码](./../Return%20codes.mdx)。 |
| Message | String | 返回信息描述。 |
| Data | Object | 返回数据。 |
| &nbsp;└Total | Number | 消息总数。 |
| &nbsp;└MessageList | Array of [Message](#message) | 历史上下文，目前最多返回 100 条消息。 |

### Message
| 参数 | 类型 | 描述 |
|------|------|------|
| Role | String | 角色。可选：<ul><li>`user`：用户。</li><li>`assistant`：智能体。</li></ul> |
| Content | String | 角色发送的消息内容。 |
## 响应示例

```json
{
    "Code": 0,
    "Message": "success",
    "Data": {
        "Total": 2,
        "MessageList": [
            {
                "Role": "user",
                "Content": "你好，请问你是谁？"
            },
            {
                "Role": "assistant",
                "Content": "你好！我是AI助手，很高兴为你服务。"
            }
        ]
    }
}
```

