# 智能体参数说明

---

## LLM

| 参数            | 类型            | 是否必选 | 描述                                                                                                                                                  |
|-----------------|-----------------|----------|-------------|
| Url             | String          | 是       | 接收请求的端点 (可以是您自己的服务，也可以是任意 LLM 服务供应商提供的服务)，需与 [OpenAI Chat Completions API](https://platform.openai.com/docs/api-reference/chat) 兼容。<br/>比如：https://api.openai.com/v1/chat/completions                                                                  |
| ApiKey          | String          | 否       | LLM 服务供应商用于鉴权的参数。默认为空，生产环境中务必传入。             |
| Model           | String          | 是       | LLM 模型。不同的 LLM 服务供应商支持的模型各异，请参考其官网文档选择合适的模型。 |
| SystemPrompt    | String          | 否       | 智能体系统提示（prompt）。调用 LLM 时附加在最前的预定义信息，用于控制 LLM 输出。可以是角色设定、提示词和回答样例等。   |
| Temperature     | Float           | 否       | 较高的值将使输出更加随机，而较低的值将使输出更加集中和确定。    |
| TopP            | Float           | 否       | 采样方法，数值越小结果确定性越强；数值越大，结果越随机。    |
| Params          | Object          | 否       | LLM 服务供应商支持的其他参数，例如最大 Token 数限制等。不同的 LLM 供应商支持的参数各异，请参考其官网文档按需填入。 |

```json title="Params 示例"
"Params": {
    "max_tokens": 1024
}
```

## TTS

| 参数 | 类型 | 是否必选 | 描述   |
| ----------------------- | --------------- | -------- | ----- |
| Vendor                    | String          | 是       | 文本转语音（TTS）服务供应商。可选：<ul><li>`Aliyun`：阿里云。</li><li>`ByteDance`：火山引擎（大模型语音合成 API）。</li><li>`ByteDanceFlowing`：火山引擎（双向流式 API）。</li><li>`MiniMax`：MiniMax。</li></ul> |
| Params         | Object          | 否       | TTS 配置参数，格式为 JSON 对象。<p />`Params` 中包含 `app` 参数和 `其他参数`。<ul><li>`app` 参数：用于鉴权，您需要传入各服务提供商的鉴权信息。如需获取具体说明，请联系 ZEGO 技术支持。</li><li>`其他参数`：用于调整 TTS 效果。传入内容会直接透传给 TTS 服务提供商。您可以根据 `Vendor`的值，参考如下服务提供商的官方文档获取所需信息：<ul><li>`Aliyun`：[智能语音合成 - 接口说明](https://help.aliyun.com/zh/isi/developer-reference/overview-of-speech-synthesis?spm=a2c4g.11186623.help-menu-30413.d_3_1_0_0.9e5b1f01YvXYPa&scm=20140722.H_84435._.OR_help-T_cn~zh-V_1#section-ljp-l5z-efu)</li><li>`ByteDance`：[大模型语音合成 API](https://www.volcengine.com/docs/6561/1257584#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0)</li><li>`ByteDanceFlowing`：[双向流式 API - WebSocket 二进制协议](https://www.volcengine.com/docs/6561/1329505#websocket-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8D%8F%E8%AE%AE) 中 “**Payload 请求参数”**。</li><li>`MiniMax`：[语音模型 - T2A v2 - HTTP接口](https://platform.minimaxi.com/document/T2A%20V2?key=66719005a427f0c8a5701643#YqSh1KAoyms1WH4XJrdeIrrb)</li></ul></li></ul>如需参考，请查看下文 [Params 示例代码](#params-示例代码)。 |
| FilterText       | Array of Object | 否       | <p>将 LLM 返回内容中指定标点符号中的文字过滤后，再进行语音合成。本参数结构，请参考 [FilterText](#filtertext)。</p><Note title="说明"><ul><li>你需要在 [LLM > SystemPrompt](#LLM) 中自行定义哪些内容需要放在指定标点符号内。</li><li>不支持在 [修改智能体实例](./Agent%20Instance%20Management/Update%20Agent%20instance.mdx) 时更新本参数。</li></ul></Note>  |

### Params 示例代码

<CodeGroup>
```json title="适用于 Aliyun"
"TTS": {
    "Vendor": "Aliyun",
    "Params": {
        "app":{
            "app_key": "your key",
            "ak_id": "your ak id",
            "ak_key": "your ak key"
        },
        "voice": "zhitian_emo"
    }
}
```
```json title="适用于 ByteDance"
/*
    cluster 配置说明： 
    默认 ：volcano_tts：普通音色的集群
          volcano_mega： 声音复刻大模型 1.0
          volcano_icl：声音复刻大模型 2.0
*/

"TTS": {
    "Vendor": "ByteDance",
    "Params": {
        "app": {
            "appid": "your_appid",
            "token": "your_token",
            "cluster": "volcano_tts"
        },
        "audio": {
            "voice_type": "your_voice_type"
        }
    }
}
```
```json title="适用于 ByteDanceFlowing"
/*
    resource_id 配置说明： 
    默认 ：volc.service_type.10029， 即：火山大模型语音合成
    声音复刻2.0：
       volc.megatts.default（小时版）
       volc.megatts.concurr（并发版） 
    ⚠️（不支持声音复刻1.0）
    ⚠️注意：speaker（音色 ID）和 resource_id 要匹配
*/

"TTS": {
    "Vendor": "ByteDanceFlowing",
    "Params": {
        "app": {
            "appid": "your appid",
            "token": "your token",
            "resource_id": "volc.service_type.10029" // 音色
        },
        "req_params": {
            "speaker": "zh_female_qingxinnvsheng_mars_bigtts" // 音色 ID
        }
    }
}
```
```json title="适用于 MiniMax"
"TTS": {
    "Vendor": "Minimax",
    "Params": {
        "app": {
            "group_id": "your_group_id",
            "api_key":  "your_api_key",
        },
        "model": "speech-02-turbo-preview",
        "voice_setting": {
            "voice_id": "male-qn-qingse"
        }
    }
}
```
</CodeGroup>

### FilterText

| 参数            | 类型   | 是否必选 | 描述   |
|-----------------|--------|----------|--------|
| BeginCharacters  | String | 是       | 过滤文本的开始标点符号。如要过滤 `()` 中的内容，则此处设置为 `(`。|
| EndCharacters    | String | 是       | 过滤文本的结束标点符号。如要过滤 `()` 中的内容，则此处设置为 `)`。|

```json
"FilterText": [
    {
        "BeginCharacters": "(",
        "EndCharacters": ")"
    },
    {
        "BeginCharacters": "（",
        "EndCharacters": "）"
    }
]
```

## ASR

| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| HotWord | String | 否 | 热词表，用于提升识别准确率。格式：`热词1\|权重1,热词2\|权重2,热词3\|权重3`。<p />单个热词不超过 30 个字符（最多 10 个汉字），不能包含空格，权重范围：[-1, 11]。<p />最多支持 128 个热词。<Note title="说明">当权重为 11 时，表示该词为超级热词。建议仅将重要且必须生效的热词设置到 11，过多权重为 11 的热词会影响识别效果。</Note>|
| Params | Object | 否 | 扩展参数，详情请联系 ZEGO 技术支持。 |
| VADSilenceSegmentation | Number | 否 | 用于设置用户说话停顿多少秒后，不再将两句话视为一句。单位为 ms，范围 [200，2000]，默认为 500。 |
| PauseInterval | Number | 否 | 用于设置用户说话停顿多少秒内，将两句话视为一句，即 ASR 多句拼接。单位为 ms，范围 [200，2000]。仅当此值大于 `VADSilenceSegmentation`，才会开启 ASR 多句拼接。 |

```json
"ASR": {
    "HotWord": "历史类|10,物理类|10,体育类|10"
}
```

## Agents

| 参数 | 类型 | 描述 | 
| --- | --- | --- | 
| AgentId | String | 智能体的唯一标识。 | 
| Name | String | 智能体名称。 | 
| LLM | Object | 大语言模型参数。本参数结构，请见本文 [LLM](#llm)。                                                            |
| TTS | Object | 文本转语音参数。本参数结构，请见本文 [TTS](#tts)。                                                              |
| ASR | Object | 语音识别参数。本参数结构，请见本文 [ASR](#asr)。                                                              |