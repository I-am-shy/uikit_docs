---
id: get-agent-instance-msg-list
title: "GetAgentInstanceMsgList"
description: "This interface is used to obtain the message list used as context when interacting with the AI agent instance."
api: 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
info_path: core_products/aiagent/en/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>GetAgentInstanceMsgList</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


This interface is used to obtain the message list used as context when interacting with the AI agent instance.
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API Prototype Parameter\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=GetAgentInstanceMsgList\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["GetAgentInstanceMsgList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature sample code](/aiagent-server/api-reference/accessing-server-apis#signature-sample-code) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature sample code](/aiagent-server/api-reference/accessing-server-apis#signature-sample-code) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The unique identifier of the AI agent instance, obtained through the response parameters of the [Create AI Agent Instance](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) interface.","example":"1907755175297171456"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Success</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code. 0 indicates success, other values indicate failure. For more information on error codes and response handling recommendations, please refer to [Return Codes](/aiagent-server/api-reference/return-codes).","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Explanation of the request result","example":"Success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID","example":"8825223157230377926"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"Total"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"The total number of messages used as context","example":10}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Message list</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"The role of the message sender:\n- user: User\n- assistant: AI agent\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Message content","example":"Hello, I want to know about the product information"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"Success\",\n  \"RequestId\": \"8825223157230377926\",\n  \"Data\": {\n    \"Total\": 10,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"Hello, I want to know about the product information\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3151527792559699732\",\n  \"Data\": {\n    \"Total\": 2,\n    \"MessageList\": [\n      {\n        \"Role\": \"user\",\n        \"Content\": \"Hello\"\n      },\n      {\n        \"Role\": \"assistant\",\n        \"Content\": \"Hello! I'm Jacky, a companion assistant created by ZEGOCLOUD. I'm happy to meet you!\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      