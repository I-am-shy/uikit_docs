# 修改群组属性
---

## 描述
通过该接口可以设置某个群的群属性。

## 接口原型
- 请求方法：POST
- 请求地址：`https://zim-api.zego.im/?Action=ModifyGroupAttribute`
- 传输协议：HTTPS
- 调用频率限制：20 次/秒

## 请求参数
以下请求参数列表仅列出了接口请求参数和部分公共参数，完整公共参数列表请参考[调用方式 - 公共请求参数](../Accessing%20Server%20APIs.mdx#2-公共参数)。
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Action | Number | 是 | 本次请求的修改行为。<ul><li>`0`（默认）：更新群组属性。</li><li>`1`：删除群组属性。</li></ul> |
| FromUserId | String | 是 | 操作者 id ，需要是已注册状态。 |
| GroupId | String | 是 | 群组 id。 |
| Attributes | Array of [ModifyGroupAttribute](#ModifyGroupAttribute) | 是 | 更新的群组属性信息。 |

<a id="ModifyGroupAttribute"></a>
**ModifyGroupAttribute 结构如下：**
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Key | String | 是 | 群组属性key。<Note title="说明">修改群组属性时，如果群组属性 key 已经存在，则更新群组属性；如果群组属性 key 不存在，则创建群组属性。</Note> |
| Value | String | 否 | 群组属性value。Action 为 0 时，需要此参数；Action 为 1 时，不需要此参数。 |

## 请求示例

```json
{
    "GroupId": "room123",
    "FromUserId": "fromUserId",
    "Action": 0,
    "Attributes": [
        {
            "Key": "attribute1",
            "Value": "value1"
        },
        {
            "Key": "attribute2",
            "Value": ""
        }
    ]    
}
```

## 响应参数
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Code | Number | 是 | 返回状态码（0表示成功）。 |
| Message | String | 是 | 返回状态信息。 |
| RequestId | String | 是 | 请求唯一标识。 |
| FailKeys | Array of FailList | 否 | 更新或者删除失败的 key 列表。 |
| Attributes | Array of StGroupAttributes | 否 | 更新或者删除成功的群组属性列表。 |

<a id="FailList"></a>
**FailList 结构如下：**
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Reason | String | 是 | 失败原因。 |
| Key | String | 是 | 更新或者删除失败的 key 值。 |

<a id="StGroupAttributes"></a>
**StGroupAttributes 结构如下：**
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Attributes | Array of StAttribute | 是 | 更新或者删除成功的群组属性。 |

<a id="StAttribute"></a>
**StAttribute 结构如下：**
| 参数 | 类型 | 是否必选 | 描述 |
|------|------|----------|------|
| Key | String | 否 | 群组属性 key。 |
| Value | String | 否 | 群组属性 value。 |

## 响应示例
```json
{
    "Code": 0,
    "Message": "success",
    "RequestId": "req-123456789",
    "FailKeys": [
        {
            "Reason": "key db-non-existent",
            "Key": "attr1"
        },
        {
            "Reason": "key db-non-existent",
            "Key": "attr2"
        }
    ],
    "Attributes": 
    {
        "Attributes":[
            {
                "Key": "attribute1",
                "Value": "value1"
            },
            {
                "Key": "attribute2",
                "Value": "value2"
            }
        ]
    }
}
```

## 返回码

以下仅列出了接口业务逻辑相关的返回码，完整返回码请参考[全局返回码](../Return%20codes.mdx)。

| 返回码 | 说明 | 解决方案 |
|------|------|----------|
| 660000002 | 参数错误。 | 请检查并输入正确的参数。 |
| 660300006 | 调用接口的频率超出了群/房间限制。 | 请稍后再试。 |
| 660500002 | FromUserId 未注册。 | 请先注册 FromUserId。 |
| 660600001 | 群组不存在。 | 请确认输入的 GroupId 是否正确，或创建群组。 |
| 660600009 | 获取群组相关信息失败。 | 请先确认 GroupID 是否正确。如果 GroupID 正确，请联系 ZEGO 技术支持。 |
| 660600028 | 修改群组资料失败。 | 请联系 ZEGO 技术支持。 |
| 660300019 | 已设置的群组属性的value总长度超出限制 | 请联系 ZEGO 技术支持。 |
