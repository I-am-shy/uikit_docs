---
articleID: 14533
---

# Manage room properties

- - -

ZEGOCLOUD's In-app Chat (the ZIM SDK) provides the capability of room property management, allowing you to customize the properties of a specified room.

With this feature, you can build your app to meet different requirements of various scenarios: customize the in-room properties in a live audio streaming or live chatroom, manage your speaker seats in a live audio room, mark player role and the latest facts and figures in an online Werewolf and other online board games.


<Video src="https://www.youtube.com/embed/ga-wHRhsbvE"/>


## Prerequisites 

- **Create a project** in [ZEGOCLOUD Console](https://console.zegocloud.com). The ZIM service permission is not enabled by default. Before using it, please activate the ZIM service by yourself in [ZEGOCLOUD Console](https://console.zegocloud.com) (for details, please refer to [Project Management - In-app Chat ](#15174)), if you cannot activate the ZIM service, please contact ZEGOCLOUD technical support to activate it.
- Get the token for SDK login. For details, see [Authentication](!zim-token_authentication/token_authentication).
- Integrate the ZIM SDK. For details, see the **Integrate the SDK** chapter of [Send and receive messages](!Implementation_of_sending_and_receiving).



## Set room properties

To set room properties, set them when you call the [createRoom](@createRoom) method to create a room.


```javascript
createRoom(roomInfo: ZIMRoomInfo, config: ZIMRoomAdvancedConfig): Promise<ZIMRoomCreatedResult>
```

<Warning title="Warning">

- Up to 20 room properties can be set in a room. The room property is stored in the format of `Key-Value`. The maximum length of `Key` is 16 bytes, the maximum length of `Value` is 1024 bytes, and the total length of all properties must not exceed 5120 bytes. For more customizable room properties, contact ZEGOCLOUD Technical Support. 
- The customized room properties you set will be cleared after the room is destroyed.
</Warning>

#### Parameter description

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| roomInfo | [ZIMRoomInfo](@-ZIMRoomInfo)| Yes | Basic room properties, such as roomID, roomName. |
| config | [ZIMRoomAdvancedConfig](@-ZIMRoomAdvancedConfig)| Yes | Advanced room propertiies.|
| Promise | [ZIMRoomCreatedResult](@-ZIMRoomCreatedResult)| Yes | Callback for creating a room. |

#### Sample code

```javascript
var roomInfo = { roomID: '', roomName: '' };
var config = { 
    roomAttributes: { key1: 'value1', key2: 'value2' }
};

zim.createRoom(roomInfo, config)
    .then(function ({ roomInfo }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });
```

### Modify room properties

The room properties you set are stored as `key-value`.

- When Key does not exist: Setting room property means adding room property.
- When the Key already exists: Setting the room property means updating the value of the existing room property.

#### Parameter description

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| roomAttributes | Record{'<String, String>'}|  Yes | The target room property. |
| roomID | string| The ID of the room that you want to set the room properties. |
| config | [ZIMRoomAttributesSetConfig](@-ZIMRoomAttributesSetConfig)| No | <p>Configurations of room properties: </p><ul><li>isForce: whether to make a mandatory change.</li><li>isUpdateOwner: whether change the owner of the room property. </li><li>isDeleteAfterOwnerLeft: whether the room properties are automatically deleted after the owner leaves the room.<b>This feature can only be set by the owner of the room property.</b></li></ul><Warning title="Warning">If the `config` is not set, the room properties are not set by default. The room property owner and other configurations are not updated.</Warning> |

#### Sample code

```javascript
var roomID = '';
var roomAttributes = { key1: 'value1', key2: 'value2' };
var config = { 
    isForce: false,
    isUpdateOwner: false,
    isDeleteAfterOwnerLeft: false
};

zim.setRoomAttributes(roomAttributes, roomID, config)
    .then(function ({ roomID, errorKeys }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });

// Set up the callback roomAttributesUpdated.
zim.on('roomAttributesUpdated', function (zim, { roomID, infos }) {
    console.log(''roomAttributesUpdated'', roomID, infos);
});
```

## Delete room properties

Generally, you can only delete the room properties that you own. You can also delete the room properties created by others by setting the `isForce` value in `config`.

#### Parameter description

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| keys  | string[] | Yes | The key of the room property that you want to delete.|
| roomID |  string |  Yes | The ID of the room that you want to delete the room properties. |
| config | [ZIMRoomAttributesDeleteConfig](@-ZIMRoomAttributesDeleteConfig)| No  | Delete room properties. `isForce` indicates whether to make a mandatory change.<Warning title="Warning">If the `config` is not set, the room properties won't be deleted by default.</Warning> |

#### Sample code

```javascript
var roomID = '';
var keys = ['key1'];
var config = { 
    isForce: false
};

zim.deleteRoomAttributes(keys, roomID, config)
    .then(function ({ roomID, errorKeys }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });

// Set up the callback roomAttributesUpdated.
zim.on('roomAttributesUpdated', function (zim, { roomID, infos }) {
    console.log(''roomAttributesUpdated'', roomID, infos);
});
```

## Get room properties

#### Parameter description

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| roomID | string | Yes | The ID of the room that you want to query the room properties. |
| Promise | [ZIMRoomAttributesQueriedResult](@-ZIMRoomAttributesQueriedResult) | Yes | Callback for query room properties. A successful query returns all room properties of the current room.|

#### Sample code

```javascript
var roomID = '';
zim.queryRoomAllAttributes(roomID)
    .then(function ({ roomID, roomAttributes }) {
        // Query successful.
    })
    .catch(function (err) {
        // Query failed.
    });
```

## Combined room properties operation


Combined operation means you can combine multiple operations in the same room into one operation. It is usually used when you want to perform continuous operations without being inserted by other users' operations.

#### Parameter description for the [beginRoomAttributesBatchOperation](@beginRoomAttributesBatchOperation) method

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| config  | [ZIMRoomAttributesBatchOperationConfig](@-ZIMRoomAttributesBatchOperationConfig) | No | <p>Configurations of room properties:</p><ul><li>isForce: whether to make a mandatory change.</li><li>isUpdateOwner: whether change the owner of the room property.</li><li>isDeleteAfterOwnerLeft: whether the room properties are automatically deleted after the owner leaves the room.<b> This feature can only be set by the owner of the room property.</b></li></ul> |

#### Parameter description for the [endRoomAttributesBatchOperation](@endRoomAttributesBatchOperation)  method

| Parameter | Type | Required | Description |
| ---- | ----| -------| -----|
| roomID | string	|  Yes | The ID of the room that you want to set the room properties. |
| Promise  | [ZIMRoomAttributesBatchOperatedResult](@-ZIMRoomAttributesBatchOperatedResult) | Yes | Callback for execute results of the room properties. â€‹|

#### Sample code

```javascript
var roomID = '';
var config = { 
    isForce: false,
    isUpdateOwner: false,
    isDeleteAfterOwnerLeft: false
};

// Start a combined room properties operation.
zim.beginRoomAttributesBatchOperation(roomID, config);

// Use the `Promise.then` to get the operation result. Do not use the `async-await`.
var roomAttributes = { key1: 'value1', key2: 'value2' };
zim.setRoomAttributes(roomAttributes, roomID, config)
   .then(function ({ roomID, errorKeys }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });

// Use the `Promise.then` to get the operation result. Do not use the `async-await`.
var keys = ['key1'];
zim.deleteRoomAttributes(keys, roomID, config)
   .then(function ({ roomID, errorKeys }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });

// End the operation. 
zim.endRoomAttributesBatchOperation(roomID)
    .then(function ({ roomID }) {
        // Operation successful.
    })
    .catch(function (err) {
        // Operation failed.
    });

// Set up the callback roomAttributesBatchUpdated.
zim.on('roomAttributesBatchUpdated', function (zim, { roomID, infos }) {
    console.log(''roomAttributesBatchUpdated'', roomID, infos);
});
```
