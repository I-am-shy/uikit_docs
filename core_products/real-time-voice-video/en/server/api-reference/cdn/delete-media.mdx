---
id: delete-media
title: "DeleteMedia"
description: "When users perform CDN recording, they will store the recorded media files on CDN servers, and users can call this interface to delete the file."
api: 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
info_path: core_products/real-time-voice-video/en/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>DeleteMedia</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


When users perform CDN recording, they will store the recorded media files on CDN servers, and users can call this interface to delete the file.
<Warning title="Warning"> Before using this interface for the first time, please confirm whether CDN recording service has been activated. If not, please go to the [ZEGOCLOUD Console](https://console.zegocloud.com) to activate it yourself, for details, please refer to [Console - Service Configuration - CDN](/console/service-configuration/activate-cdn-service), or contact ZEGOCLOUD Technical Support to activate it. </Warning> <Note title="Call frequency limit">All rooms under the same AppID are limited to 20 times/second</Note>
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> Interface prototype parameters\n>\n> https://rtc-api.zego.im?Action=DeleteMedia\n","required":true,"schema":{"type":"string","enum":["DeleteMedia"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Common parameter. A 16-character hexadecimal random string (hex-encoded 8-byte random number). For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Common parameter. Current Unix timestamp in seconds. For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>. A maximum deviation of 10 minutes is allowed.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Common parameter. Signature used to verify the legitimacy of the request. Please refer to the [signature mechanism](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism) to generate it.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Ws","Huawei"]},"description":"<p>Possible values and corresponding CDN vendors:</p>\nTencent: Tencent Cloud.\nWs: Wangsu.\nHuawei: Huawei Cloud.\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"description":"<p>\n  Unique file identifier returned in the\n  <a href=\"/real-time-video-server/callback/cdn/cdn-record-completed\" target=\"blank\">\n    recording file generation callback\n  </a>, supporting up to 100 media file FileIds.\n</p>\n<p>\n  Please note that the unique identifiers for recording files are different for each CDN vendor:\n</p>\n<ul>\n  <li>Tencent Cloud: FileID.</li>\n  <li>Wangsu: PersistentId.</li>\n  <li>Huawei Cloud: ObsObject.</li>\n</ul>\n<p>\n  You can also obtain the unique identifier of the media file through the\n  <a href=\"/real-time-video-server/api-reference/cdn/search-media\" target=\"blank\">\n    search media\n  </a>\n  interface, and the parameter names corresponding to the identifiers are different, please pay attention to distinguish them.\n</p>\n<p>\n  Example: &FileId[]=5285890813221514958&FileId[]=5285890813221513290\n</p>\n","schema":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":100},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ClearCache","in":"query","required":false,"description":"Whether to delete the cache on CDN nodes when deleting files.\n\n>**Note:**\n>\n>Only supports Wangsu, cache deletion only applies to successfully deleted files, cache will only be deleted after the file deletion is successful.\n","schema":{"type":"boolean"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Success</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Return codes.\n<br/>\nOnly the return codes related to interface business logic are listed here. For the complete return codes, please refer to [Global Return Codes](/real-time-video-server/api-reference/return-codes).\n<table>\n  <thead>\n    <tr><th>Return Code</th><th>Description</th><th>Solution</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>Request successful.</td><td>-</td></tr>\n    <tr><td>2</td><td>Input parameter error.</td><td>-</td></tr>\n    <tr><td>3</td><td>Related permissions not activated.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>4</td><td>CDN type mismatch.</td><td>Please check the parameters.</td></tr>\n    <tr><td>5</td><td>Configuration error.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>6</td><td>Request too frequent.</td><td>Please try again later.</td></tr>\n    <tr><td>7</td><td>Authentication failed.</td><td>Please check if the authentication parameters are correct.</td></tr>\n    <tr><td>1000</td><td>Request failed.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Operation result description.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID returned by ZEGOCLOUD server.","example":"3574501647605445341"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Response data, generated by JSON serialization of the following parameters.</div><SchemaItem collapsible={false} name={"Deleted"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"List of successfully deleted files.","items":{"type":"string"},"example":["3270835010809755971","3270835010811335406"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Errors</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>List of files that failed to be deleted.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error code for failed file deletion."}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error message for failed file deletion."}}></SchemaItem><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique identifier of the file that failed to be deleted."}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique request ID returned by the CDN vendor corresponding to the Vendor parameter value in the request","which needs to be provided when locating problems.":null}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>WsItemIdReceiverResp</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Result of file cache deletion.</div><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Response code.\n- 1: Delete file cache.\n- Not 1: Delete file cache failed.\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Response message. Description of the result of file cache deletion."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3574501647605445341\",\n  \"Data\": {\n    \"Deleted\": [\n      \"3270835010809755971\",\n      \"3270835010811335406\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": \"1\",\n      \"Message\": \"handle success\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Delete file cache success"} value={"Delete file cache success"}><Markdown> Return example for successful file cache deletion.</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115411.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 1,\n      \"Message\": \"handle success\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Delete file cache failure"} value={"Delete file cache failure"}><Markdown> Return example when ClearCache is not filled or ClearCache is not true.</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115803.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 0,\n      \"Message\": \"\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
