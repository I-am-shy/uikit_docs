@@@ServerAPIWarning@@@

# 单流转码停止回调

- - -

## 1 描述

当开发者需要了解当前 App 的单流转码任务，可以参考 [回调配置说明\|_blank](!Callback/Configuration_Instructions) 配置相关回调接口。当发起 [停止单流转码\|_blank](!Stop_single_stream_transcoding) 请求后，可以通过该回调，查看停止转码任务操作的结果。

## 2 回调说明

- 请求方法：POST。

@@@Server_API2_callback_intro_1@@@

- 请求地址：请联系 ZEGO 技术支持配置回调地址。
- 传输协议：HTTPS/HTTP，建议使用 HTTPS。

## 3 回调参数

<table>
  <colgroup>
    <col width="30%">
    <col width="15%">
    <col width="55%">
  </colgroup>
<tbody><tr data-row-level="1">
<th>公共参数</th>
<th>类型</th>
<th>描述</th>
</tr>
<tr data-row-level="2">
<td>Event</td>
<td>String</td>
<td>回调事件，此回调返回值为 <code>transcode_stop</code>。</td>
</tr>
<tr data-row-level="3">
<td>Appid</td>
<td>String</td>
<td>APP 的唯一标识。</td>
</tr>
<tr data-row-level="4">
<td>Timestamp</td>
<td>String</td>
<td>服务器当前时间，Unix 时间戳。</td>
</tr>
<tr data-row-level="5">
<td>Nonce</td>
<td>String</td>
<td>随机数。</td>
</tr>
<tr data-row-level="6">
<td>Signature</td>
<td>String</td>
<td>检验串，详情见 [检验说明|_blank](!Callback/Overview)。</td>
</tr>
<tr data-row-level="7">
<th>业务参数</th>
<th>类型</th>
<th>描述</th>
</tr>
<tr data-row-level="8">
<td>TaskId</td>
<td>String</td>
<td>单流转码任务的唯一标识 ID。</td>
</tr>
<tr data-row-level="9">
<td>UserId</td>
<td>String</td>
<td>发起停止转码任务的用户 ID，由开发者自定义。</td>
</tr>
<tr data-row-level="10">
<td>Sequence</td>
<td>Int</td>
<td>停止转码任务的序列号。</td>
</tr>
<tr data-row-level="11">
<td>Status</td>
<td>String</td>
<td><p>转码任务的状态，返回值为 TranscodeStopped：转码任务已停止。</p></td>
</tr>
<tr data-row-level="12">
<td>StopReason</td>
<td>Int</td>
<td><p>转码任务的停止原因：</p><ul><li>0：用户主动终止。</li><li>1：任务异常，自动终止。</li></ul></td>
</tr>
</tbody></table>


## 4 数据示例

```json
{
    "Event": "transcode_stop",
    "Appid": "111111",
    "Timestamp": "timestamp",
    "Nonce": "nonce",
    "Signature": "signature",
    "TaskId": "2222",
    "UserId": "2222",
    "Sequence": 0,
    "Status": "TranscodeStarted",
    "StopReason": 0
}
```

## 5 返回响应

返回 HTTP status code 为 2XX （例如 200）表示成功，其他响应都表示失败。


## 6 回调重试策略

@@@Server_API2_callback@@@
