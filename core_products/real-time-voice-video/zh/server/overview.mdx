<style>
table th:nth-of-type(1) { min-width: 100px; width: 40%;}
table th:nth-of-type(2) { min-width: 100px; width: 60%;}
table {width: 100%;}
</style>

# API 概览

---

ZEGO 云通讯产品服务端 API 升级到 v2 版本，全新的 API 接口文档更加规范和全面。

服务端 API v2 版本支持全球就近接入、统一的鉴权方式、统一的参数风格和公共错误码，给开发者带来简单快捷的使用体验。

- 开发者可参考 [快速开始\](!QuickStarts_Server_APIs) 文档快速完成一次接口调用。

- 如需进行开发调试，也可参考 [使用 Postman 调试\](!Postman/Postman)。

<div class="mk-warning">

1. 本文档 API 接口均为最新服务端 API v2 接口，后续相关功能的新增都会在此更新。为了给开发者带来更好的体验，ZEGO 推荐开发者使用最新 API v2 接口。

2. 旧版 API 接口已停止维护，不添加新功能。旧版接口文档请参考 [服务端 API\](#1287)。

</div>

## 房间信令接口

|接口名称|接口功能|
|-|-|
|[SendBroadcastMessage\](!room/SendBroadcastMessage)|推送广播消息|
|[SendBarrageMessage\](!room/SendBarrageMessage)|推送弹幕消息|
|[SendCustomCommand\](!room/SendCustomCommand)|推送自定义消息|
|[DescribeUserNum\](!room/DescribeUserNum)|获取房间人数|
|[DescribeUsers\](!DescribeUsers)|查询用户状态|
|[DescribeUserList\](!room/Get_user_list)|获取房间用户列表|
|[AddStream\](!room/AddStream)|增加房间流|
|[DeleteStream\](!room/DeleteStream)|删除房间流|
|[DescribeSimpleStreamList\](!room/simple_streamlist)|获取简易流列表|
|[CloseRoom\](!close_room)|关闭房间|
|[KickoutUser\](!room/KickoutUser)|踢出房间用户|
|[SetForbidUserRule\](!ForbidUserRule#3_1)|设置用户封禁规则|
|[DescribeForbidUserRules\](!ForbidUserRule#3_2)|查询用户封禁规则|
|[DelForbidUserRule\](!ForbidUserRule#3_3)|删除用户封禁规则|
|[SetForbidStreamRule\](!forbid_playstream#3_1)|设置房间音视频流封禁规则|
|[DescribeForbidStreamRules\](!forbid_playstream#3_2)|查询房间音视频流封禁规则|
|[DelForbidStreamRule\](!forbid_playstream#3_3)|删除房间音视频流封禁规则|

## 混流转码接口

|接口名称|接口功能|
|-|-|
|[StartMix\](!MixStream/StartMix)|开始混流|
|[StopMix\](!MixStream/StopMix)|停止混流|
|[GetMixTaskInfo\](!GetMixTaskInfo)|查询混流任务信息|
|[StartAutoMix\](!start_autoMix_AudioStream)|开始自动混流|
|[StopAutoMix\](!stop_autoMix_AudioStream)|停止自动混流|
|[StartCloudTranscode\](!Start_single_stream_transcoding)|开始单流转码|
|[StopCloudTranscode\](!Stop_single_stream_transcoding)|停止单流转码|


## 媒体服务接口

|接口名称|接口功能|
|-|-|
|[ForbidCDNLiveStream\](!media/ForbidCDNLiveStream)|禁止 CDN 推流|
|[QueryForbidCDNLiveStream\](!QueryForbidCDNLiveStream)|查询已被禁止推流到 CDN 的 URL 列表|
|[ResumeCDNLiveStream\](!media/ResumeCDNLiveStream)|恢复 CDN 推流|
|[ForbidRTCStream\](!media/ForbidRTCStream)|禁止 RTC 推流|
|[ResumeRTCStream\](!media/ResumeRTCStream)|恢复 RTC 推流|
|[ForbidRTCStreams\](!media/Batch_prohibit_RTC_push_streaming)|批量禁止 RTC 推流|
|[ResumeRTCStreams\](!media/Batch_restore_RTC_push_streaming)|批量恢复 RTC 推流|
|[CreatCDNTransferRule\](!media/CreatCDNTransferRule)|启动旁路推流|
|[DeleteCDNTransferRule\](!media/DeleteCDNTransferRule)|停止旁路推流|
|[ClearCDNTransferRule\](!media/ClearCDNTransferRule)|清空旁路推流|
|[RTMPDispatchV2\](!RTMP_Push_Stream_Scheduling)|RTMP 推拉流调度|


## 媒体文件接口

|接口名称|接口功能|
|-|-|
|[StartCDNRecord\](!Media_File/StartCDNRecrod)|开始 CDN 录制|
|[StopCDNRecord\](!Media_File/StopCDNRecord)|停止 CDN 录制|
|[SearchMedia\](!Media_File/SearchMedia)|检索媒体信息|
|[DeleteMedia\](!Media_File/DeleteMedia)|删除媒体文件|
|[MergeMedia\](!Media_File/MergeMedia)|合并媒体文件|
|[DescribeMediaTask\](!DescribeMediaTask)|查询媒体文件任务|
|[TranscodeMedia\](!Start_onDemand_transcoding)|开始点播转码|


## 音视频流审核接口

|接口名称|接口功能|
|-|-|
|[StartCensorAudioV2\](!Interface_audit/Start_audio_audit)|开始音频流审核|
|[StopCensorAudioV2\](!Interface_audit/End_audio_audit)|结束音频流审核|
|[StartCensorVideoV2\](!Interface_audit/Start_video_audit)|开始视频流审核|
|[StopCensorVideoV2\](!Interface_audit/End_video_audit)|结束视频流审核|
|[GenerateIdentifyToken\](!GenerateIdentifyToken)|音视频流审核鉴权 Token|

## 场景服务接口

|接口名称|接口功能|
|-|-|
|[SetSceneTemplate\](!Scenario_Template_configure)|场景模板配置|

## 回调说明


|回调名称|回调说明|
|-|-|
|[room_create\](!room_create_callback)|房间创建回调|
|[room_close\](!room_close_callback)|房间关闭回调|
|[room_login\](!Callback/Loginroom_callback)|登录房间回调|
|[room_logout\](!Callback/Logoutroom_callback)|退出房间回调|
|[stream_create\](!Callback/Stream_Create)|流创建回调|
|[stream_close\](!Callback/Stream_Close)|流关闭回调|
|[mix_start\](!Callback/Callback_StartMix)|混流开始回调|
|[mix_stop\](!Callback/Callback_StopMix)|混流结束回调|
|[transcode_start\](!Start_single_stream_transcoding_callback)|单流转码开始回调|
|[transcode_stop\](!Stop_single_stream_transcoding_callback)|单流转码停止回调|
|[record\](!Callback/Record_File_Create_Callback)|录制文件生成回调|
|[compose\](!Callback/compose)|媒体文件合并完成回调|
|[procedure\](!Callback_onDemand_transcoding)|点播转码完成回调|
|[censor_audio_v2_result\](!Callback/Audio_audit_callback)|音频流审核结果回调|
|[censor_audio_v2_status\](!Callback/Audio_audit_callback)|音频流审核任务状态回调|
|[censor_video_v2_audio_result\](!Callback/Video_audit_callback)|视频流音频审核结果回调|
|[censor_video_v2_img_result\](!Callback/Video_audit_callback)|视频流画面审核结果回调|
|[censor_video_v2_audio_status\](!Callback/Video_audit_callback)|视频流音频审核状态回调|
|[censor_video_v2_img_status\](!Callback/Video_audit_callback)|视频流画面审核状态回调|
