---
id: describe-rtc-stream-state
title: "DescribeRTCStreamState"
description: "本接口支持查询指定流的实时状态（是否活跃或存在）。只支持查询推流到 ZEGO 媒体服务器（RTC 服务）的流，不支持查询直接推流到 CDN 或者混流服务输出的流。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeRTCStreamState</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口支持查询指定流的实时状态（是否活跃或存在）。只支持查询推流到 ZEGO 媒体服务器（RTC 服务）的流，不支持查询直接推流到 CDN 或者混流服务输出的流。

推荐优先使用 [流创建回调](/real-time-video-server/callback/stream/created) 和 [流关闭回调](/real-time-video-server/callback/stream/destroyed) 异步获取当前推流信息。本接口一般作为流创建回调和流关闭回调的辅助接口，或者在业务后台查询指定单流是否活跃时使用。

<Note title="说明">
本接口默认支持在开始推流后，对流状态信息进行查询。
</Note>
<Note title="调用频率限制">同一个 AppID 下所有房间：40 次/秒（测试环境：10 次/秒）</Note>

<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），流 ID 需要加上 “zegotest-AppId-” 前缀。例如，流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeRTCStreamState\n","required":true,"schema":{"type":"string","enum":["DescribeRTCStreamState"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","required":true,"description":"流 ID。","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Sequence","in":"query","required":true,"description":"请求序列号，由用户自定义。\n\n> **注意**\n>\n> 对于同一个流 Streamld，连续 10 秒内，必须保证发出的该 Streamld 的请求序列号是严格递增的；避免服务端收到请求的时序不一致而导致操作错乱。\n\n如果没有并发场景，推荐使用时间戳（毫秒级别）。\n","schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>查询成功，查询的流存在、且是活跃状态。</td><td>-</td></tr>\n    <tr><td>3000</td><td>无效的 App。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>3001、30003</td><td>内部错误。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>3002</td><td>Timestamp 时间戳错误。</td><td>请重新生成新的 Timestamp。</td></tr>\n    <tr><td>3003</td><td>App 未配置 Token。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>30002</td><td>接口调用频率过高。</td><td>请降低接口请求频率。</td></tr>\n    <tr><td>30004</td><td>参数 isTest 错误。</td><td>请检查公共请求参数 isTest 是否正确。</td></tr>\n    <tr><td>30005</td><td>无效的 AppId。</td><td>请检查 AppId 是否正确。</td></tr>\n    <tr><td>30009</td><td>无效的 StreamId，流名不规范。</td><td>请检查 StreamId 是否符合流名编码规范。</td></tr>\n    <tr><td>40005</td><td>鉴权失败。</td><td>请检查签名 Signature 是否正确。</td></tr>\n    <tr><td>41004</td><td>查询失败，StreamId 不存在。</td><td>请检查 StreamId 是否正确、或\"查询流状态历史信息权限\"是否过期。</td></tr>\n    <tr><td>41006</td><td>查询成功，查询的流存在、但是关闭状态。仅在开通了\"查询流状态历史信息权限\"的有效期内会返回。</td><td>-</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"ok"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"98004"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={false} name={"create_time"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"流创建时间，UTC 时间","example":"1673334117"}}></SchemaItem><SchemaItem collapsible={false} name={"close_time"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"流关闭时间，UTC 时间","example":""}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"ok\",\n  \"RequestId\": \"98004\",\n  \"Data\": {\n    \"create_time\": \"1673334117\",\n    \"close_time\": \"\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      