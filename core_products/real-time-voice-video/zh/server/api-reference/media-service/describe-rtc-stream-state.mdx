---
id: describe-rtc-stream-state
title: "DescribeRTCStreamState"
description: "本接口支持查询指定流的实时状态（是否活跃或存在）。只支持查询推流到 ZEGO 媒体服务器（RTC 服务）的流，不支持查询直接推流到 CDN 或者混流服务输出的流。"
api: eJztWVtT20gW/isqPc2k7JjbZGYoht1UMjXFw8xuJZl52EBtCbsDmtiWR5JTyVKukgGDDL4NMTdjICRcvAQsEwgYI+C/DOqW/OT9Cbutli+AbSCTPG0qVUSSu7/znXO6zzndZ4gWmQGB7nxMe4CLZewC4J+xTkD32WgXEJw86xNZzkt30ii9hWJrMP4GJRUUCaLlNUN5jSLjMJtC74N6ahRml9Dsvj6xj6RgSZXRnAIT62jvyDgYQfIM3J6D6UxJDZ9JwzC+eQ4klkHvg1DOUf/4/oe/UXBzSjt+idJROLEC5zMlVX7w6B5F3ktqWE+NovfBkhrR8tFaFH1hD8XWqlj37v9EIXnGkELo4AC9DxIA4+QlHC8QjDNpuNfb60WxjBFNaOocDMna8amezFCPTYwFeFSAC0tGbqTvCwcPGLddZD3A/ox1Ac60E+AdTsbt7mecTx2CyAPG43DygBGB60sKTkUITGi3OLt9UxgXEESee2ECqcNoe82IHcD4DDx+CcNRoqN2uoKCypk0XHGMlpcMeUs7Tmv5wgUF4FTkAhc9NWqchODEv8nckhohxoLpjJZPYdMnYjCeq3UzjE5jO9b6dXafWMwyZddPnAgokRXd4Lte2lD20Fysl+7u9VY4Fo/mjOwq8RtMZ6AqwY1Jy2mJWEmNQOUQLydzFREVjdMFYyVCiJhyuhxYTPclcbkRPZkpvv5dj40X5xNQ3u+lu2EiouUlLb9J3fX5eu5TWn4ShSWUDiP5tDi7V1JTHS0U2lpx6BtTeNG+nzSUaT2mwNcjJTXVWvNbuCKW/Gusaw2Glp8sqbKhrBsbQapHeAQEkYKhLRjagfFhNJ0j00pqGNv/fZDquU8V05KxHoQTr7T8BPWHlP4XGOBEIIh2rIDL/oe0SMFwVFelM2lYO5mE68PVuVq+gKfg4X9Ii9ia6YypuKv8U2tbe8dXd77+5luMY26DC2TLULCQtKZUCFTm2i0B571B22jOB3gGx4seF91pxY9+YOdFp50sbLsgMiKgbbSP4RkPEAGPQ88Q7WU8gO6k7zrNYGOjWRxxfvMD/gV9MQ51U2QlwdgyXJokZuz1dvd6u6lBUfQJnQ4Hlsf42NuY+W3W8xcC+919i8+DR/cemmweYjImcR785md54KI7Rd4PbLTgHAQehu4cosUXPsxMEHnWO0DbaOD1e3C0rA9G9wVstCC+cOM5Tzjeg2c897k5FyDQAVtVWeyX5rr+Z3lqpXa5nEnD5qySGiGhUh4rhqJ6alRPZpB8AJOKlpfg+Lah4OB2Hb1YrwgGAE/bTLaMSHfSftYrtrfRgRqqD9kBLyP6efAT53WCG3MupuIoXYDbs/rWupZ/d01qlslreTxiPUAQGY/vxhR+9rLPKTS7X5zdQ/Iu3hnRae04quUL+saUGUQluJqCoaCRzVOtLaZlp5ZxkFQUeJD9cGuyXvFOR31j3lgJffsEJqIlNaInM1ohVtyMGErQUA7QzjDOvwkZ7U4jaePD7Vuh9gvghSt3YkOGelhG6S0YP7gZE4z/hPG7sdnabrfUbDb81ldLlITSG9MjuctMj9WwdyYNG9kTHOwwPcpYyeirBZLWLgxra2lrtbe22lvvUDA+oR1OwnAUR1hzL6LYBpT3YTxH8q6eGi2uHOoLWSvjzSnnc0sExhX06hBFsyTdFtMS2sFE9OMs2l4llEvqgiFFsKBErCHs9huoxiscL4SzJ4xbuFY8w7rjdYvHk+Kv7Ary6dwyMQPe5eB10dEXCkgzsZAlca3FCH7zgzrhprkUsh1gIQ7lWRg/MDfLDgmPxvgmzKa0w7BVrXRTt26h3Qwajd+6ZWUQqBxqhVilaMCUibJuHHON0yX9aBuHB31jCo6FsBdPQ8WVI+100VCCMP47qS0NZa0yjTLfz3FCc4qWX0Ov1KI0BV8v6anRkrpQDJ7CUJQUqfpbBSX3oZyr7G00uw8LcS0fxTXe+J4hRaCiGuN76GVUO04Xk/Pa4Y6lFVwfRktp9G4FpcPwcB+TShfQvIJTO6l0ydKuxkIZKW/1jSm9sAHlt6RCN1dRYyf1YS8IPs4rAAH/3tbSgv+74G85ASeWaRvt5Lwi8Ip4BOPzuVmnWSI4fhXwsKHLYrj+X4ETb24fjwsKkSVC7plJtFms9fo9/eaXC0viNAkXlvRXpODXjta0/KR2FMLOGC9ohbFy9WxuQ+nIOPldX8jD0C7eayMZKI9VALDDsxE0vVf5YigHMD5sSCPUYxjKwB2p8kvjYp/xsXYePAE8Xt0OHoh+3mt3ci4gfEkqKpHpd+OKiqK6xEHAuMxH/MJ3d4mD3RURXQ5xkHwxy8jKK1wd1RNj8KhgZLPko0PkCZ6jCtgl9nOuF+ewXd0tXQ7RZT5Zlb/pRLx2yCHLPDiRs9yZFNTySRyBzLMAKdnPpOEKgp08lWVXhbS3tNTImX2FpmU9NYoL1drphnJgBJP67pEVXycklFask4OpYGVwXQmtZ1IQC2qvAMKxUHEkU0zOG4ryEQW1VYAq5Um10qgrrTgeRTM5PbmM5AR+SI1SlanNZVWVuevzUSi9icu/4yz1iHsKvB9RpxqlyO6oPVwZp+PFt3MXdZqPascxa7AZtsjgK+R0VL1jZjyKJYekunZDbyS0vEZyuhVTz02yjqbbb/SV7BVyv6q//npcdUVaZ6gb4H9bB7+cNskhCyaiWj5qbIwakZH6QsvjLbn61jou8cyZujqDg8/5yZeZdJzTtBjeQ4sjcHXH2FurK5FUb1SlCryuwh2ttY4kkYKIKamRihZaPloOHNfQtiw0iOSZXtoKRuWLARgbg/F35HoALY4U5xO9NJlmnI6j9PIVXO/cLMgdj2Fs8+6kEuRw/jCvL4pSSiuMXYshxk2H0bSM0stwLKSpKRLJm8TMLkc5SHc5ylnBPFIyHh8+Y7YEbPSPQBCYAVC/nj6XkM1iQT96ieuDeNw4zdVC0dxTOmCjH+CqSxDxAf4qPLIFqZ7752C+/aalpQMj3WfEuln9PAh8GYWFJJrOoWj2Usont2n/xCn0GuqVr7xI8C2pkZ/xvaH5co5h652v29vbO1pbv8Y0nW5OuIkIcx1cJYIOBAIBG23eDtGdDS4LHlgllDk4YKM9QBzk8MXJADCrH0YcpDtpB67EzMKBXJX4eff/bN/gquMSY/1oWctLOCyH1mA6BxelkirjnRgpQHkM/11eLqlhGtfddZHtwiDTEF3Lb8OFY7i6UZwfM3En0PuD5nCDTwcawqG8gk52YTxXUuXi+jzKK82xnvCNqaGtDbT3Dhe3u9MwlIOhSX093hzOzTxvbMeTmLF2WlJlOPEKHiw1B+rnPI1NVkjB1U0MtL2sHeausP2Ar4nt0zA6qxVSWMeZHOa1uGLC9eED0xPOXM7WAuR8wGsiYgzaRj+zzveddOvtFvOojYt0xmkW6db560G5eqV+4VgncPyCa1jq7t97qId+n4/j8RoFHobFxAXy5a+YrNPN+V23nZwHn+ZoHyeIHsZbg9vg5uyCfkPVY8Pn1sPn1sPn1sPn1kPT1oOVuEXwXHT43AzrxbndjKpDViZ9TON7rUFOEPHz0FA/I4CfeXcggD+TyyWcX12sgAut6t1Zw7D0xQPrJupL6pM0Jeqq9BS8qG2UPGPcflJw2D6Q+p/uMTSjabU4PgnLul2FJmQuNTE+CauP0mhookVtC+STKHCjJsN1zP1piV7oNVyHULW58YG8/o87C03sW+nJ/Hlv17YKmnm02of48zI/Nw4+WuOgmcuqTZ2qy/rwC89in9Gdj3ELHV9SA97Mx+WE5wS+2sV1qZOAUSon6B++f0QHAv8FJGBLJA==
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeRTCStreamState</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口支持查询指定流的实时状态（是否活跃或存在）。只支持查询推流到 ZEGO 媒体服务器（RTC 服务）的流，不支持查询直接推流到 CDN 或者混流服务输出的流。

推荐优先使用 [流创建回调](/real-time-video-server/callback/stream/created) 和 [流关闭回调](/real-time-video-server/callback/stream/destroyed) 异步获取当前推流信息。本接口一般作为流创建回调和流关闭回调的辅助接口，或者在业务后台查询指定单流是否活跃时使用。

<Note title="说明">
本接口默认支持在开始推流后，对流状态信息进行查询。
</Note>
<Note title="调用频率限制">同一个 AppID 下所有房间：40 次/秒（测试环境：10 次/秒）</Note>

<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），流 ID 需要加上 “zegotest-AppId-” 前缀。例如，流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeRTCStreamState\n","required":true,"schema":{"type":"string","enum":["DescribeRTCStreamState"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","required":true,"description":"流 ID。","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Sequence","in":"query","required":true,"description":"请求序列号，由用户自定义。\n\n> **注意**\n>\n> 对于同一个流 Streamld，连续 10 秒内，必须保证发出的该 Streamld 的请求序列号是严格递增的；避免服务端收到请求的时序不一致而导致操作错乱。\n\n如果没有并发场景，推荐使用时间戳（毫秒级别）。\n","schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>查询成功，查询的流存在、且是活跃状态。</td><td>-</td></tr>\n    <tr><td>3000</td><td>无效的 App。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>3001、30003</td><td>内部错误。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>3002</td><td>Timestamp 时间戳错误。</td><td>请重新生成新的 Timestamp。</td></tr>\n    <tr><td>3003</td><td>App 未配置 Token。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>30002</td><td>接口调用频率过高。</td><td>请降低接口请求频率。</td></tr>\n    <tr><td>30004</td><td>参数 isTest 错误。</td><td>请检查公共请求参数 isTest 是否正确。</td></tr>\n    <tr><td>30005</td><td>无效的 AppId。</td><td>请检查 AppId 是否正确。</td></tr>\n    <tr><td>30009</td><td>无效的 StreamId，流名不规范。</td><td>请检查 StreamId 是否符合流名编码规范。</td></tr>\n    <tr><td>40005</td><td>鉴权失败。</td><td>请检查签名 Signature 是否正确。</td></tr>\n    <tr><td>41004</td><td>查询失败，StreamId 不存在。</td><td>请检查 StreamId 是否正确、或\"查询流状态历史信息权限\"是否过期。</td></tr>\n    <tr><td>41006</td><td>查询成功，查询的流存在、但是关闭状态。仅在开通了\"查询流状态历史信息权限\"的有效期内会返回。</td><td>-</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"ok"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"98004"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={false} name={"create_time"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"流创建时间，UTC 时间","example":"1673334117"}}></SchemaItem><SchemaItem collapsible={false} name={"close_time"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"流关闭时间，UTC 时间","example":""}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"ok\",\n  \"RequestId\": \"98004\",\n  \"Data\": {\n    \"create_time\": \"1673334117\",\n    \"close_time\": \"\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      