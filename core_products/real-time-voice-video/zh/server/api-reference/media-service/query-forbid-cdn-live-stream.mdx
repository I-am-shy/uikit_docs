---
id: query-forbid-cdn-live-stream
title: "QueryForbidCDNLiveStream"
description: "调用本接口查询已被禁止推流到 CDN 的 URL 列表。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>QueryForbidCDNLiveStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口查询已被禁止推流到 CDN 的 URL 列表。

<Warning title="注意">
首次使用本接口，需要联系 ZEGO 技术支持进行配置。
</Warning>
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=QueryForbidCDNLiveStream\n","required":true,"schema":{"type":"string","enum":["QueryForbidCDNLiveStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string"},"description":"CDN 提供商，ws：网宿。"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>1</td><td>请求失败。</td><td>-</td></tr>\n    <tr><td>2</td><td>参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Ws</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>网宿返回的查询结果</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ResultDetail</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询结果的集合</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Channel"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"加速域名","example":"publish-ws.zegotech.cn"}}></SchemaItem><SchemaItem collapsible={false} name={"Url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"被禁止推流的 CDN 直播地址的完整 URL，例如，rtmp://publish-ws.zegotech.cn/test/流 ID","example":"rtmp://publish-ws.zegotech.cn/test/stream001"}}></SchemaItem><SchemaItem collapsible={false} name={"StartTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"开始禁止推流的时间，UTC 时间","example":"2024-10-12T03:47:53Z"}}></SchemaItem><SchemaItem collapsible={false} name={"EndTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"恢复推流的时间，UTC 时间","example":"2024-10-14T02:22:00Z"}}></SchemaItem><SchemaItem collapsible={false} name={"Ip"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","deprecated":true,"description":"禁止观看直播的用户 IP（已废弃）","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-11-11T03:47:53Z\",\n          \"Ip\": \"\"\n        },\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream002\",\n          \"StartTime\": \"2024-10-12T02:48:15Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\",\n          \"Ip\": \"\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      