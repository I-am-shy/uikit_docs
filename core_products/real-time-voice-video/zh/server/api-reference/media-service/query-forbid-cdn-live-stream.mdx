---
id: query-forbid-cdn-live-stream
title: "QueryForbidCDNLiveStream"
description: "调用本接口查询已被禁止推流到 CDN 的 URL 列表。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>QueryForbidCDNLiveStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口查询已被禁止推流到 CDN 的 URL 列表。

<Warning title="注意">
首次使用本接口，需要联系 ZEGO 技术支持进行配置。
</Warning>
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=QueryForbidCDNLiveStream\n","required":true,"schema":{"type":"string","enum":["QueryForbidCDNLiveStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string"},"description":"CDN 提供商，ws：网宿。"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>1</td><td>请求失败。</td><td>-</td></tr>\n    <tr><td>2</td><td>参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Ws</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>网宿返回的查询结果</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ResultDetail</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询结果的集合</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Channel"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"加速域名","example":"publish-ws.zegotech.cn"}}></SchemaItem><SchemaItem collapsible={false} name={"Url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"被禁止推流的 CDN 直播地址的完整 URL，例如，rtmp://publish-ws.zegotech.cn/test/流 ID","example":"rtmp://publish-ws.zegotech.cn/test/stream001"}}></SchemaItem><SchemaItem collapsible={false} name={"StartTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"开始禁止推流的时间，UTC 时间","example":"2024-10-12T03:47:53Z"}}></SchemaItem><SchemaItem collapsible={false} name={"EndTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"恢复推流的时间，UTC 时间","example":"2024-10-14T02:22:00Z"}}></SchemaItem><SchemaItem collapsible={false} name={"Ip"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","deprecated":true,"description":"禁止观看直播的用户 IP（已废弃）","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-11-11T03:47:53Z\",\n          \"Ip\": \"\"\n        },\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream002\",\n          \"StartTime\": \"2024-10-12T02:48:15Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\",\n          \"Ip\": \"\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      