---
id: forbid-rtc-streams
title: "ForbidRTCStreams"
description: "调用本接口批量禁止 RTC 推流，可以批量禁止指定流 ID 推送到 RTC 服务。禁止推流操作会向正在推流的客户端和正在拉流的客户端发送推流被禁止的通知。通常用于开发者需要通过服务端临时中断某终端推流时使用。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>ForbidRTCStreams</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口批量禁止 RTC 推流，可以批量禁止指定流 ID 推送到 RTC 服务。禁止推流操作会向正在推流的客户端和正在拉流的客户端发送推流被禁止的通知。通常用于开发者需要通过服务端临时中断某终端推流时使用。

推流客户端接收推流被服务端禁止的通知使用 ZEGO Express SDK 回调接口：

<table>

  <tbody><tr>
    <th rowspan="2">平台</th>
    <th colspan="2">ZegoExpress SDK</th>
    <th colspan="2">LiveRoom SDK</th>
  </tr>
  <tr>
    <th>接口</th>
    <th>错误码</th>
    <th>接口</th>
    <th>错误码</th>
  </tr>
  <tr>
    <td>iOS/macOS</td>
    <td>onPublisherStateUpdate</td>
    <td>1003025</td>
    <td>onPublishStateUpdate</td>
    <td>12301011</td>
  </tr>
  <tr>
    <td>Android</td>
    <td>onPublisherStateUpdate</td>
    <td>1003025</td>
    <td>onPublishStateUpdate</td>
    <td>12301011</td>
  </tr>
  <tr>
    <td>Windows</td>
    <td>onPublisherStateUpdate</td>
    <td>1003025</td>
    <td>OnPublishStateUpdate</td>
    <td>12301011</td>
  </tr>
</tbody></table>

拉流客户端接收所拉流被服务端禁止的通知使用 ZEGO Express SDK 回调接口：

<table>

  <tbody><tr>
    <th rowspan="2">平台</th>
    <th colspan="2">ZegoExpress SDK</th>
    <th colspan="2">LiveRoom SDK</th>
  </tr>
  <tr>
    <th>接口</th>
    <th>错误码</th>
    <th>接口</th>
    <th>错误码</th>
  </tr>
  <tr>
    <td>iOS/macOS</td>
    <td>onPlayerStateUpdate</td>
    <td>1004025</td>
    <td>onPlayStateUpdate</td>
    <td>12301011</td>
  </tr>
  <tr>
    <td>Android</td>
    <td>onPlayerStateUpdate</td>
    <td>1004025</td>
    <td>onPlayStateUpdate</td>
    <td>12301011</td>
  </tr>
  <tr>
    <td>Windows</td>
    <td>onPlayerStateUpdate</td>
    <td>1004025</td>
    <td>OnPlayStateUpdate</td>
    <td>12301011</td>
  </tr>
</tbody></table>

<Warning title="注意">
调用本接口后，正在推送的音视频流会被禁止推送，同时流 ID 被记录到后台数据库；不存在的流直接记录到后台数据库，接口正常返回成功。
</Warning>

<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒（测试环境：5 次/秒）</Note>

<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），流 ID 需要加上 “zegotest-AppId-” 前缀。例如，流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=ForbidRTCStreams\n","required":true,"schema":{"type":"string","enum":["ForbidRTCStreams"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId[]","in":"query","description":"流 ID 列表，最大支持 20 个流 ID。","required":true,"schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Sequence","in":"query","required":true,"schema":{"type":"string"},"description":"请求序列号。\n\n> **注意**\n>\n> 对于同一个流 StreamId，连续 10 秒内，必须保证发出的该 StreamId 的请求序列号是严格递增的；避免服务端收到请求的时序不一致而导致操作错乱。\n\n如果没有并发场景，推荐使用时间戳（毫秒级别）。\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>30002</td><td>接口调用频率过高。</td><td>请降低接口请求频率。</td></tr>\n    <tr><td>30003</td><td>内部错误。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n    <tr><td>30004</td><td>参数 isTest 错误。</td><td>请检查公共请求参数 isTest 是否正确。</td></tr>\n    <tr><td>30005</td><td>无效的 AppId。</td><td>请检查 AppId 是否正确。</td></tr>\n    <tr><td>30006</td><td>无效的 StreamId 列表。</td><td>请检查 StreamId[] 是否正确。</td></tr>\n    <tr><td>42003</td><td>批量禁用直播失败。</td><td>请重试，重试无效请联系 ZEGO 技术支持。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"ok"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"1929203990360298509"}}></SchemaItem><SchemaItem collapsible={false} name={"Data"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"响应数据","example":null}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"ok\",\n  \"RequestId\": \"1929203990360298509\",\n  \"Data\": null\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      