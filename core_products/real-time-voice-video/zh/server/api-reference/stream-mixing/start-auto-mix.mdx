---
id: start-auto-mix
title: "StartAutoMix"
description: "本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/stream-mixing/open-api-desc
---

<h1 className={"openapi__heading"}>StartAutoMix</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。

在跨房间 PK 连麦等场景中，支持增加其他房间内的某条流，参与自动混流；或剔除当前房间的某条流，不参与自动混流，具体请参考请求参数中的 `ExtraMixInput` 参数说明。

<Note title="说明">
* 目前只支持自动混 `音频` 流。
* 后续房间内如果有流新增或删除，您都不需要做任何处理，ZEGO 服务端内部自动更新混流。
</Note>

“客户端”的混流功能，请参考 [混流 - 自动混流](/real-time-video-android-java/live-streaming/stream-mixing)；“服务端”的相关回调，请参考 [混流开始回调](/real-time-video-server/callback/stream-mixing/started) 和 [混流结束回调](/real-time-video-server/callback/stream-mixing/stopped)。
## 前提条件

在实现混流之前，请确保：

- 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppId 和 ServerSecret，详情请参考 [控制台 - 项目信息](/console/project-info)。
- 已在 [ZEGO 控制台](https://console.zego.im) 自助接入服务开通“混流”服务权限，详情请参考 [控制台 - 服务配置 - 混流](/console/service-configuration/enable-stream-mixing-service)，或联系 ZEGO 技术支持开通。
- 已通过开发者自己的客户端，在房间内发起推拉流，详情请参考 [实现视频通话](/real-time-video-android-java/quick-start/implementing-video-call)。
- 若您希望创建自动混流时，如果房间不存在，可自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），`输入流`的流 ID 和`输出流`的流 ID：

- 如果是开发者自己输入的原始流 ID，需要加上 “zegotest-AppId-” 前缀，否则会导致混流失败（混流服务器拉不到输入流或拉不到混流输出流）。例如，开发者输入流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
- 如果是通过 SDK 接口，或通过服务端 API 接口获取到的，此时不需要添加 “zegotest-AppId-” 的前缀。
</Note>

<Note title="调用频率限制">100 次/秒</Note>

**此接口中只有部分参数在开始混流后支持动态更新，未标注的则不支持动态更新，详情请参考下表中的参数描述。**

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=StartAutoMix\n","required":true,"schema":{"type":"string","enum":["StartAutoMix"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"TaskId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务 ID，混流任务的唯一标识。\n- 重复调用\"开始混流\"接口，传入相同的 TaskId，可以直接更新混流任务信息。\n- 发起\"音视频\"混流时，如果之前已发起过对应 TaskId 的\"纯音频\"混流任务，则需要先停止此任务，再重新发起\"音视频\"混流任务。\n","example":"2213699902971205739"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发起混流任务的用户 ID，由开发者自定义。\n\n**同一个任务的用户 ID 需要一致，不同任务的用户 ID 需要保持不同**。\n\n通过 UserId 可以实现混流任务的用户归属，也就是该用户才能更新或者停止对应 TaskId 的混流任务，该功能需要联系 ZEGO 技术支持开通。\n","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExtraMixInput</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>额外的输入流列表（其他房间内的流），默认最多支持 9 条额外的输入流。<br/>**📌注意**<br/>开启自动混流时，最多支持 9 条输入流。即该房间内的流，增加、剔除（根据 ModifyType 取值判断增加或删除某条流）额外的输入流后，流的总数量不能超过 9 条。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"room_other_stream1","description":"混流输入流 ID，该流 ID 来自 RTC 服务。\n\n仅支持数字、英文字符和 \"-\"、\"_\"。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"混流输入流 URL，支持 RTMP 和 HTTP-FLV 两种协议。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ModifyType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"description":"输入流列表的类型，表示在当前混流任务中\"增加\"或\"剔除\"该条输入流：\n- 0：开启自动混流时，在输入流列表中**增加**当前流，默认值\n- 1：开启自动混流时，在输入流列表中**剔除**当前流。此时只需要填写 StreamId 和本参数的取值即可\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevelId"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"声浪 ID。参数 SoundLevel（混流声浪）取值为 \"1\" 时，此参数必填。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Volume"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","default":100,"description":"音量，取值范围 [0, 200]，默认为 100。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MixOutput</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>输出流信息，目前最多支持 3 个。当输出目标为 URL 格式时，目前只支持 RTMP URL 格式：rtmp://xxxxxxxx，且不能传入两个相同的混流输出的地址。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"stream3","description":"输出流 ID。默认情况下表示混流输出至 RTC 或低延迟直播产品，也可联系 ZEGO 技术支持配置混流输出至 ZEGO 代理的 CDN 直播产品，生效范围为整个 AppId。如果希望控制指定流输出至 CDN 直播产品，则不能配置混流默认输出至 ZEGO 代理 CDN，应按需设置 StreamUrl。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamId，则 StreamUrl 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"仅支持 RTMP 协议，表示混流输出至 CDN 直播服务，观众可以从 CDN 直播拉混流。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamUrl，则 StreamId 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioCodec"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`, `3`]"} schema={{"type":"integer","format":"int","enum":[0,1,2,3],"example":0,"description":"音频编码及采样率。如需修改采样率，请联系 ZEGO 技术支持配置：\n- 0：HE-AAC，采样率：44100 kHz，默认值\n- 1：AAC-LC，采样率：44100 kHz\n- 2：MP3，采样率：44100 kHz\n- 3：OPUS，采样率：48000 kHz\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioBitrate"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流输出音频码率，不填时默认值为 48000，单位为 bps。"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","enum":[1,2],"description":"输出音频声道数，优先级比全局参数高：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流请求的序列号，用于保证时序，同个任务的参数修改需要保证序列号的递增。例如：\"Sequence\": 1。\n\n**如果开启了混流任务的时序控制（如有需要，请联系 ZEGO 技术支持开启），此参数必填。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"UserData"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"base64_encoded_data","description":"自定义用户数据，使用时需要对此参数内容进行 base64 编码。长度限制为 4000 字节，建议不超过 850 字节。\n\n自定义的用户数据将作为 SEI 信息传输给拉流方，拉流方可通过监听客户端的 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-player-sync-recv-sei-stream-id\" target=\"_blank\">onPlayerSyncRecvSEI</a> 回调获取该数据。\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"example":0,"description":"混流声浪，指混流的音量大小。支持混流过程中实时更新：\n- 0：不开启，默认值\n- 1：开启。开启后，客户端可以通过 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-auto-mixer-sound-level-update\" target=\"_blank\">onAutoMixerSoundLevelUpdate</a> 回调来接收自动混流声浪更新的通知\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ByPass"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","default":0,"enum":[0,1],"description":"单流透传开关，即输入流就一个时是否按输出参数重新编码，该功能需要联系 ZEGO 技术支持开通：\n- 0：不启用，默认值\n- 1：启用\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","default":1,"enum":[1,2],"description":"输出音频声道数，当没有指定输出流时使用该配置：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AlignmentType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`]"} schema={{"type":"integer","format":"int","enum":[0,1,2],"description":"控制播放的实时音视频流是否需要按照 NTP（网络时间）精准对齐后进行混流。**此参数主要应用于 KTV 场景中，会增加一定的混流延时；非 KTV 类似场景，不建议设置此参数。**\n- 0：不对齐，默认值\n- 1：指定流对齐\n- 2：所有流强制对齐\n"}}></SchemaItem><SchemaItem collapsible={false} name={"RecvBufferLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** `>= 0` and `<= 4000`"} schema={{"type":"integer","format":"int","minimum":0,"maximum":4000,"description":"控制拉流最小缓冲时间，取值范围 [0, 4000]，单位：毫秒；默认最小缓冲时间为 0。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExPara</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>拓展参数，根据实际情况填入，常规任务可不填。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"k1","description":"key 值。"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"v1","description":"value 值。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n<thead>\n  <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n</thead>\n<tbody>\n  <tr><td>110200001</td><td>失败。</td><td>请重试。</td></tr>\n  <tr><td>110200002</td><td>输入参数错误。</td><td>请参考 Message 信息处理。</td></tr>\n  <tr><td>110200003</td><td>鉴权失败。</td><td>请确认鉴权信息是否正确或过期，详情请参考 <a href=\"!Making_API_Requests/Making_API_Requests#5\" target=\"_blank\">调用方式</a> 中的 \"3 签名机制\"。</td></tr>\n  <tr><td>110200004</td><td>解析输入参数失败。</td><td>请检查混流参数是否正确。</td></tr>\n  <tr><td>110200005</td><td>混流开始获取分布式锁失败。</td><td>同一个 UserId 开始混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200006</td><td>混流结束获取分布式锁失败。</td><td>同一个 UserId 停止混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200151</td><td>混流任务失败。</td><td>请重试，或联系 ZEGO 技术支持处理。</td></tr>\n  <tr><td>110200194</td><td>混流请求过载。</td><td>请求过于频繁，请稍后再试。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"8472822294336370476"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据。</div><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"序列号。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>PlayInfo</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>播放信息。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"输出流的流 ID。","example":"test"}}></SchemaItem><SchemaItem collapsible={false} name={"RTMP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"RTMP 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"rtmp://domain/appname/test"}}></SchemaItem><SchemaItem collapsible={false} name={"HLS"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HLS 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test/playlist.m3u8"}}></SchemaItem><SchemaItem collapsible={false} name={"FLV"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HTTP-FLV 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test.flv"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"流状态。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8472822294336370476\",\n  \"Data\": {\n    \"UserId\": \"123\",\n    \"Sequence\": 1,\n    \"RoomId\": \"room123\",\n    \"PlayInfo\": [\n      {\n        \"StreamId\": \"test\",\n        \"RTMP\": \"rtmp://domain/appname/test\",\n        \"HLS\": \"http://domain/appname/test/playlist.m3u8\",\n        \"FLV\": \"http://domain/appname/test.flv\",\n        \"Status\": 0,\n        \"UserName\": \"\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      