---
id: start-auto-mix
title: "StartAutoMix"
description: "本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/stream-mixing/open-api-desc
---

<h1 className={"openapi__heading"}>StartAutoMix</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。

在跨房间 PK 连麦等场景中，支持增加其他房间内的某条流，参与自动混流；或剔除当前房间的某条流，不参与自动混流，具体请参考请求参数中的 `ExtraMixInput` 参数说明。

<Note title="说明">
* 目前只支持自动混 `音频` 流。
* 后续房间内如果有流新增或删除，您都不需要做任何处理，ZEGO 服务端内部自动更新混流。
</Note>

“客户端”的混流功能，请参考 [混流 - 自动混流](/real-time-video-android-java/live-streaming/stream-mixing)；“服务端”的相关回调，请参考 [混流开始回调](/real-time-video-server/callback/stream-mixing/started) 和 [混流结束回调](/real-time-video-server/callback/stream-mixing/stopped)。
## 前提条件

在实现混流之前，请确保：

- 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppId 和 ServerSecret，详情请参考 [控制台 - 项目信息](/console/project-info)。
- 已在 [ZEGO 控制台](https://console.zego.im) 自助接入服务开通“混流”服务权限，详情请参考 [控制台 - 服务配置 - 混流](/console/service-configuration/enable-stream-mixing-service)，或联系 ZEGO 技术支持开通。
- 已通过开发者自己的客户端，在房间内发起推拉流，详情请参考 [实现视频通话](/real-time-video-android-java/quick-start/implementing-video-call)。
- 若您希望创建自动混流时，如果房间不存在，可自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），`输入流`的流 ID 和`输出流`的流 ID：

- 如果是开发者自己输入的原始流 ID，需要加上 “zegotest-AppId-” 前缀，否则会导致混流失败（混流服务器拉不到输入流或拉不到混流输出流）。例如，开发者输入流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
- 如果是通过 SDK 接口，或通过服务端 API 接口获取到的，此时不需要添加 “zegotest-AppId-” 的前缀。
</Note>

<Note title="调用频率限制">100 次/秒</Note>

**此接口中只有部分参数在开始混流后支持动态更新，未标注的则不支持动态更新，详情请参考下表中的参数描述。**

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=StartAutoMix\n","required":true,"schema":{"type":"string","enum":["StartAutoMix"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"TaskId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务 ID，混流任务的唯一标识。\n- 重复调用\"开始混流\"接口，传入相同的 TaskId，可以直接更新混流任务信息。\n- 发起\"音视频\"混流时，如果之前已发起过对应 TaskId 的\"纯音频\"混流任务，则需要先停止此任务，再重新发起\"音视频\"混流任务。\n","example":"2213699902971205739"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发起混流任务的用户 ID，由开发者自定义。\n\n**同一个任务的用户 ID 需要一致，不同任务的用户 ID 需要保持不同**。\n\n通过 UserId 可以实现混流任务的用户归属，也就是该用户才能更新或者停止对应 TaskId 的混流任务，该功能需要联系 ZEGO 技术支持开通。\n","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExtraMixInput</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>额外的输入流列表（其他房间内的流），默认最多支持 9 条额外的输入流。<br/>**📌注意**<br/>开启自动混流时，最多支持 9 条输入流。即该房间内的流，增加、剔除（根据 ModifyType 取值判断增加或删除某条流）额外的输入流后，流的总数量不能超过 9 条。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"room_other_stream1","description":"混流输入流 ID，该流 ID 来自 RTC 服务。\n\n仅支持数字、英文字符和 \"-\"、\"_\"。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"混流输入流 URL，支持 RTMP 和 HTTP-FLV 两种协议。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ModifyType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"description":"输入流列表的类型，表示在当前混流任务中\"增加\"或\"剔除\"该条输入流：\n- 0：开启自动混流时，在输入流列表中**增加**当前流，默认值\n- 1：开启自动混流时，在输入流列表中**剔除**当前流。此时只需要填写 StreamId 和本参数的取值即可\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevelId"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"声浪 ID。参数 SoundLevel（混流声浪）取值为 \"1\" 时，此参数必填。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Volume"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","default":100,"description":"音量，取值范围 [0, 200]，默认为 100。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MixOutput</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>输出流信息，目前最多支持 3 个。当输出目标为 URL 格式时，目前只支持 RTMP URL 格式：rtmp://xxxxxxxx，且不能传入两个相同的混流输出的地址。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"stream3","description":"输出流 ID。默认情况下表示混流输出至 RTC 或低延迟直播产品，也可联系 ZEGO 技术支持配置混流输出至 ZEGO 代理的 CDN 直播产品，生效范围为整个 AppId。如果希望控制指定流输出至 CDN 直播产品，则不能配置混流默认输出至 ZEGO 代理 CDN，应按需设置 StreamUrl。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamId，则 StreamUrl 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"仅支持 RTMP 协议，表示混流输出至 CDN 直播服务，观众可以从 CDN 直播拉混流。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamUrl，则 StreamId 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioCodec"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`, `3`]"} schema={{"type":"integer","format":"int","enum":[0,1,2,3],"example":0,"description":"音频编码及采样率。如需修改采样率，请联系 ZEGO 技术支持配置：\n- 0：HE-AAC，采样率：44100 kHz，默认值\n- 1：AAC-LC，采样率：44100 kHz\n- 2：MP3，采样率：44100 kHz\n- 3：OPUS，采样率：48000 kHz\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioBitrate"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流输出音频码率，不填时默认值为 48000，单位为 bps。"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","enum":[1,2],"description":"输出音频声道数，优先级比全局参数高：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流请求的序列号，用于保证时序，同个任务的参数修改需要保证序列号的递增。例如：\"Sequence\": 1。\n\n**如果开启了混流任务的时序控制（如有需要，请联系 ZEGO 技术支持开启），此参数必填。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"UserData"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"base64_encoded_data","description":"自定义用户数据，使用时需要对此参数内容进行 base64 编码。长度限制为 4000 字节，建议不超过 850 字节。\n\n自定义的用户数据将作为 SEI 信息传输给拉流方，拉流方可通过监听客户端的 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-player-sync-recv-sei-stream-id\" target=\"_blank\">onPlayerSyncRecvSEI</a> 回调获取该数据。\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"example":0,"description":"混流声浪，指混流的音量大小。支持混流过程中实时更新：\n- 0：不开启，默认值\n- 1：开启。开启后，客户端可以通过 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-auto-mixer-sound-level-update\" target=\"_blank\">onAutoMixerSoundLevelUpdate</a> 回调来接收自动混流声浪更新的通知\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ByPass"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","default":0,"enum":[0,1],"description":"单流透传开关，即输入流就一个时是否按输出参数重新编码，该功能需要联系 ZEGO 技术支持开通：\n- 0：不启用，默认值\n- 1：启用\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","default":1,"enum":[1,2],"description":"输出音频声道数，当没有指定输出流时使用该配置：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AlignmentType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`]"} schema={{"type":"integer","format":"int","enum":[0,1,2],"description":"控制播放的实时音视频流是否需要按照 NTP（网络时间）精准对齐后进行混流。**此参数主要应用于 KTV 场景中，会增加一定的混流延时；非 KTV 类似场景，不建议设置此参数。**\n- 0：不对齐，默认值\n- 1：指定流对齐\n- 2：所有流强制对齐\n"}}></SchemaItem><SchemaItem collapsible={false} name={"RecvBufferLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** `>= 0` and `<= 4000`"} schema={{"type":"integer","format":"int","minimum":0,"maximum":4000,"description":"控制拉流最小缓冲时间，取值范围 [0, 4000]，单位：毫秒；默认最小缓冲时间为 0。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExPara</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>拓展参数，根据实际情况填入，常规任务可不填。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"k1","description":"key 值。"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"v1","description":"value 值。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n<thead>\n  <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n</thead>\n<tbody>\n  <tr><td>110200001</td><td>失败。</td><td>请重试。</td></tr>\n  <tr><td>110200002</td><td>输入参数错误。</td><td>请参考 Message 信息处理。</td></tr>\n  <tr><td>110200003</td><td>鉴权失败。</td><td>请确认鉴权信息是否正确或过期，详情请参考 <a href=\"!Making_API_Requests/Making_API_Requests#5\" target=\"_blank\">调用方式</a> 中的 \"3 签名机制\"。</td></tr>\n  <tr><td>110200004</td><td>解析输入参数失败。</td><td>请检查混流参数是否正确。</td></tr>\n  <tr><td>110200005</td><td>混流开始获取分布式锁失败。</td><td>同一个 UserId 开始混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200006</td><td>混流结束获取分布式锁失败。</td><td>同一个 UserId 停止混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200151</td><td>混流任务失败。</td><td>请重试，或联系 ZEGO 技术支持处理。</td></tr>\n  <tr><td>110200194</td><td>混流请求过载。</td><td>请求过于频繁，请稍后再试。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"8472822294336370476"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据。</div><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"序列号。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>PlayInfo</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>播放信息。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"输出流的流 ID。","example":"test"}}></SchemaItem><SchemaItem collapsible={false} name={"RTMP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"RTMP 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"rtmp://domain/appname/test"}}></SchemaItem><SchemaItem collapsible={false} name={"HLS"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HLS 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test/playlist.m3u8"}}></SchemaItem><SchemaItem collapsible={false} name={"FLV"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HTTP-FLV 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test.flv"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"流状态。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8472822294336370476\",\n  \"Data\": {\n    \"UserId\": \"123\",\n    \"Sequence\": 1,\n    \"RoomId\": \"room123\",\n    \"PlayInfo\": [\n      {\n        \"StreamId\": \"test\",\n        \"RTMP\": \"rtmp://domain/appname/test\",\n        \"HLS\": \"http://domain/appname/test/playlist.m3u8\",\n        \"FLV\": \"http://domain/appname/test.flv\",\n        \"Status\": 0,\n        \"UserName\": \"\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      