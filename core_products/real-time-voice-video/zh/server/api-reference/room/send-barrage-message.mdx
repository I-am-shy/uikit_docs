---
id: send-barrage-message
title: "SendBarrageMessage"
description: "调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>SendBarrageMessage</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。

客户端接收消息使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Android| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Windows| onIMRecvBarrageMessage |  OnRecvBigRoomMessage |
|Web| IMRecvBarrageMessage | onRecvBigRoomMessage |

<Note title="调用频率限制">同一个 AppID 下所有房间：100 次/秒（测试环境：10 次/秒）</Note>
<Warning title="注意">
- 在服务端通过某个 UserId 发送消息时，使用相同 UserId 的客户端不会收到该条消息，即发送方不能接收到自己发送的消息。
- 如果开发者需要让房间内的所有用户都收到消息，调用本接口时，应传入该房间用户之外的 UserId。
- 使用的 UserId 无需登录该房间，即可直接发送消息。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SendBarrageMessage\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendBarrageMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"发送方用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"发送方用户名（与 UserId 一一对应）。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageCategory","in":"query","description":"消息分类。1：系统消息。2：聊天消息。","required":true,"schema":{"type":"integer","format":"uint32","enum":[1,2]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageContent","in":"query","description":"消息内容，长度不能超过 1024 个字节。使用时，需对其内容执行 URL 编码（UrlEncode）处理。","required":true,"schema":{"type":"string","maxLength":1024}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1008</td>\n      <td>消息内容 MessageContent 为空。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>50012</td>\n      <td>消息长度超过限制。</td>\n      <td>请检查参数长度是否超过限制。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":2237080460466033400,"description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"MessageId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"1_1611647493487_29","description":"消息 ID。"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 2237080460466033400,\n  \"Data\": {\n    \"MessageId\": \"1_1611647493487_29\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      