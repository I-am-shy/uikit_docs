---
id: send-barrage-message
title: "SendBarrageMessage"
description: "调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。"
api: eJztWXtPG1cW/yqju/80koltwpLUouxmm6hCmyYraFKpMaoG+2KmtWcmM2MKC5bGBoN5GJPUhMZxMKS8kgJDCgVjTPgwzL0z/sv7EXbvzNg4GJtHEu1KGyGBfe895/zOued1DwNAon0icD0EAscFQKcNeKHoERheYjgWuIC+OaQlV3F6DU8tocSvKL2KY4eF2W00EsVTqwU5jPJ7aG8G78RwWCnmJ9WsrMfWtOSqmps6PpkeQ4srhdGEeQwnd1DisZpNqtl4IS3ry2H18IWuhM1dlFAKL+axvKKlhlE6h58pR3LEzbpZtPESx3a13xQ8tYSTO+Zp9eBQS65S393+6h51u48XoChSHbf+TqHnc/rmkAm6mE8R+kFq8Dvo4ypODd5hemE7xwWML252sMH4cbODzL0Oe4D23OsYpDi27et26On9Gy0ItA9+DUWR9kGKbBjLjI9wKC+72cGbrFfgGO9lSL9lWC/3k1iHlLpXkxZ2DVIXFOhmW+5yEqQkRvLDL9zWdRdePtamRgvPplFsxw1a0TS5VjX7mrrJ8223KDU7gcdknB4zL7iYTzkdDgqvLdi1lSfFfAz/MaErM9qUgl4OGZvHe2MtdiKv1c22fEsLLMP6yqLx1ioeTrhBq5ttoIifpeNofEH7TSnIKf1wFGemCYL7IhTavBRKPC7IlsPg2R3ieIYjaM+zaHqydIp4UMlp1GxczaeI68U2dWUJv1go+yyKb1n8nu6p2bg+dGB6GDk5+hrtvjF3tdSwSWL4YwOFliN4Lo3yMko81uWo6cn6xquy2xMCw04kgmK7haEDk2lZ8IngMhVBuaSan0fRJYLSYGWSq3sTaPGplhq2tLNQWHqXlyk8O19Iy9qzfXQwU2ZR0lLRnm8bwo7NZ/BpsVvX0epmgQ1wPBRokgHavMAFRMh6G7pMl2oImM4DbICnBToAJSiQ9DEAWDoAgQvc9BiZwwYYkj4eBaHQD04mlVbKyiZTGTQ3gRIRPLPpZlvdbCvVI0m86LLbBcnTQPPM1X9CH3eVCfzFZPtFB2S97zq3gVeAj4KMAL3AJQlBaAO038/9dDvAS/0PaH8QAlc37RehDYieHhiggWsASP08QStKAsP6gA1ANhggWbBaAOgM2YAo9fvJ+W5OCJDTfbyf80JTXMh2rDzPt3nr6/6vzJMFFF1D0Tem3kdyxKAq5ieNJIZiI4VoXEsNm7eOkoqaldHouq6Ej+TIKbpW6cSwEvRBAdgMtLQEXCDIsNK1RhCqgNrB+FhaCgrwLsd64IUxF1IJnM6h9VltbVnN/n5OaJa5K3F8wwSgKNEB/sIQ7rNMH4Vndwqz2zi2ZXj4jHoQV7M5beXJkRzBaRktplA0rG9kKafDsOyTjJYa1hUF7W5c3poMKzU3nW7MCyuhrb9F0/FiftIsmYXXk7oS1pVd/CZCstd0DG/NYHnlSI7oyi5KRHR56KFJQ8wf2+n8zC5A2t8gMQHY0Mt4IdcgQqEXCnaaZxoE2A0FyHqgnfZ4oCgyrM/aJsEl/qmS0xUtmcGx6cvfZNkID6AgnpkDatpCG4vh9BpK7F4MCeHfTQf95IIarzoqQpp866wESmrgWWFqpk2q7dbl7WHm4/piynXHjPb3lneXfLyIRMP5Ymp2qlQ+jEovI2UP5ZLF/NhJOGck0ko8Vv78kpagjzOQ1LO32fvFRrQ3+0dyxFnMp7StfW0/Uy5SjcV8Sg+Po8VX5aX3y4ZlD3HaGjtPA86xEmSlc+EeiaKNvWJ+sjBziHLLZhOh70T1w1HK6WhsotTsa7Q+q49HjuSIWbHNYl9IG6aO7pgc8NiKvjBJ3W+/Q2n5p9p8uJiP3Rf8t1kP54XF/BhaHNamRy4aGAG67w5kfVIPcBEwoVAnoRZ5jhWhSAgaHQ7y54RmP8fVgzSOTaPxDLABj2UN1wCged7PeIz+wP6DSA4PVEvnun6AHmI8XiDdhMSYor40yuYZ2dW8nD46wJOi66h6kxwm0fM5bT5stC7q/pKanVD3oyg2i0Zzam7EbC7UbAqNLxTkff3tY9IWRre01HBhaBXFRsoMSNHYmMQz2+WVcpalHqLoKnojl3fOm2kFKAUFtoHcmHjFbK4kustPel6KapF6IO01PpIvgvXJ2Ggti2qxSz3v7ijb+JepqmXTHdB+Tt/YqNhssVuMyVpJXIvUxXn7T5XsbXU6HDda7JL3ncVK16bejQmKFNlXuSM5UkWlK7uF0biuzBTzkzj2VA8nta19832Gx2WcVnBSwZPhsidXMCjjrgb4Z4fD2VgDoRlzZrSZb5YauPCvMs4smeXGJMK/KGi6DmmlJS3ztdhLtwlCtlKqOLWjLPkvEING8a3OHUaEafs/47k0TiT0Q1IECdd2+CgIRYk033X4NjZeu+644WhqdjQ1NzuuXWtyVEeK0UhYVSVkA7do6Rwxail1hnjg/N7Z7HQ2N11v+vxa043r3zd+XiM7luSHQiEbMJ57pFuoarTbrZRkHAzZQABKPRx5f/iggZEmCQzYgQ2YcWc+O4KC/z+K1ng2VAHS9jNqViYJIrqE0pvohWxUvziazKHYCPmdyRTzY4BUg1M5N4g9dE3uanYdPT8go45nIwbfcfzHbn12PT/6arLDWQW/3UKJzWI+Vlh+hrNKfV7dQm1oeG0Fb/9OHudbMyi6iaIT2nKiPjs/3Vfbjm+n9KXDYj6GxufR7lx9Rl1coLbJcim0+JowWs+oe5tn2N7H17F9GsVn1VyK6Ph0k+B6sWCw6yQFvJsznNlyPo6HrMGR8AA20Gt1rC7gvOowmkdS7miPUe5KXWMp+VMPOMYD7Q9ICaBu/qON6gjyPCcQH4UBmvEbEW+s/JWA9fi5oPeqhwuQ5gjwnCgFaLaC7ykvzhO6DRwX30/zuE/zuE/zuP+7eZxVhCXYJ9l5P80YvYeRIwesuvgQkNl9DydK5PPAQBctwvuCPxQiy+bThVRLLyOS7uX4IVcz0XzWbr0vrlAffFx3qjo/wv7K8WGvObgDRjm4FOz3nrTVg2kN+j4KylNna3XAVI3yPgqqDzJuq6NF5SDwoyjwPzpqO8/FflyTnJi4nQfQ8Yjv/XGdGLXVEV8e3L2/0FqDtzrSy/O8S0q/1OTtDDzWvO8DXMIl52918FXP/z4YzP/CuO0cipbnhcd6dpIvAkMUBa6H5D9JZCADBaMYlyqeB/KVVFXjNcKl/Bj+6vY3IBT6N3pWnco=
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>SendBarrageMessage</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。

客户端接收消息使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Android| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Windows| onIMRecvBarrageMessage |  OnRecvBigRoomMessage |
|Web| IMRecvBarrageMessage | onRecvBigRoomMessage |

<Note title="调用频率限制">同一个 AppID 下所有房间：100 次/秒（测试环境：10 次/秒）</Note>
<Warning title="注意">
- 在服务端通过某个 UserId 发送消息时，使用相同 UserId 的客户端不会收到该条消息，即发送方不能接收到自己发送的消息。
- 如果开发者需要让房间内的所有用户都收到消息，调用本接口时，应传入该房间用户之外的 UserId。
- 使用的 UserId 无需登录该房间，即可直接发送消息。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SendBarrageMessage\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendBarrageMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"发送方用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"发送方用户名（与 UserId 一一对应）。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageCategory","in":"query","description":"消息分类。1：系统消息。2：聊天消息。","required":true,"schema":{"type":"integer","format":"uint32","enum":[1,2]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageContent","in":"query","description":"消息内容，长度不能超过 1024 个字节。使用时，需对其内容执行 URL 编码（UrlEncode）处理。","required":true,"schema":{"type":"string","maxLength":1024}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1008</td>\n      <td>消息内容 MessageContent 为空。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>50012</td>\n      <td>消息长度超过限制。</td>\n      <td>请检查参数长度是否超过限制。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":2237080460466033400,"description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"MessageId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"1_1611647493487_29","description":"消息 ID。"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 2237080460466033400,\n  \"Data\": {\n    \"MessageId\": \"1_1611647493487_29\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      