---
id: send-barrage-message
title: "SendBarrageMessage"
description: "调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>SendBarrageMessage</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。

客户端接收消息使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Android| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Windows| onIMRecvBarrageMessage |  OnRecvBigRoomMessage |
|Web| IMRecvBarrageMessage | onRecvBigRoomMessage |

<Note title="调用频率限制">同一个 AppID 下所有房间：100 次/秒（测试环境：10 次/秒）</Note>
<Warning title="注意">
- 在服务端通过某个 UserId 发送消息时，使用相同 UserId 的客户端不会收到该条消息，即发送方不能接收到自己发送的消息。
- 如果开发者需要让房间内的所有用户都收到消息，调用本接口时，应传入该房间用户之外的 UserId。
- 使用的 UserId 无需登录该房间，即可直接发送消息。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SendBarrageMessage\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendBarrageMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"发送方用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"发送方用户名（与 UserId 一一对应）。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageCategory","in":"query","description":"消息分类。1：系统消息。2：聊天消息。","required":true,"schema":{"type":"integer","format":"uint32","enum":[1,2]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageContent","in":"query","description":"消息内容，长度不能超过 1024 个字节。使用时，需对其内容执行 URL 编码（UrlEncode）处理。","required":true,"schema":{"type":"string","maxLength":1024}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1008</td>\n      <td>消息内容 MessageContent 为空。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>50012</td>\n      <td>消息长度超过限制。</td>\n      <td>请检查参数长度是否超过限制。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":2237080460466033400,"description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"MessageId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"1_1611647493487_29","description":"消息 ID。"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 2237080460466033400,\n  \"Data\": {\n    \"MessageId\": \"1_1611647493487_29\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      