---
id: add-stream
title: "AddStream"
description: "调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>AddStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。

<Warning title="注意">
- 往指定房间增加流时需要保证该房间是存在的，本接口无法创建房间。若您希望增加流时，自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
- 本接口一般与 [删除房间流](/real-time-video-server/api-reference/room/delete-stream) 配合使用，比如业务上需要停止向某个房间广播流。
</Warning>

本接口仅用于抛出房间内流增加的相关通知，不会执行实际的推流操作。开发者需要从自己的客户端，调用 `startPublishingStream` 接口进行推流（或其它的推流方式），该条被增加的流才能被 `startPlayingStream` 接口拉流到。

客户端接收房间内流增加的通知使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onRoomStreamUpdate | onStreamUpdated |
|Android| onRoomStreamUpdate | onStreamUpdated |
|Windows| onRoomStreamUpdate |  OnStreamUpdated |
|Web| roomStreamUpdate | onStreamUpdated |

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒（测试环境：1 次/秒）</Note>
<Warning title="注意">
- 不建议使用与房间内实际用户相同的 UserId，避免与客户端 SDK 的流新增行为产生冲突。可以使用特定的名称标识为服务端行为，例如：userId = “Server-Administrator”。
- 如果使用了与房间内实际用户相同的 UserId（不建议）时，需要注意以下事项：
  - 相应操作人 UserId 的客户端不会收到本服务端接口触发的流增加回调。
  - 如果实际房间内用户 UserId 没有推流，会触发相应 StreamId 的流删除逻辑。
  - 如果实际房间内用户 UserId 退出房间，会触发相应 StreamId 的流删除逻辑。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=AddStream\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"用户名。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamTitle","in":"query","description":"流标题，不超过 127 字节。\n使用时，需对其内容执行 URL 编码（UrlEncode）处理。\n","required":false,"schema":{"type":"string","maxLength":127}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtraInfo","in":"query","description":"流附加信息，不超过 1024 字节。","required":false,"schema":{"type":"string","maxLength":1024}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"CensorFlag","in":"query","description":"是否允许送审标识。审核房间流列表时，当前流是否允许审核：0 表示允许，1 表示不允许。\n> **📌 重要说明**\n>\n> - 当设置为不允许送审时，审核服务商将不会拉取此条流送审。\n>\n> - 在使用流注入方式实现跨房间 PK 的业务场景时，建议将此字段设置为\"不允许\"，以避免同一条流在多个房间内被重复送审。\n","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>1012</td>\n      <td>多个用户操作同一个流。</td>\n      <td>请检查逻辑。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":4443515903608307000,"description":"请求 ID。"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 4443515903608307000\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      