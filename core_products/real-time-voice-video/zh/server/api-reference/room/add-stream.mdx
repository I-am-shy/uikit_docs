---
id: add-stream
title: "AddStream"
description: "调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>AddStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。

<Warning title="注意">
- 往指定房间增加流时需要保证该房间是存在的，本接口无法创建房间。若您希望增加流时，自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
- 本接口一般与 [删除房间流](/real-time-video-server/api-reference/room/delete-stream) 配合使用，比如业务上需要停止向某个房间广播流。
</Warning>

本接口仅用于抛出房间内流增加的相关通知，不会执行实际的推流操作。开发者需要从自己的客户端，调用 `startPublishingStream` 接口进行推流（或其它的推流方式），该条被增加的流才能被 `startPlayingStream` 接口拉流到。

客户端接收房间内流增加的通知使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onRoomStreamUpdate | onStreamUpdated |
|Android| onRoomStreamUpdate | onStreamUpdated |
|Windows| onRoomStreamUpdate |  OnStreamUpdated |
|Web| roomStreamUpdate | onStreamUpdated |

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒（测试环境：1 次/秒）</Note>
<Warning title="注意">
- 不建议使用与房间内实际用户相同的 UserId，避免与客户端 SDK 的流新增行为产生冲突。可以使用特定的名称标识为服务端行为，例如：userId = “Server-Administrator”。
- 如果使用了与房间内实际用户相同的 UserId（不建议）时，需要注意以下事项：
  - 相应操作人 UserId 的客户端不会收到本服务端接口触发的流增加回调。
  - 如果实际房间内用户 UserId 没有推流，会触发相应 StreamId 的流删除逻辑。
  - 如果实际房间内用户 UserId 退出房间，会触发相应 StreamId 的流删除逻辑。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=AddStream\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"用户名。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamTitle","in":"query","description":"流标题，不超过 127 字节。\n使用时，需对其内容执行 URL 编码（UrlEncode）处理。\n","required":false,"schema":{"type":"string","maxLength":127}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtraInfo","in":"query","description":"流附加信息，不超过 1024 字节。","required":false,"schema":{"type":"string","maxLength":1024}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"CensorFlag","in":"query","description":"是否允许送审标识。审核房间流列表时，当前流是否允许审核：0 表示允许，1 表示不允许。\n> **📌 重要说明**\n>\n> - 当设置为不允许送审时，审核服务商将不会拉取此条流送审。\n>\n> - 在使用流注入方式实现跨房间 PK 的业务场景时，建议将此字段设置为\"不允许\"，以避免同一条流在多个房间内被重复送审。\n","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>1012</td>\n      <td>多个用户操作同一个流。</td>\n      <td>请检查逻辑。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":4443515903608307000,"description":"请求 ID。"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 4443515903608307000\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      