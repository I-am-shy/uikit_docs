---
id: add-stream
title: "AddStream"
description: "调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>AddStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。

<Warning title="注意">
- 往指定房间增加流时需要保证该房间是存在的，本接口无法创建房间。若您希望增加流时，自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
- 本接口一般与 [删除房间流](/real-time-video-server/api-reference/room/delete-stream) 配合使用，比如业务上需要停止向某个房间广播流。
</Warning>

本接口仅用于抛出房间内流增加的相关通知，不会执行实际的推流操作。开发者需要从自己的客户端，调用 `startPublishingStream` 接口进行推流（或其它的推流方式），该条被增加的流才能被 `startPlayingStream` 接口拉流到。

客户端接收房间内流增加的通知使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onRoomStreamUpdate | onStreamUpdated |
|Android| onRoomStreamUpdate | onStreamUpdated |
|Windows| onRoomStreamUpdate |  OnStreamUpdated |
|Web| roomStreamUpdate | onStreamUpdated |

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒（测试环境：1 次/秒）</Note>
<Warning title="注意">
- 不建议使用与房间内实际用户相同的 UserId，避免与客户端 SDK 的流新增行为产生冲突。可以使用特定的名称标识为服务端行为，例如：userId = “Server-Administrator”。
- 如果使用了与房间内实际用户相同的 UserId（不建议）时，需要注意以下事项：
  - 相应操作人 UserId 的客户端不会收到本服务端接口触发的流增加回调。
  - 如果实际房间内用户 UserId 没有推流，会触发相应 StreamId 的流删除逻辑。
  - 如果实际房间内用户 UserId 退出房间，会触发相应 StreamId 的流删除逻辑。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=AddStream\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"用户名。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamTitle","in":"query","description":"流标题，不超过 127 字节。\n使用时，需对其内容执行 URL 编码（UrlEncode）处理。\n","required":false,"schema":{"type":"string","maxLength":127}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtraInfo","in":"query","description":"流附加信息，不超过 1024 字节。","required":false,"schema":{"type":"string","maxLength":1024}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"CensorFlag","in":"query","description":"是否允许送审标识。审核房间流列表时，当前流是否允许审核：0 表示允许，1 表示不允许。\n> **📌 重要说明**\n>\n> - 当设置为不允许送审时，审核服务商将不会拉取此条流送审。\n>\n> - 在使用流注入方式实现跨房间 PK 的业务场景时，建议将此字段设置为\"不允许\"，以避免同一条流在多个房间内被重复送审。\n","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>1012</td>\n      <td>多个用户操作同一个流。</td>\n      <td>请检查逻辑。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":4443515903608307000,"description":"请求 ID。"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 4443515903608307000\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      