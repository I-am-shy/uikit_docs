---
id: set-forbid-stream-rule
title: "SetForbidStreamRule"
description: "设置音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>SetForbidStreamRule</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


设置音视频流封禁规则。

设置成功后，您可以 [查询音视频流封禁规则](./describe-forbid-stream-rules.mdx) 或 [删除音视频流封禁规则](./del-forbid-stream-rule.mdx)。

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Warning title="注意">
参数 DisableAudio 和 DisableVideo 的使用：
- 必须至少有一个取值为 1，否则调用本接口会出错。
- 针对同一条流 ID，如果多次调用本接口设置不同的封禁规则（每次调用接口时的 DisableAudio 和 DisableVideo 参数取值不同），则以最后一次调用接口的参数设置为准。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SetForbidStreamRule\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SetForbidStreamRule"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，最大不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"DisableAudio","in":"query","description":"是否封禁音频。0：不封禁（默认）；1：封禁。","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"DisableVideo","in":"query","description":"是否封禁视频。0：不封禁（默认）；1：封禁。","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"EffectiveTime","in":"query","description":"封禁规则有效时长，单位：秒。默认 21600。范围 1 ～ 86400（超过 24 小时的取值将自动调整为 24 小时）。","required":false,"schema":{"type":"integer","format":"int64","minimum":1,"maximum":86400,"default":21600}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"TestRequestId167562222222915000"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId167562222222915000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      