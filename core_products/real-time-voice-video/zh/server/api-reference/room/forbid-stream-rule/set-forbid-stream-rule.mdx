---
id: set-forbid-stream-rule
title: "SetForbidStreamRule"
description: "设置音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>SetForbidStreamRule</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


设置音视频流封禁规则。

设置成功后，您可以 [查询音视频流封禁规则](./describe-forbid-stream-rules.mdx) 或 [删除音视频流封禁规则](./del-forbid-stream-rule.mdx)。

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Warning title="注意">
参数 DisableAudio 和 DisableVideo 的使用：
- 必须至少有一个取值为 1，否则调用本接口会出错。
- 针对同一条流 ID，如果多次调用本接口设置不同的封禁规则（每次调用接口时的 DisableAudio 和 DisableVideo 参数取值不同），则以最后一次调用接口的参数设置为准。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SetForbidStreamRule\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SetForbidStreamRule"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，最大不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"DisableAudio","in":"query","description":"是否封禁音频。0：不封禁（默认）；1：封禁。","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"DisableVideo","in":"query","description":"是否封禁视频。0：不封禁（默认）；1：封禁。","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"EffectiveTime","in":"query","description":"封禁规则有效时长，单位：秒。默认 21600。范围 1 ～ 86400（超过 24 小时的取值将自动调整为 24 小时）。","required":false,"schema":{"type":"integer","format":"int64","minimum":1,"maximum":86400,"default":21600}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"TestRequestId167562222222915000"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId167562222222915000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      