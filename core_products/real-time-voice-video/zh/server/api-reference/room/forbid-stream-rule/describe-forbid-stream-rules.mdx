---
id: describe-forbid-stream-rules
title: "DescribeForbidStreamRules"
description: "查询音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidStreamRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询音视频流封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Note title="说明">如果所查询的 StreamId 不存在、或未设置任何音视频流封禁规则，则返回结果中所有字段值将会为 0，如响应示例中的 streamId2。</Note>
<Warning title="注意">
  调用 `DescribeForbidStreamRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidStreamRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidStreamRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"需要查询的房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"需要查询的流 ID，调用本接口查询时不可超过 10 个流 ID。","required":true,"schema":{"type":"array","items":{"type":"string"},"maxItems":10,"minItems":1},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ForbidStreamRuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询到的音视频流封禁规则信息列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的流 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"DisableAudio"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的音频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"DisableVideo"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的视频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的创建时间，Unix 时间戳，单位：秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"EffectiveTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的有效时间，Unix 时间戳，单位：秒。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"string\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"RoomId\": \"string\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"string\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Data\": {\n    \"RoomId\": \"room1\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"streamId1\",\n        \"DisableAudio\": 1,\n        \"DisableVideo\": 1,\n        \"CreateTime\": 1343313411,\n        \"EffectiveTime\": 3600\n      },\n      {\n        \"StreamId\": \"streamId2\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  },\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1710224543000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      