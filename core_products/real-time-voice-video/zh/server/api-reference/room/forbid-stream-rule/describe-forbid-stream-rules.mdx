---
id: describe-forbid-stream-rules
title: "DescribeForbidStreamRules"
description: "查询音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidStreamRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询音视频流封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Note title="说明">如果所查询的 StreamId 不存在、或未设置任何音视频流封禁规则，则返回结果中所有字段值将会为 0，如响应示例中的 streamId2。</Note>
<Warning title="注意">
  调用 `DescribeForbidStreamRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidStreamRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidStreamRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"需要查询的房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"需要查询的流 ID，调用本接口查询时不可超过 10 个流 ID。","required":true,"schema":{"type":"array","items":{"type":"string"},"maxItems":10,"minItems":1},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ForbidStreamRuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询到的音视频流封禁规则信息列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的流 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"DisableAudio"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的音频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"DisableVideo"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的视频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的创建时间，Unix 时间戳，单位：秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"EffectiveTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的有效时间，Unix 时间戳，单位：秒。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"string\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"RoomId\": \"string\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"string\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Data\": {\n    \"RoomId\": \"room1\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"streamId1\",\n        \"DisableAudio\": 1,\n        \"DisableVideo\": 1,\n        \"CreateTime\": 1343313411,\n        \"EffectiveTime\": 3600\n      },\n      {\n        \"StreamId\": \"streamId2\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  },\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1710224543000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      