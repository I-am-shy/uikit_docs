---
id: describe-forbid-stream-rules
title: "DescribeForbidStreamRules"
description: "查询音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidStreamRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询音视频流封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Note title="说明">如果所查询的 StreamId 不存在、或未设置任何音视频流封禁规则，则返回结果中所有字段值将会为 0，如响应示例中的 streamId2。</Note>
<Warning title="注意">
  调用 `DescribeForbidStreamRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidStreamRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidStreamRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"需要查询的房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"需要查询的流 ID，调用本接口查询时不可超过 10 个流 ID。","required":true,"schema":{"type":"array","items":{"type":"string"},"maxItems":10,"minItems":1},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ForbidStreamRuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询到的音视频流封禁规则信息列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的流 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"DisableAudio"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的音频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"DisableVideo"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的视频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的创建时间，Unix 时间戳，单位：秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"EffectiveTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的有效时间，Unix 时间戳，单位：秒。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"string\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"RoomId\": \"string\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"string\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Data\": {\n    \"RoomId\": \"room1\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"streamId1\",\n        \"DisableAudio\": 1,\n        \"DisableVideo\": 1,\n        \"CreateTime\": 1343313411,\n        \"EffectiveTime\": 3600\n      },\n      {\n        \"StreamId\": \"streamId2\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  },\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1710224543000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      