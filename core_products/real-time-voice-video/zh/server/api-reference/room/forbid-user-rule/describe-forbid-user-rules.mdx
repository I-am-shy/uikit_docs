---
id: describe-forbid-user-rules
title: "DescribeForbidUserRules"
description: "查询用户封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-user-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidUserRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询用户封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Warning title="注意">
调用 `DescribeForbidUserRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidUserRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidUserRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RuleType","in":"query","description":"需要查询的封禁规则类型：\n- 1：通过 IP 地址封禁用户；\n- 2：通过 RoomId 封禁用户；\n- 3：通过 UserId 封禁用户；\n- 4：通过 RoomId 和 UserId 封禁用户。\n","required":true,"schema":{"type":"integer","format":"int32","enum":[1,2,3,4]}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n    <tr>\n      <td>50123</td>\n      <td>当前处于有效期内的封禁规则条数超过限制。</td>\n      <td>请减少规则条数。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"TestRequestId1675674022729915000"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>RuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>用户封禁规则列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"RuleType"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`, `4`]"} schema={{"type":"integer","format":"int32","description":"封禁规则类型：1：通过 IP 地址封禁用户；2：通过 RoomId 封禁用户；3：通过 UserId 封禁用户；4：通过 RoomId 和 UserId 封禁用户。","enum":[1,2,3,4]}}></SchemaItem><SchemaItem collapsible={false} name={"IP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"IP 地址。RuleType 为 1 时，该参数有值。","example":""}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。RuleType 为 2、4 时，该参数有值。","example":"room1"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。RuleType 为 3、4 时，该参数有值。","example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"DisabledPrivilegeList"} required={false} schemaName={"int32[]"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"array","description":"规则封禁用户所能使用的功能：1：登录；2：推流。","items":{"type":"integer","format":"int32","enum":[1,2]}}}></SchemaItem><SchemaItem collapsible={false} name={"ExpireTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"用户封禁规则的过期时间，Unix 时间戳，单位：秒。","example":1704282648}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1675674022729915000\",\n  \"Data\": {\n    \"RuleList\": [\n      {\n        \"RuleType\": 1,\n        \"IP\": \"\",\n        \"RoomId\": \"room1\",\n        \"UserId\": \"user1\",\n        \"DisabledPrivilegeList\": [\n          1\n        ],\n        \"ExpireTime\": 1704282648\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1675674022729915000\",\n  \"Data\": {\n    \"RuleList\": [\n      {\n        \"RuleType\": 2,\n        \"IP\": \"\",\n        \"RoomId\": \"room1\",\n        \"UserId\": \"\",\n        \"DisabledPrivilegeList\": [\n          1,\n          2\n        ],\n        \"ExpireTime\": 1704282648\n      },\n      {\n        \"RuleType\": 2,\n        \"IP\": \"\",\n        \"RoomId\": \"room2\",\n        \"UserId\": \"\",\n        \"DisabledPrivilegeList\": [\n          1\n        ],\n        \"ExpireTime\": 1704282648\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      