---
id: describe-media-task
title: "DescribeMediaTask"
description: "本接口用于查询 [合并媒体文件](/real-time-video-server/api-reference/cdn/merge-media)、[开始点播转码](/real-time-video-server/api-reference/cdn/start-on-demand-transcoding) 及 [开始点播截图](/real-time-video-server/api-reference/cdn/media-thumbnails) 任务的详细信息，作为 [媒体文件合并完成回调](/real-time-video-server/callback/cdn/merge-media-completed) 和 [点播转码完成回调](/real-time-video-server/callback/cdn/on-demand-transcoding-completed) 的补充。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeMediaTask</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于查询 [合并媒体文件](/real-time-video-server/api-reference/cdn/merge-media)、[开始点播转码](/real-time-video-server/api-reference/cdn/start-on-demand-transcoding) 及 [开始点播截图](/real-time-video-server/api-reference/cdn/media-thumbnails) 任务的详细信息，作为 [媒体文件合并完成回调](/real-time-video-server/callback/cdn/merge-media-completed) 和 [点播转码完成回调](/real-time-video-server/callback/cdn/on-demand-transcoding-completed) 的补充。

本接口支持查询“合并任务”、“转码任务”及“截图任务”的进度；任务完成后，也可以通过本接口获取合并文件或转码文件的播放地址。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeMediaTask\n","required":true,"schema":{"type":"string","enum":["DescribeMediaTask"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"TaskId","in":"query","required":true,"schema":{"type":"string"},"description":"需要查询的任务 ID，即 <a href=\"!Media_File/MergeMedia\" target=\"_blank\">合并媒体文件</a>、<a href=\"!Start_onDemand_transcoding\" target=\"_blank\">开始点播转码</a> 及 <a href=\"!MediaThumbnails\" target=\"_blank\">开始点播截图</a> 接口响应参数中 Data 内携带的 TaskId。"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"<p>可能的取值及对应的 CDN 厂商：</p><ul><li>Tencent：腾讯云。<li>Huawei：华为云。</li>\n注意：当前华为云只支持查询截图任务，暂不支持查询合并任务和转码任务。</li></ul>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 取值为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的任务 ID","example":"1400341231-ComposeMedia-6fdfc967d7eb12f5e9b27f52519f1afatt0"}}></SchemaItem><SchemaItem collapsible={false} name={"Event"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务的事件类型，返回值为：\n- compose：媒体文件合并\n- transcode：媒体文件点播转码\n- SnapshotByTimeOffset：时间点截图任务\n- SampleSnapshot：时间间隔截图任务\n","example":"compose"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务状态：\n- WAITING：等待中\n- PROCESSING：处理中\n- FINISH：已完成\n- FAIL：失败\n","example":"FINISH"}}></SchemaItem><SchemaItem collapsible={false} name={"FileId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件合并或转码后的文件 ID，与检索媒体信息接口响应参数中 Data 内携带的 FileId 相同","example":"xxxxxxxx"}}></SchemaItem><SchemaItem collapsible={false} name={"ReplayUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件合并或转码后的文件回放地址，不超过 1024 字节","example":"https://xxxxx-xxxxxxxx.zego.im/xxxxxxxx/xxxxxxx/xxxxxx.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID，由请求参数 Vendor 取值对应的 CDN 厂商（即腾讯云）返回，定位问题时需要提供该次请求的 RequestId","example":"6aac31f4-xxxx-xxxx-xxxx-5cc10ce11a49"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件任务失败的错误信息","example":""}}></SchemaItem><SchemaItem collapsible={false} name={"ThumbnailsUrl"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"点播截图任务生成的文件链接","items":{"type":"string"},"example":["http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_0.jpg","http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_2.jpg"]}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 取值为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的任务 ID","example":"289665200"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务状态：\n- NO_TASK：任务不存在\n- WAITING：等待处理\n- PROCESSING：处理中\n- SUCCEEDED：已完成\n- FAILED：失败\n- CANCELED：任务取消\n","example":"SUCCEEDED"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务开始时间，云厂商服务端 UTC 时间","example":"20241118065429"}}></SchemaItem><SchemaItem collapsible={false} name={"EndTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务结束时间，云厂商服务端 UTC 时间","example":"20241118065430"}}></SchemaItem><SchemaItem collapsible={false} name={"FileName"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"点播截图任务生成的文件","items":{"type":"string"},"example":["record/pickrecord/command_record/clarechen_test/0.jpg","record/pickrecord/command_record/clarechen_test/10.jpg"]}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1400341231-ComposeMedia-6fdfc967d7eb12f5e9b27f52519f1afatt0\",\n      \"Event\": \"compose\",\n      \"Status\": \"FINISH\",\n      \"FileId\": \"xxxxxxxx\",\n      \"ReplayUrl\": \"https://xxxxx-xxxxxxxx.zego.im/xxxxxxxx/xxxxxxx/xxxxxx.mp4\",\n      \"RequestId\": \"6aac31f4-xxxx-xxxx-xxxx-5cc10ce11a49\",\n      \"Message\": \"\",\n      \"ThumbnailsUrl\": [\n        \"http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_0.jpg\",\n        \"http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_2.jpg\"\n      ]\n    },\n    \"Huawei\": {\n      \"TaskId\": \"289665200\",\n      \"Status\": \"SUCCEEDED\",\n      \"CreateTime\": \"20241118065429\",\n      \"EndTime\": \"20241118065430\",\n      \"FileName\": [\n        \"record/pickrecord/command_record/clarechen_test/0.jpg\",\n        \"record/pickrecord/command_record/clarechen_test/10.jpg\"\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      