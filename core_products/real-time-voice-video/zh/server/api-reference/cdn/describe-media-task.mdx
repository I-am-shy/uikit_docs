---
id: describe-media-task
title: "DescribeMediaTask"
description: "本接口用于查询 [合并媒体文件](/real-time-video-server/api-reference/cdn/merge-media)、[开始点播转码](/real-time-video-server/api-reference/cdn/start-on-demand-transcoding) 及 [开始点播截图](/real-time-video-server/api-reference/cdn/media-thumbnails) 任务的详细信息，作为 [媒体文件合并完成回调](/real-time-video-server/callback/cdn/merge-media-completed) 和 [点播转码完成回调](/real-time-video-server/callback/cdn/on-demand-transcoding-completed) 的补充。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeMediaTask</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于查询 [合并媒体文件](/real-time-video-server/api-reference/cdn/merge-media)、[开始点播转码](/real-time-video-server/api-reference/cdn/start-on-demand-transcoding) 及 [开始点播截图](/real-time-video-server/api-reference/cdn/media-thumbnails) 任务的详细信息，作为 [媒体文件合并完成回调](/real-time-video-server/callback/cdn/merge-media-completed) 和 [点播转码完成回调](/real-time-video-server/callback/cdn/on-demand-transcoding-completed) 的补充。

本接口支持查询“合并任务”、“转码任务”及“截图任务”的进度；任务完成后，也可以通过本接口获取合并文件或转码文件的播放地址。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeMediaTask\n","required":true,"schema":{"type":"string","enum":["DescribeMediaTask"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"TaskId","in":"query","required":true,"schema":{"type":"string"},"description":"需要查询的任务 ID，即 <a href=\"!Media_File/MergeMedia\" target=\"_blank\">合并媒体文件</a>、<a href=\"!Start_onDemand_transcoding\" target=\"_blank\">开始点播转码</a> 及 <a href=\"!MediaThumbnails\" target=\"_blank\">开始点播截图</a> 接口响应参数中 Data 内携带的 TaskId。"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"<p>可能的取值及对应的 CDN 厂商：</p><ul><li>Tencent：腾讯云。<li>Huawei：华为云。</li>\n注意：当前华为云只支持查询截图任务，暂不支持查询合并任务和转码任务。</li></ul>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 取值为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的任务 ID","example":"1400341231-ComposeMedia-6fdfc967d7eb12f5e9b27f52519f1afatt0"}}></SchemaItem><SchemaItem collapsible={false} name={"Event"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务的事件类型，返回值为：\n- compose：媒体文件合并\n- transcode：媒体文件点播转码\n- SnapshotByTimeOffset：时间点截图任务\n- SampleSnapshot：时间间隔截图任务\n","example":"compose"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务状态：\n- WAITING：等待中\n- PROCESSING：处理中\n- FINISH：已完成\n- FAIL：失败\n","example":"FINISH"}}></SchemaItem><SchemaItem collapsible={false} name={"FileId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件合并或转码后的文件 ID，与检索媒体信息接口响应参数中 Data 内携带的 FileId 相同","example":"xxxxxxxx"}}></SchemaItem><SchemaItem collapsible={false} name={"ReplayUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件合并或转码后的文件回放地址，不超过 1024 字节","example":"https://xxxxx-xxxxxxxx.zego.im/xxxxxxxx/xxxxxxx/xxxxxx.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID，由请求参数 Vendor 取值对应的 CDN 厂商（即腾讯云）返回，定位问题时需要提供该次请求的 RequestId","example":"6aac31f4-xxxx-xxxx-xxxx-5cc10ce11a49"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"媒体文件任务失败的错误信息","example":""}}></SchemaItem><SchemaItem collapsible={false} name={"ThumbnailsUrl"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"点播截图任务生成的文件链接","items":{"type":"string"},"example":["http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_0.jpg","http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_2.jpg"]}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 取值为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的任务 ID","example":"289665200"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务状态：\n- NO_TASK：任务不存在\n- WAITING：等待处理\n- PROCESSING：处理中\n- SUCCEEDED：已完成\n- FAILED：失败\n- CANCELED：任务取消\n","example":"SUCCEEDED"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务开始时间，云厂商服务端 UTC 时间","example":"20241118065429"}}></SchemaItem><SchemaItem collapsible={false} name={"EndTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务结束时间，云厂商服务端 UTC 时间","example":"20241118065430"}}></SchemaItem><SchemaItem collapsible={false} name={"FileName"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"点播截图任务生成的文件","items":{"type":"string"},"example":["record/pickrecord/command_record/clarechen_test/0.jpg","record/pickrecord/command_record/clarechen_test/10.jpg"]}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1400341231-ComposeMedia-6fdfc967d7eb12f5e9b27f52519f1afatt0\",\n      \"Event\": \"compose\",\n      \"Status\": \"FINISH\",\n      \"FileId\": \"xxxxxxxx\",\n      \"ReplayUrl\": \"https://xxxxx-xxxxxxxx.zego.im/xxxxxxxx/xxxxxxx/xxxxxx.mp4\",\n      \"RequestId\": \"6aac31f4-xxxx-xxxx-xxxx-5cc10ce11a49\",\n      \"Message\": \"\",\n      \"ThumbnailsUrl\": [\n        \"http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_0.jpg\",\n        \"http://vod-tc-restorefile.zego.im/43b7b075vodtranscq1500030200/93172bfa1397757897438985100/sampleSnapshot/sampleSnapshot_10_2.jpg\"\n      ]\n    },\n    \"Huawei\": {\n      \"TaskId\": \"289665200\",\n      \"Status\": \"SUCCEEDED\",\n      \"CreateTime\": \"20241118065429\",\n      \"EndTime\": \"20241118065430\",\n      \"FileName\": [\n        \"record/pickrecord/command_record/clarechen_test/0.jpg\",\n        \"record/pickrecord/command_record/clarechen_test/10.jpg\"\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      