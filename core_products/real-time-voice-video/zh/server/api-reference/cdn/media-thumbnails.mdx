---
id: media-thumbnails
title: "MediaThumbnails"
description: "本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>MediaThumbnails</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。
- 指定时间点截图：文件开始播放后，将在所设置的时间点进行截图。
- 按时间间隔截图：文件开始播放后，将会根据所设置的时间间隔，反复进行截图，直至文件播放结束。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=MediaThumbnails\n","required":true,"schema":{"type":"string","enum":["MediaThumbnails"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"对应的 CDN 厂商：<br/><ul><li>Tencent：腾讯云。</li><li>Huawei：华为云。</li></ul>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"文件唯一标识。各 CDN 厂商的录制文件唯一标识不同：<br/>\n<ul>\n<li>腾讯云：FileID。</li><li>华为云：ObsObject。</li>\n</ul>\n您可以通过以下方式获取：\n<ul>\n<li><a href=\"!Callback/Record_File_Create_Callback\" target=\"blank\">录制文件生成回调</a> 的参数 FileID 及 ObsObject。</li>\n<li><a href=\"!Callback/compose\" target=\"blank\">媒体文件合并完成回调</a> 的参数 file_id。</li>\n<li><a href=\"!Media_File/SearchMedia\" target=\"blank\">检索媒体信息</a> 的参数 FileId。</li>\n</ul>\n\n>**注意**\n>\n> ZEGO 不会对“传入的 FileId 文件是否真实存在”进行验证，请您注意填写正确的 FileId；传入错误的 FileId，响应参数中的 Code 为 1000。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Type","in":"query","required":true,"schema":{"type":"string","enum":["SnapshotByTimeOffset","SampleSnapshot"]},"description":"截图方式。\n<ul>\n<li>指定时间点截图：SnapshotByTimeOffset。</li><li>按时间间隔截图：SampleSnapshot。</li>\n</ul>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Definition","in":"query","required":false,"schema":{"type":"number"},"description":"截图模板 ID，请联系 ZEGO 技术支持获取。<br/><b>仅对 Vendor 取值为 Tencent 有效且为必填项，取值为 Huawei 无效。</b><br/>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtTimeOffsetSet","in":"query","required":false,"description":"需要截图的时间点，单位秒。<br/><b>Type 取值为 SnapshotByTimeOffset 时必填。</b><br/>","schema":{"type":"array","items":{"type":"number"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Interval","in":"query","required":false,"schema":{"type":"number"},"description":"需要连续截图的时间间隔，单位秒。\n<br/><b>仅对 Vendor 取值为 Huawei 有效且为必填项，取值为 Tencent 时无效。</b><br/>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>41003</td><td>文件不存在。</td><td>请确认文件格式、文件 ID 等是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID","example":"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID。如需 ZEGO 技术支持定位问题，需要提供该 RequestId","example":"474284b3-d722-490a-ba2c-de0b472eab83"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"task_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0\",\n      \"RequestId\": \"474284b3-d722-490a-ba2c-de0b472eab83\"\n    },\n    \"Huawei\": {\n      \"task_id\": \"string\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      