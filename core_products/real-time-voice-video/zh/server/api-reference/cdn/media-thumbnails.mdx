---
id: media-thumbnails
title: "MediaThumbnails"
description: "本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>MediaThumbnails</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。
- 指定时间点截图：文件开始播放后，将在所设置的时间点进行截图。
- 按时间间隔截图：文件开始播放后，将会根据所设置的时间间隔，反复进行截图，直至文件播放结束。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=MediaThumbnails\n","required":true,"schema":{"type":"string","enum":["MediaThumbnails"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。2021-11-16 及之前在 ZEGO 控制台创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n","required":false,"schema":{"type":"string","enum":["true","false"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"对应的 CDN 厂商：<br/><ul><li>Tencent：腾讯云。</li><li>Huawei：华为云。</li></ul>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"文件唯一标识。各 CDN 厂商的录制文件唯一标识不同：<br/>\n<ul>\n<li>腾讯云：FileID。</li><li>华为云：ObsObject。</li>\n</ul>\n您可以通过以下方式获取：\n<ul>\n<li><a href=\"!Callback/Record_File_Create_Callback\" target=\"blank\">录制文件生成回调</a> 的参数 FileID 及 ObsObject。</li>\n<li><a href=\"!Callback/compose\" target=\"blank\">媒体文件合并完成回调</a> 的参数 file_id。</li>\n<li><a href=\"!Media_File/SearchMedia\" target=\"blank\">检索媒体信息</a> 的参数 FileId。</li>\n</ul>\n\n>**注意**\n>\n> ZEGO 不会对“传入的 FileId 文件是否真实存在”进行验证，请您注意填写正确的 FileId；传入错误的 FileId，响应参数中的 Code 为 1000。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Type","in":"query","required":true,"schema":{"type":"string","enum":["SnapshotByTimeOffset","SampleSnapshot"]},"description":"截图方式。\n<ul>\n<li>指定时间点截图：SnapshotByTimeOffset。</li><li>按时间间隔截图：SampleSnapshot。</li>\n</ul>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Definition","in":"query","required":false,"schema":{"type":"number"},"description":"截图模板 ID，请联系 ZEGO 技术支持获取。<br/><b>仅对 Vendor 取值为 Tencent 有效且为必填项，取值为 Huawei 无效。</b><br/>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtTimeOffsetSet","in":"query","required":false,"description":"需要截图的时间点，单位秒。<br/><b>Type 取值为 SnapshotByTimeOffset 时必填。</b><br/>","schema":{"type":"array","items":{"type":"number"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Interval","in":"query","required":false,"schema":{"type":"number"},"description":"需要连续截图的时间间隔，单位秒。\n<br/><b>仅对 Vendor 取值为 Huawei 有效且为必填项，取值为 Tencent 时无效。</b><br/>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>41003</td><td>文件不存在。</td><td>请确认文件格式、文件 ID 等是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID","example":"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID。如需 ZEGO 技术支持定位问题，需要提供该 RequestId","example":"474284b3-d722-490a-ba2c-de0b472eab83"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"task_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0\",\n      \"RequestId\": \"474284b3-d722-490a-ba2c-de0b472eab83\"\n    },\n    \"Huawei\": {\n      \"task_id\": \"string\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      