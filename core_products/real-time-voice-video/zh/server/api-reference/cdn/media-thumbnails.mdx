---
id: media-thumbnails
title: "MediaThumbnails"
description: "本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>MediaThumbnails</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。
- 指定时间点截图：文件开始播放后，将在所设置的时间点进行截图。
- 按时间间隔截图：文件开始播放后，将会根据所设置的时间间隔，反复进行截图，直至文件播放结束。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=MediaThumbnails\n","required":true,"schema":{"type":"string","enum":["MediaThumbnails"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"对应的 CDN 厂商：<br/><ul><li>Tencent：腾讯云。</li><li>Huawei：华为云。</li></ul>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"文件唯一标识。各 CDN 厂商的录制文件唯一标识不同：<br/>\n<ul>\n<li>腾讯云：FileID。</li><li>华为云：ObsObject。</li>\n</ul>\n您可以通过以下方式获取：\n<ul>\n<li><a href=\"!Callback/Record_File_Create_Callback\" target=\"blank\">录制文件生成回调</a> 的参数 FileID 及 ObsObject。</li>\n<li><a href=\"!Callback/compose\" target=\"blank\">媒体文件合并完成回调</a> 的参数 file_id。</li>\n<li><a href=\"!Media_File/SearchMedia\" target=\"blank\">检索媒体信息</a> 的参数 FileId。</li>\n</ul>\n\n>**注意**\n>\n> ZEGO 不会对“传入的 FileId 文件是否真实存在”进行验证，请您注意填写正确的 FileId；传入错误的 FileId，响应参数中的 Code 为 1000。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Type","in":"query","required":true,"schema":{"type":"string","enum":["SnapshotByTimeOffset","SampleSnapshot"]},"description":"截图方式。\n<ul>\n<li>指定时间点截图：SnapshotByTimeOffset。</li><li>按时间间隔截图：SampleSnapshot。</li>\n</ul>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Definition","in":"query","required":false,"schema":{"type":"number"},"description":"截图模板 ID，请联系 ZEGO 技术支持获取。<br/><b>仅对 Vendor 取值为 Tencent 有效且为必填项，取值为 Huawei 无效。</b><br/>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtTimeOffsetSet","in":"query","required":false,"description":"需要截图的时间点，单位秒。<br/><b>Type 取值为 SnapshotByTimeOffset 时必填。</b><br/>","schema":{"type":"array","items":{"type":"number"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Interval","in":"query","required":false,"schema":{"type":"number"},"description":"需要连续截图的时间间隔，单位秒。\n<br/><b>仅对 Vendor 取值为 Huawei 有效且为必填项，取值为 Tencent 时无效。</b><br/>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>41003</td><td>文件不存在。</td><td>请确认文件格式、文件 ID 等是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID","example":"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID。如需 ZEGO 技术支持定位问题，需要提供该 RequestId","example":"474284b3-d722-490a-ba2c-de0b472eab83"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"task_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0\",\n      \"RequestId\": \"474284b3-d722-490a-ba2c-de0b472eab83\"\n    },\n    \"Huawei\": {\n      \"task_id\": \"string\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      