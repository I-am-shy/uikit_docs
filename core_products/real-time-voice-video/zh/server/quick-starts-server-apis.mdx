@@@ServerAPIWarning@@@

# 快速开始

- - -

## 简介

ZEGO 云通讯产品（实时音视频、实时语音等产品）提供了多个服务端 API 接口，支持开发者向 ZEGO 服务端发送请求，实现房间信令、媒体服务、音视频混流等一系列后台服务。开发者可以通过发起 HTTPS 网络请求，使用 GET 或 POST 方法调用服务端 API，实现与 ZEGO 服务端的信息交互。

本文以 “如何调用一个服务端 API 接口” 为例，帮助开发者快速了解服务端 API 各类接口的使用方式。


## 前提条件

在开始调用服务端 API 接口之前，请确保：

- 已在 [ZEGO 控制台\|_blank](https://console.zego.im) 创建项目，并申请有效的 AppId 和 ServerSecret，详情请参考 [控制台 - 项目管理\|_blank](#12107) 中的“项目信息”。
- 已准备好调试服务端 API 接口的开发环境，例如已准备好 Postman，详情请参考 [使用 Postman 调试\|_blank](!Postman/Postman)。
- 已准备好自己的客户端，搭建相关的业务场景。例如，调用服务端 API 接口 [开始混流\|_blank](!MixStream/StartMix) 之前，开发者需要通过自己的客户端，在房间内发起音视频的推拉流。


@@@server_demo_base@@@


## 使用流程

开发者可以通过以下流程，快速向 ZEGO 服务端发起请求：

1. 开发者的服务端首先确认请求的 URL 地址；
2. 根据签名生成规则，获取签名信息；
3. 开发者的服务端配置公共请求参数；
4. 配置 API 相关业务参数；
5. 开发者的服务端通过 URL 地址，携带请求信息（包含业务参数、签名信息等），访问 ZEGO 服务端；
6. ZEGO 服务端返回响应信息。


我们以 API 接口 [获取房间用户列表\|_blank](!room/Get_user_list)，向 ZEGO 服务端发送 GET 请求为例，详细介绍使用流程。

### 1 确认 URL 地址

ZEGO 服务端根据不同的 URL 地址（具体格式请参考 [调用方式\|_blank](!Making_API_Requests/Making_API_Requests#2) 中的 “请求方式概述”），区分不同的请求。因此，开发者的服务端访问 ZEGO 服务端，请先到对应接口文档中获取请求 URL 地址。

以下为 [获取房间用户列表\|_blank](!room/Get_user_list) 的 URL 地址：

```js
https://rtc-api.zego.im/?Action=DescribeUserList
```

其中：
- https：指定了请求通信协议。
- rtc-api.zego.im：指定了 ZEGO 服务端的接入地址，其中 `rtc` 代表使用的产品是云通讯产品（包含实时音视频、实时语音等），详见 [调用方式 - 请求结构 - 接入地址\|_blank](!Making_API_Requests/Making_API_Requests#3_1)。
- Action=DescribeUserList：指定了要调用的 API 接口为 `DescribeUserList`。


### 2 生成签名信息

为保证 API 的安全调用，ZEGO 服务端会对每个 API 的访问请求进行身份验证。开发者在调用 API 时，都需要在请求中包含签名 Signature 信息。

开发者可以参考 [调用方式 - 签名机制\|_blank](!Making_API_Requests/Making_API_Requests#5) 中的各语言示例代码，使用本文 [前提条件](!QuickStarts_Server_APIs#2) 获取到的 AppId 和 ServerSecret，生成自己的签名信息。


### 3 配置公共请求参数

开发者调用每个 ZEGO 服务端 API 前，需要先配置 API 的公共请求参数。

公共请求参数，是指每个接口都需要使用到的请求参数，包含了 AppId、Signature（指 [2 生成的签名信息](!QuickStarts_Server_APIs#5_2)）、SignatureNonce（随机字符串）、Timestamp（时间戳）等参数，请根据实际情况修改。公共参数的具体介绍，请参考 [调用方式 - 公共参数\|_blank](!Making_API_Requests/Making_API_Requests#4)。

```
https://rtc-api.zego.im/?Action=DescribeUserList&AppId=1234567890&SignatureNonce=15215528852396&Timestamp=1234567890&Signature=Pc5WB8gokVn0xfeu%2FZV%2BiNM1dgI%3D&SignatureVersion=2.0&IsTest=false
```

开发者可以在 [服务端 API 校验\|_blank](https://doc-zh.zego.im/server-link-checker) 页面中，输入 URL 地址，验证签名信息、公共参数、以及 URL 格式是否合法。

### 4 配置 API 相关业务参数

配置完公共参数后，再去配置 API 相关的业务参数，设定所需的目标操作。 

业务参数的具体介绍，请参考 [请求参数\|_blank](!room/Get_user_list#3)。

### 5 开发者的服务端发起请求 

以上配置完成后，开发者的服务端可以通过 URL 地址，向 ZEGO 服务端发送请求。

请求示例如下：

```
//该请求为获取 RoomId 为 `room_demo` 的房间内的用户列表
https://rtc-api.zego.im/?Action=DescribeUserList
&RoomId=room_demo
&Mode=0
&Limit=2
&Marker=1635940599950-user2
&<公共请求参数>
```

### 6 ZEGO 服务端响应请求

ZEGO 服务端接收到开发者的请求信息后，返回响应的信息。

```json
{
    "Code": 0,
    "Message": "success",
    "RequestId": "TestRequestId1635940600561291000",
    "Data": {
        "Marker": "1635940599950-user2",
        "UserList": [
            {
                "UserId": "user1",
                "UserName": "user1"
            },
            {
                "UserId": "user2",
                "UserName": "user2"
            }
        ]
    }
}
```

返回信息字段中，如果 Code 为 “0” 表示访问成功，即可查看到房间内的成员列表；如果不为 “0”，请参考 [全局返回码\|_blank](!Return_Codes/Return_Codes) 处理。

至此，开发者的服务端和 ZEGO 服务端就完成了一次信息交互。
