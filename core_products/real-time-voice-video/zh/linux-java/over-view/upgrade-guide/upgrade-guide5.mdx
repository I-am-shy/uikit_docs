# 3.8.0 及以上版本升级指南

---

<Warning title="注意">


- 如果您当前的 SDK 低于 3.8.0 版本，需要升级到任一 3.8.0 或以上的 SDK 版本时，都请务必阅读本文。
- 此外，建议您根据**当前版本号**与**升级目标版本号**，参考 [发布日志](!DownloadSDK/Release_Notes) 中两个版本区间的变更说明，检查您的业务相关接口。

</Warning>



在 3.8.0 版本，对媒体推流器 [ZegoMediaDataPublisher](@-ZegoMediaDataPublisher) 类的 API 命名进行变更：

1. 将原来的成员函数 `setMediaDataPublisherEventHandler` 更名为 [setEventHandler](@setEventHandler)。

2. 将原来的抽象类 `IMediaDataPublisherEventHandler` 更名为 [IZegoMediaDataPublisherEventHandler](@-IZegoMediaDataPublisherEventHandler)。


## 编译报错

从 3.8.0 之前的版本升级成功后，可能会编译报错，需要适配。

```sh
cannot find symbol
[ERROR]    symbol:   method setMediaDataPublisherEventHandler(<anonymous im.zego.zegoexpress.callback.IZegoMediaDataPublisherEventHandler>)
[ERROR]    location: variable mediaDataPublisher of type im.zego.zegoexpress.ZegoMediaDataPublisher
```

```sh
cannot find symbol
[ERROR]   symbol:   class IMediaDataPublisherEventHandler
[ERROR]   location: class com.example.MediaDataPublisherExample
```

## 适配方式

#### 3.8.0 版本前

```java
publisher.setMediaDataPublisherEventHandler(new IMediaDataPublisherEventHandler() {
    // ...
});
```

#### 3.8.0 版本及以上

```java
publisher.setEventHandler(new IZegoMediaDataPublisherEventHandler() {
    // ...
});
```
