---
articleID: 10921
---
# 耳返与声道设置与声道设置

- - -
 
## 功能简介

<div class="mk-warning">

本文档暂不适用于 Web 平台。
</div>

@@@Ear-back_and_Channel_Settings_Function_Introduction@@@

  
## 示例源码下载

请参考 [下载示例源码](!DownloadDemo/DownloadDemo) 获取源码。

相关源码请查看 “lib/topics/AudioAdvanced/ear_return_and_channel_settings” 目录下的文件。

## 前提条件

在进行耳返与声道设置之前，请确保：

@@@Express_Prerequisites_shortlinks@@@


## 使用步骤

### 设置耳返

#### 1 开启耳返

开启预览后或者开始推流后，调用 [enableHeadphoneMonitor](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineDevice/enableHeadphoneMonitor.html) 接口开启耳返（即开启采集监听），连接上耳机，用户发出声音后，即可听到自己的声音。

<div class = 'mk-hint'>

开启耳返功能后，必须连接上耳机后，该功能才会实际生效。
</div>

```dart
ZegoExpressEngine.instance.enableHeadphoneMonitor(true);
```

#### 2 设置耳返音量

开启预览后或者开始推流后，调用 [setHeadphoneMonitorVolume](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineDevice/setHeadphoneMonitorVolume.html) 接口调整耳返的音量。

其中参数 “volume” 为采集耳返音量大小，取值范围为 [0, 200]，默认为 60。

```dart
ZegoExpressEngine.instance.setHeadphoneMonitorVolume(100);
```

### 设置声道

<div class="mk-warning">

[setAudioConfig](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setAudioConfig.html) 和 [setAudioCaptureStereoMode](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setAudioCaptureStereoMode.html) 都需要在 [startPublishingStream](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/startPublishingStream.html)、[startPlayingStream](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePlayer/startPlayingStream.html)、[startPreview](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/startPreview.html)、[createMediaPlayer](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineMediaPlayer/createMediaPlayer.html) 和 [createAudioEffectPlayer](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAudioEffectPlayer/createAudioEffectPlayer.html) 之前调用才有效。 
</div>

#### 1 设置音频双声道编码

在推流前调用 [setAudioConfig](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setAudioConfig.html) 方法设置音频质量相关配置，其中音频编码声道参数 “channel” 需要设置为双声道编码（默认值为单声道编码），其他参数取默认值即可。

```dart
var audioConfig = ZegoAudioConfig.preset(ZegoAudioConfigPreset.HighQualityStereo);
ZegoExpressEngine.instance.setAudioConfig(audioConfig);
```

#### 2 设置音频采集双声道模式

<div class="mk-hint">

音频采集双声道模式，需要推流端使用支持双声道采集的设备作为音频输入源，一般手机的麦克风不支持采集双声道。
</div>

调用 [setAudioCaptureStereoMode](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setAudioCaptureStereoMode.html) 方法，根据实际场景设置 “Mode” 参数（默认为不开启双声道，即单声道采集）为“始终开启双声道采集”，开启音频双声道采集。

```dart
ZegoExpressEngine.instance.setAudioCaptureStereoMode(ZegoAudioCaptureStereoMode.Always);
```

#### 3 推流

请参考 [快速开始 - 实现流程](!Integration/Solution_Implementation#publishingStream) 的 “推流”，此时所推流的音频是双声道，拉流端无需做额外的配置，直接拉流即可播放双声道音频。
