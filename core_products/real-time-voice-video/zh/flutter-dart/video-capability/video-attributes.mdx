# 设置视频属性

- - -

## 1 功能简介

当视频通话或直播时，开发者可以根据需要设置视频属性，调整视频画面的清晰度、流畅度以及镜像，从而获得较好的用户体验。

## 2 前提条件

在设置视频属性之前，请确保：

- 已在项目中集成 ZEGO Express SDK，实现基本的实时音视频功能，详情请参考 [快速开始](#195)。
- 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考 [控制台 - 项目管理](#1265)。



## 3 使用步骤

### 3.1 设置视频属性

推流前调用 [setVideoConfig ](/zh/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-zego-express-engine#set-video-config) 接口设置视频分辨率、帧率和码率，可以使用 ZegoExpress SDK 提供的预设组合值，也可以自行设置 ZegoVideoConfig 对应字段。

ZegoVideoConfigPreset 的预设组合值如下：  
	
| ZegoVideoConfigPreset | 采集分辨率<br/>（宽 × 高） | 编码分辨率<br/>（宽 × 高） | 帧率（fps） | 码率（kbps） |
| ------------------- | ------------------ | --------------- | --------- | ---------- |
|      PRESET_180P      |       180 × 320        |      180 × 320      |     15      |     300      |
|      PRESET_270P      |       270 × 480        |      270 × 480      |     15      |     400      |
|      PRESET_360P      |       360 × 640        |      360 × 640      |     15      |     600      |
|      PRESET_540P      |       540 × 960        |      540 × 960      |     15      |     1200     |
|      PRESET_720P      |       720 × 1280       |      720 × 1280     |     15      |     1500     |
|     PRESET_1080P      |       1080 × 1920      |     1080 × 1920     |     15      |     3000     |  

使用预设值时示例代码如下：
```java
ZegoVideoConfig videoConfig = new ZegoVideoConfig(ZegoVideoConfigPreset.PRESET_1080P);
ZegoExpressEngine.getEngine().setVideoConfig(videoConfig);
```

自行设置时示例代码如下：
```java
ZegoVideoConfig videoConfig = new ZegoVideoConfig();
videoConfig.captureHeight = 640;
videoConfig.captureWidth = 360;
videoConfig.encodeHeight = 640;
videoConfig.encodeWidth = 360;
videoConfig.fps=15;
videoConfig.bitrate=600;
ZegoExpressEngine.getEngine().setVideoConfig(videoConfig);
```

<div class = 'mk-hint'>

为了避免渲染的图像出现裁剪或拉伸效果，建议采集分辨率和编码分辨率的宽高比保持一致。
</div>

### 3.2 设置视频镜像

推流前调用 [setVideoMirrorMode ](/zh/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-zego-express-engine#set-video-mirror-mode) 接口设置本地预览视频和推送的视频是否开启镜像模式。若开启则渲染出来的画面，物体运动时方向和照镜子时一致，若关闭镜像则相反。

ZegoVideoMirrorMode 的预设组合值如下：

| ZegoVideoMirrorMode | 预览画面 | 推流画面（对方拉流画面） |
| ----------------- | ------ | ---------------------- |
| ONLY_PREVIEW_MIRROR |   镜像   |          非镜像          |
| BOTH_MIRROR     |   镜像   |           镜像           |
| NO_MIRROR      |  非镜像  |          非镜像          |
| ONLY_PUBLISH_MIRROR |  非镜像  |           镜像           |

使用预设值时示例代码如下：
```java
ZegoExpressEngine.getEngine().setVideoMirrorMode(ZegoVideoMirrorMode.BOTH_MIRROR);
```

## 4 API 参考列表

| 方法                                                         | 描述         |
| ------------------------------------------------------------ | ------------ |
| [setVideoConfig ](/zh/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-zego-express-engine#set-video-config) | 设置视频配置 |
| [setVideoMirrorMode ](/zh/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-zego-express-engine#set-video-mirror-mode) | 设置镜像模式 |
