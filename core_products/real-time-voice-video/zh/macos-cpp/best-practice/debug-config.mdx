# 日志/版本号/调试信息

- - -

## 1 功能简介

开发者在集成 SDK 时会遇到一些错误，SDK 会输出相关错误日志，开发者可以根据需要配置日志输入路径和单个日志文件大小。

除此之外，SDK 支持调用接口查看当前版本。

## 2 前提条件

在使用日志相关功能之前，请确保：

- 已在项目中集成 ZEGO Express SDK，实现基本的实时音视频功能，详情请参考  [快速开始 - 集成\|_blank](#9975) 和  [快速开始 - 实现流程\|_blank](#9976)。
- 已在 [ZEGO 控制台\|_blank](https://console.zego.im) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考 [控制台 - 项目管理\|_blank](#1265)。

## 3 示例源码下载

请参考 [下载示例源码\|_blank](#9972) 获取源码。

相关源码请查看 “/ZegoExpressExample/Examples/DebugAndConfig” 目录下的文件。

## 4 使用步骤

### 4.1 设置日志属性

在创建引擎前，可通过调用 [setLogConfig\|blank_](@setLogConfig) 设置日志属性。

以设置日志存储路径为 “xx/xx/xx/xx/xx”，单个日志文件大小上限为 5MB 为例：

```C++
ZegoLogConfig logConfig;
// 设置日志存储路径
logConfig.logPath = "xx/xx/xx/xx/xx";
// 设置单个日志文件大小上限
logConfig.logSize = 5242880;
ZegoExpressSDK::setLogConfig(logConfig);
```

其中，[ZegoLogConfig\|blank_](@-ZegoLogConfig) 包含了日志相关设置：保存路径和文件大小上限。具体定义如下：

```C++
struct ZegoLogConfig
{
    // 日志文件保存路径
    std::string logPath;

    // 日志文件大小上限 (Bytes)，默认为 5MB (5 * 1024 * 1024 Bytes)
    unsigned long long logSize;

    ZegoLogConfig(){
        logSize = 5 * 1024 * 1024;
    }
};
```

### 4.2 创建引擎  

定义 SDK 引擎对象，调用 [createEngine\|_blank](@createEngine) 接口，将申请到的 AppID 和 AppSign 传入参数 “appID” 和 “appSign”，创建引擎单例对象。

如果需要注册回调代理，可将实现了 [IZegoEventHandler\|_blank](@-IZegoEventHandler) 的对象传入参数 “eventHandler”。如果不需要注册回调代理，可将 “null” 传入参数 “eventHandler”，创建引擎后仍需要注册回调时可通过调用 [setEventHandler\|_blank](@setEventHandler) 接口设置回调代理。

```C++
/** 定义 SDK 引擎对象 */
IZegoExpressEngine *engine = nullptr;

/** 填写 appID 和 appSign */
unsigned int appID = ;  /** 请通过官网注册获取，格式为 123456789 */
std::string appSign = ;  /** 64个字符，请通过官网注册获取，格式为"0123456789012345678901234567890123456789012345678901234567890123" */

/** 创建引擎，使用测试环境，通用场景接入 */
engine = ZegoExpressSDK::createEngine(appID, appSign, true, ZEGO_SCENARIO_GENERAL, nullptr);
```  

### 4.3 获取 SDK 版本号

调用 [getVersion\|blank_](@getVersion) 可获得 SDK 版本号。开发者可将 SDK 版本号信息作为 App 所使用的 engine 的版本信息，以便统计线上各版本 App 对应的各版本 SDK。

```C++
engine->getVersion();
```

<div class="mk-hint">
SDK 在运行过程中，当开发者发现与预期情况不符时，可将问题与相关日志提交给 ZEGO 技术支持定位，ZEGO 技术支持可能需要 engine 的版本的信息来辅助定位问题。
</div>

## 5 API 参考列表
| 方法        | 描述           |
| ----------- | -------------- |
|[createEngine\|_blank](@createEngine)  | 创建引擎单例对象   |
|[ZegoLogConfig\|blank_](@-ZegoLogConfig)|设置日志属性|
