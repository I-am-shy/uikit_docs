---
articleID: 17386
---
# 将白板推送到第三方平台

- - -

## 功能简介

@@@Push_the_whiteboard_info@@@


## 示例源码

请参考 [下载示例源码](!DownloadDemo/DownloadDemo) 获取源码。

相关源码请查看 “/ZegoExpressExample/Examples/Others/Mixer” 目录下的文件。

## 前提条件

在实现白板混流功能之前，请确保：

@@@Express-Video_Prerequisites@@@
- 已在项目中集成 ZegoSuperBoard SDK，实现白板相关功能，详情请参考 [创建超级白板](!ZegoSuperBoard-QuickStart/CreateWboard)。

@@@Enable_Mixed_Flow@@@


## 实现流程

### 1 初始化并登录房间

具体流程请参考“实现视频通话”文档的 [3.1 初始化](!Integration/Solution_Implementation#4_1) 和 [3.2 登录房间](!Integration/Solution_Implementation#4_2) 章节完成初始化并登录房间。

### 2 设置混流配置

在 Express SDK 中，通过 [ZegoMixerTask](@-ZegoMixerTask) 定义混流任务配置对象，其中包含输入流布局、输出流和 ZEGO 超级白板配置等信息。


```objc
/// 混流任务对象
@interface ZegoMixerTask : NSObject

- (instancetype)init NS_UNAVAILABLE;

/// 通过 TaskID 构造一个混流任务对象
- (instancetype)initWithTaskID:(NSString *)taskID;

/// 混流任务 ID
@property (nonatomic, copy, readonly) NSString *taskID;

/// 设置混流任务对象的输入流列表
- (void)setInputList:(NSArray<ZegoMixerInput *> *)inputList;

/// 设置混流任务对象的输出列表
- (void)setOutputList:(NSArray<ZegoMixerOutput *> *)outputList;

/// 设置混流任务对象的白板配置
- (void)setWhiteboard:(ZegoMixerWhiteboard *)whiteboard;

@end
```

@@@Express_Push_the_whiteboard_step1@@@

#### 4. 设置混流白板配置

调用 [setWhiteboard](@setWhiteboard) 接口，将 ZEGO 超级白板内容合入混流：需填入 [whiteboardID](@whiteboardID-ZegoMixerWhiteboard) 白板 ID 等参数，即本文 [前提条件](!Push_the_whiteboard#2) 中，集成 ZegoSuperBoard SDK 并创建白板时返回的 ID 等信息。

<div class="mk-hint">

白板混流支持的文件格式如下：
- 静态演示文件：PPTX、PPT。
- 动态演示文件：PPTX、PPT。
- 表格文件：XLS、XLSX。
- 文本文件：DOC、DOCX、TXT、PDF。
- 图片文件：JPG、JPEG、PNG、BMP。

</div>

以白板布局放置于画面左上角为例：

```objc
// ZEGO 超级白板 ID，即本文前提条件中，集成 ZegoSuperBoard SDK 并创建白板时返回的 ID
long whiteboardID = 0;
ZegoMixerWhiteboard *whiteboard= [[ZegoMixerWhiteboard alloc] initWithWhiteboardID:whiteboardID layout:CGRectMake(0, 0, 100, 100)];

// ZEGO 超级白板是否支持加载动态 PPT
[whiteboard setIsPPTAnimation:YES];

[task setWhiteboard:whiteboard];
```

### 3 开始混流任务

具体流程请参考混流文档的 [5.3 开始混流任务](!Other_Functions/Mixer#5_3) 章节。


### 4 更新混流任务配置

Express SDK 支持更新混流任务中的白板配置，例如，需要切换要混入的 ZEGO 超级白板实例或不再混入 ZEGO 超级白板时，可通过调用 [startMixerTask](@startMixerTask) 接口更新配置。如需更新混流任务的其它配置，请参考混流文档中的 [5.4 更新混流任务的配置](!Other_Functions/Mixer#5_4)。

以不再混入 ZEGO 超级白板内容到混流中为例：

```objc
// 重置混流任务白板配置信息
[self.mixerTask setWhiteboard:nil];

// 再调用一次启动混流任务接口，即可更新混流配置
[self.engine startMixerTask:self.mixerTask callback:^(ZegoMixerStartResult * _Nonnull result) {
    if (result.errorCode == 0) {
        NSLog(@"Start mixer task success");
    } else {
        NSLog(@"Start mixer task fail");
    }
}];
```

### 5 停止混流

具体流程请参考混流文档的 [5.5 停止混流](!Other_Functions/Mixer#5_5)。


## 常见问题

@@@Push_the_whiteboard_question@@@
