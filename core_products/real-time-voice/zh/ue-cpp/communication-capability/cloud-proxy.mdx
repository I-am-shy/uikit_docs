---
articleID: 18024
---
# 云代理

- - -

@@@Cloud_Proxy_Reuseable@@@

## 前提条件

在使用云代理之前，请确保：

- 已在项目中集成 ZEGO Express SDK，实现基本的实时语音功能，详情请参考 [快速开始 - 集成\|_blank](!ExpressAudioSDK-Integration/SDK_Integration) 和 [快速开始 - 实现流程\|_blank](!ExpressAudioSDK-Integration/Solution_Implementation)。
- 已在 [ZEGO 控制台\|_blank](https://console.zego.im) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考 [控制台 - 项目管理\|_blank](#12107) 中的“项目信息”。

## 使用流程

### 1 开通云代理服务

向 ZEGO 技术支持申请开通云代理服务。开通服务后，开发者将会获取到一个云代理域名与端口信息。

### 2 配置云代理

调用 [setCloudProxyConfig\|_blank](@setCloudProxyConfig) 配置云代理。

<div class="mk-warning">

此接口必须在调用 [createEngine\|_blank](@createEngine) 接口创建引擎前调用。
</div>

- 接口原型

```c++
/**
 * 设置云代理.
 *
 * 此接口需要在 createEngine 之前调用。
 * 调用此接口后，sdk 所有的网络请求与发送将通过云代理中转。
 *
 * @param proxyList 云代理信息列表，支持设置多个云代理信息。
 * @param token 鉴权 token，如果客户使用的鉴权方式是 appsign，这里可为空。 否则必须填入 token。
 * @param enable 是否启用云代理。
 */
static void setCloudProxyConfig(const std::vector<ZegoProxyInfo> &proxyList,
    const std::string &token, bool enable)
```

- 调用示例

```c++
ZegoProxyInfo proxy;
// 域名与端口，开发者根据开通云代理服务时获取的填写
proxy.hostName = "xxxxxxxxxxx.zego.im"; 
proxy.port = 1080;
std::vector<ZegoProxyInfo> infos;
infos.push_back(proxy);
ZegoExpressSDK::setCloudProxyConfig(infos, "", true);
```

@@@Cloud_Proxy_Question@@@

### 是否提供本地代理方案？

提供，详情请参考 [本地代理\|_blank](#15856)。
