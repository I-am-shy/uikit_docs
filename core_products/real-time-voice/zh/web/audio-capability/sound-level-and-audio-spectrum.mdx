---
articleID: 5121
---
# 音频频谱与音量变化
# 音量变化

- - -

## 1 功能简介

音量变化：指某条流的音量大小，下文简称为“声浪”。

在 K 歌场景中，经常需要拉多路流并显示其中正在讲话的用户，即构提供了甄别用户是否说话、说话音量大小（声浪）的能力，方便开发者做 UI 展示，例如：
<img src="/Pics/Android/ZegoLiveRoom/SoundLevel.png">

## 2 示例源码下载

请参考 [下载示例源码](#3211) 获取源码。

相关源码请查看 “src/common.js” 文件。

## 3 前提条件

在实现声浪功能之前，请确保：

@@@Express_Audio_Prerequisites_Web@@@


## 4 使用步骤

### 4.1 监听声浪回调接口

注册 [soundLevelUpdate|_blank](@soundLevelUpdate) 回调，接收流声浪变化。

```javascript
zg.on('soundLevelUpdate', (streamList) => {
    streamList.forEach(stream => {
        stream.type == 'push' && $('#soundLevel').html(Math.round(stream.soundLevel) + '');
        console.warn(`${stream.type} ${stream.streamID}, soundLevel: ${stream.soundLevel}`);
    });
});
```


### 4.2 启动声浪监听

调用 [setSoundLevelDelegate|_blank](/zh/api?doc=Express_Video_SDK_API~javascript_web_web~class~ZegoExpressEngine#set-sound-level-delegate) 接口启动监听声浪，设置声浪回调间隔时间。

```javascript
zg.setSoundLevelDelegate(true, 1000);
```

### 4.3 停止声浪监听

调用 [setSoundLevelDelegate|_blank](/zh/api?doc=Express_Video_SDK_API~javascript_web_web~class~ZegoExpressEngine#set-sound-level-delegate) 接口停止监听声浪。

```javascript
zg.setSoundLevelDelegate(false);
```


## 5 API 参考列表

| 方法 | 描述 |
|-------|--------|
| [soundLevelUpdate](@soundLevelUpdate)| 音浪更新回调 |
| [setSoundLevelDelegate](/zh/api?doc=Express_Video_SDK_API~javascript_web_web~class~ZegoExpressEngine#set-sound-level-delegate)| 设置音浪回调 |
