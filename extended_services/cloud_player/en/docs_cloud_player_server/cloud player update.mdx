# Update a cloud player

- - -

## Overview
Call this interface to update the playback progress, audio transcoding parameters, video transcoding parameters, and other information of the specified cloud player.

## Interface prototype

- Request method: POST
- Request URL: `https://cloud-player-api.zego.im/?Action=UpdatePlayer`
- Transport protocol: HTTPS
- Call frequency limit: 20 times/second

## Request parameters
The following list only lists the interface request parameters. For common parameters, please refer to [Calling method - Common request parameters\|_blank](17715#4_1).

<table class="collapsible-table" >
  
<tbody><tr data-row-level="1">
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
<tr data-row-level="2">
<td>PlayerId</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier ID for the cloud player, returned by <a href="./cloud player create.mdx" target="blank">CreatePlayer</a>.<strong>Make sure that PlayerId is an existing one when calling this interface, otherwise errors may occur.</strong></td>
</tr>
<tr data-row-level="3">
<td>Sequence</td>
<td>Number</td>
<td>Yes</td>
<td>Request sequence number used to ensure timing. The parameter modification of the same player task needs to ensure that the sequence number is incremented. For example: "Sequence": 1.ZEGO server will update the cloud player according to the latest configuration.</td>
</tr>
<tr data-row-level="4">
<td>StreamUrl</td>
<td>String</td>
<td>No</td>
<td>The address of the media resource, which must be a valid HTTP/HTTPS address and within 1024 bytes in length.</td>
</tr>
<tr data-row-level="5">
<td>BackupStreamUrl</td>
<td>String</td>
<td>No</td>
<td>The backup address of the media resource, which must be a valid HTTP/HTTPS address and within 1024 bytes in length.When the address in the StreamUrl parameter fails to be accessed, the cloud player will try to access the backup address.</td>
</tr>
<tr data-row-level="6" data-row-child="true">
<td>VideoOptions</td>
<td>Object</td>
<td>No</td>
<td>
Video transcoding parameter configuration.<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong>
</td>
</tr>
<tr data-row-level="6-1">
<td>Width</td>
<td>Number</td>
<td>No</td>
<td>Video width, with a value range of [1, 3000], and must be a multiple of 2, in pixels.<strong>Please note that when any parameter of Width and Height is set to 1, it represents pure audio streaming. When this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="6-2">
<td>Height</td>
<td>Number</td>
<td>No</td>
<td>Video height, with a value range of [1, 3000], and must be a multiple of 2, in pixels.<strong>Please note that when any parameter of Width and Height is set to 1, it represents pure audio streaming. When this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="6-3">
<td>VideoBitrate</td>
<td>Number</td>
<td>No</td>
<td>Video bitrate, with a value range of [1, 50000], in kbps.<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="7" data-row-child="true">
<td>AudioOptions</td>
<td>Object</td>
<td>No</td>
<td>Audio transcoding parameter configuration.<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="7-1">
<td>AudioBitrate</td>
<td>Number</td>
<td>No</td>
<td>Audio bitrate, with a range of [1, 192], in kbps.<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="7-2">
<td>Volume</td>
<td>Number</td>
<td>No</td>
<td>Volume value, with a range of [0, 200].<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="8">
<td>SeekTo</td>
<td>Number</td>
<td>No</td>
<td>Specify the playback progress (in seconds).<strong>Please note that when this parameter is not filled in, the default configuration of the last call to this interface or the creation of the cloud player will be used.</strong></td>
</tr>
<tr data-row-level="9">
<td>IsPause</td>
<td>Number</td>
<td>No</td>
<td>Whether to pause the playback.<ul><li>0: Play the source file normally.</li><li>1: Pause the playback of the source file.</li></ul></td>
</tr>
<tr data-row-level="10">
<td>RepeatTimes</td>
<td>Number</td>
<td>No</td>
<td>Play times.<ul><li>1: Play media stream once.</li><li>-1: Auto loop play.</li><li>n: Custom number of plays for media stream, must be greater than 0.</li></ul><strong>Please note that if this parameter is not filled in or the value is 0, the configuration from the previous call to this interface or the configuration when creating the cloud player will be used by default.</strong>&nbsp;</td>
</tr>
</tbody></table>

## Request example

#### Request URL
  
```bash
https://cloud-player-api.zego.im/?Action=UpdatePlayer
&AppId=1234567890
&SignatureNonce=15215528852396
&Timestamp=1234567890
&Signature=7a2c0f11145fb760d607a07b54825013
&SignatureVersion=2.0
&IsTest=false
```

#### Request body  

```json
{
    "PlayerId": "player_1",
    "Sequence": 100,
    "StreamUrl": "https://xxx.com/video/test111.mp4",
    "BackupStreamUrl": "",
    "VideoOptions": {
        "Width": 360,
        "Height": 640,
        "VideoBitrate": 1200
    },
    "AudioOptions": {
        "AudioBitrate": 48,
        "Volume": 150
    },
    "SeekTo": 10,
    "IsPause": 1,
    "RepeatTimes": 1
}
```

## Response parameters

<table class="collapsible-table" >
  
<tbody><tr data-row-level="1">
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
<tr data-row-level="2">
<td>Code</td>
<td>Number</td>
<td>Error code.</td>
</tr>
<tr data-row-level="3">
<td>Message</td>
<td>String</td>
<td>Error description.</td>
</tr>
<tr data-row-level="4">
<td>RequestId</td>
<td>String</td>
<td>Request ID.</td>
</tr>
</tbody></table>

## Response example
```json
{
    "Code": 0,
    "Message": "succeed",
    "RequestId": "abcd123"
}
```

## Return codes

The following are only the return codes related to the interface business logic. For the complete list of return codes, please refer to [Return Codes](./return%20codes.mdx).

<table>
  
<tbody><tr>
<th>Return Code</th>
<th>Description</th>
<th>Recommended Action</th>
</tr>
<tr>
<td>0</td>
<td>Success.</td>
<td>-</td>
</tr>
<tr>
<td>100000004</td>
<td>Signature expired.</td>
<td>Please regenerate the signature.</td>
</tr>
<tr>
<td>100000005</td>
<td>Signature error.</td>
<td>Please verify if the parameters used to generate the signature are correct.</td>
</tr>
<tr>
<td>350006001</td>
<td>API request frequency exceeded the limit.</td>
<td>Please check the QPS limit for the corresponding API and reduce the request frequency.</td>
</tr>
<tr>
<td>350006002</td>
<td>Gateway verification failed.</td>
<td>Please contact ZEGOCLOUD technical support for assistance.</td>
</tr>
<tr>
<td>350006003</td>
<td>Invalid input parameter.</td>
<td>Please adjust the value of the corresponding parameter according to the message prompt.</td>
</tr>
<tr>
<td>350006006</td>
<td>Service not activated.</td>
<td>Please contact ZEGOCLOUD technical support to activate the service.</td>
</tr>
<tr>
<td>350006009</td>
<td>Cloud player is being created.</td>
<td>Please try again later.</td>
</tr>
<tr>
<td>350010000</td>
<td>System error.</td>
<td>Please contact ZEGOCLOUD technical support for assistance.</td>
</tr>
</tbody></table>
