# Query user permissions

- - -

## Description

You can call this API to query the whiteboard permissions of users, with a maximum of 10 users' permissions allowed to be queried at a time. If the permissions of the queried users have not been granted, the server will not return the permission data for those users.

## Request method and endpoint

- Request method: GET
- Request endpoint: `https://whiteboard-api.zego.im/?Action=GetWhiteboardUserAuth`
- Protocol: HTTPS
- Rate limit: 50 requests/second (test environment: 1 request/second)

## Request parameters

Listed below are the parameters specific to this request. For the complete list of public request parameters, see [Accessing Server APIs - Public parameters](./Accessing%20Server%20APIs.mdx#public-parameters).

| Parameter | Type | Required | Description |
| :-- | :-- | :-- | :-- | 
| RoomId | String | Yes | ID of the room where the user permissions are to be queried. |
| UserId[] | Array of String | Yes | IDs of users whose permissions are to be queried. Permissions of a maximum of 10 users can be queried at a time. |

## Sample request

```json
https://whiteboard-api.zego.im/?Action=GetWhiteboardUserAuth
&RoomId=RoomName
&UserId[]=jack&UserId[]=tom
&<Public request parameters>
```

## Response parameters

| <p style={{width:"10em"}}>Parameter</p>  | Type | Description |
| :-- | :-- | :-- | 
| Code | Number | Return code. |
| Message | String | Message. |
| RequestId | String | Unique request ID generated by ZEGO. |
| Data | Object | If the value is empty, no permission on whiteboards has been set for the room. |
| └ UserId | String | User ID. |
| └ ModuleAuth[] | Array of Number | Operation permissions on whiteboards. <ul><li>0: no permission</li><li> 1: zooming</li><li> 2: scrolling</li></ul> |
| └ GraphicAuth[] | Array of Number | Operation permissions on diagram elements. <ul><li>0: no permission</li><li> 2: modifying diagram elements created by other users</li><li>4: erasing diagram elements created by other users</li><li>8: moving diagram elements created by other users</li><li> 16: deleting all diagram elements</li><li>32: creating diagram elements</li></ul> |

## Sample response

```json
{
    "Code":0,
    "Message":"SUCCESS",
    "RequestId":"2237080460466033406",
    "Data":[
        {
            "UserId":"jack",
            "ModuleAuth":[1,2],
            "GraphicAuth":[32,2]
        },
        {
            "UserId":"tom",
            "ModuleAuth":[1,2],
            "GraphicAuth":[32]
        }
    ]
}
```

## Return codes

Listed below are the return codes related to this API. For the complete list of return codes, see [Return codes](./Common%20Error%20Codes.mdx).

| Return code | Description |
| :-- | :-- | 
| 120000001 | Signature authentication failed. |
| 120000002 | Incorrect input parameters. |
| 120000102 | Failed to query user permissions. |
| 120000107 | The number of users to be queried exceeds the upper limit. |
| 120000301 | The room does not exist. |
