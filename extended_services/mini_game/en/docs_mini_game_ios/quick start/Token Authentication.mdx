# Token Authentication

- - -
@@@mini_game_token@@@

### 2. Configure the token

Pass in the token when you call the [init\|_blank](@init) operation to initialize ZEGO MiniGameEngine SDK.

```objc
// Initialize ZEGO Express SDK. Otherwise, you cannot receive the callback of the `init` operation.

// Initialize ZEGO MiniGameEngine SDK.
ZegoGameUserInfo *userInfo = [[ZegoGameUserInfo alloc] init];
// After you create a project in the [ZEGO console] (https://console.zego.im/), you can obtain the application ID from the project information. Append an "L" to the application ID. Example: 1234567890L.
long appID = 12345678L; 
NSString *token = @"your token"; // The token that your server generates.
userInfo.userID = @"your user ID"; // The custom user ID.
userInfo.userName = @"your user name"; // The custom username.
userInfo.avatar = @"your user avatar"; // The URL of the user avatar.
[ZegoMiniGameEngine.sharedEngine init:appID token:token userInfo:userInfo callBack:^(NSInteger errorCode2) {

}];
```

### 3. Update the token

The SDK sends a notification by using the [onTokenWillExpire\|_blank](@onTokenWillExpire) callback 30 seconds before the token expires.

After you receive the callback, you need to obtain a new token from your server and update the token by calling the [updateToken\|_blank](@updateToken) operation provided by the SDK.

```objc
// Obtain a notification indicating that the token expires after 30 seconds.
- (void)onTokenWillExpire {
    // Updates the token.
    [ZegoMiniGameEngine.sharedEngine updateToken:@"The new token"];
}
```
