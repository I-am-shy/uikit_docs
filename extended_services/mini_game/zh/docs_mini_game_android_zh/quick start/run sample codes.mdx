# 跑通示例源码

---

ZEGO 提供了服务端示例源码（Node.js）和客户端示例源码（Android），通过同时运行这两份示例源码，您可以快速构建应用，完整地体验已开通权限的小游戏效果；您也可以通过阅读示例源码，了解实现小游戏的基础实践。

本文分为两部分：

1. 跑通服务端示例源码（Node.js）
2. 跑通客户端示例源码（Android）

@@@MiniGames_Demo_Warning@@@

@@@mini_game_server_demo_run@@@

## 跑通客户端示例源码（Android）

### 准备环境

在运行示例源码前，请确保开发环境满足以下要求：

- Android Studio  2021.2.1 或以上版本 (下面简称 AS)。
- Android SDK 29、Android SDK Build-Tools 29.0.0、Android SDK Platform-Tools 29.x.x 或以上版本。
- Android 5.0 或以上版本，且支持音视频的 Android 设备或模拟器（推荐使用真机）。
- Android 设备已经连接到 Internet。

### 前提条件

@@@minigame_client_demo_prerequisite@@@

### 示例源码目录结构

下面目录结构为 Android 端示例源码的文件结构，下文所涉及的文件路径均为相对于此目录的路径。

```tree
.
├── app
│   ├── build.gradle
│   ├── proguard-rules.pro
│   └── src
│       └── main
│           ├── AndroidManifest.xml
│           ├── java
│           │   └── im
│           │       └── zego
│           │           └── minigameenginedemo
│           │               ├── ...
│           │               ├── KeyCenter.java // 填写 AppID 和后台地址
│           │               └── ...
│           │               └── ...
│           └── ...
├── build.gradle
├── gradle
├── gradle.properties
├── gradlew
├── gradlew.bat
└── settings.gradle
```

### 运行示例源码

1. 解压 Android 客户端示例源码压缩包，获取 “ZegoMiniGameEngineDemoSrc-Android” 文件夹。

2. 在开发电脑中找到 Android Studio 软件图标。

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_icon.png" /></Frame>
    
3. 打开 “Android Studio”，单击 “Open”。   

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_Welcome_Interface.png" /></Frame>

4. 选择已解压的源码文件夹。

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/MiniGames/open.jpeg" /></Frame>

<a name="host_ip"></a>

5. 修改 “app/src/main/java/im/zego/minigameenginedemo/KeyCenter.java” 文件，填写 SDK 初始化所需的 “AppID”，以及**服务端地址**（即根据本文 [前提条件\|_blank](#17678#2_2) 跑通服务端示例源码后获得的地址）。

    <Warning title="Warning">

    请使用本文 [前提条件](#17678#2_2) 已获取的 AppID 正确填写，格式为 AppID + L，如：1234567890L，否则示例源码无法正常运行。 
    </Warning>    

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/MiniGames/Demo_info_reqiured_android.jpeg" /></Frame>

6. 选择一台 Android 真机设备链接到开发电脑，当该设备成功开启“开发者模式”和“USB 调试功能”后，可以看到 Android Studio 界面已检测到该设备，如下图所示：
  
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_device_detected.png" /></Frame>   

    说明 Android Studio 软件已成功连接到 Android 设备，可以将源码运行到该设备上了。

7. 单击 Android Studio 软件上的 “build and run” 按钮，编译并运行源码，即可体验小游戏。  

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_build_and_run.png" /></Frame>
