# 美颜

- - -

## 1 功能简介

ZegoEffects SDK 提供美颜功能，为用户呈现出良好的肌肤状态，打造出独特自然的美颜效果。

开发者可以根据需要调整美白、磨皮、锐化等的程度，实现美颜功能。

## 2 前提条件

在使用 ZegoEffects SDK 美颜功能前，请确保：

- 已在项目中集成 ZegoEffects SDK，实现基本的图像处理功能，详情请参考 [快速开始 - 实现图像处理\|_blank](!Quick_Starts/Solution_Implementation)。
- 已上传待处理图像的宽、高。
- 导入基础通用资源 “CommonResources” 文件，详情请参考 [快速开始 - 导入资源和模型\|_blank](!Quick_Starts/Import_Resources)。


## 3 使用步骤

美颜包括美白、磨皮、锐化、红润等功能。

开启美颜功能之后，开发者可根据实际的需求来自定义美颜参数。如果未自定义，SDK 将采用默认参数值实现美颜功能。

### 3.1 美白

<div class = 'mk-warning'>

使用美白功能前，请先导入对应的 “FaceWhiteningResources” 资源文件，否则功能无法生效。详情请参考 [快速开始 - 导入资源和模型\|_blank](!Quick_Starts/Import_Resources)。
</div>


调用 [enableWhiten\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableWhiten.html) 方法开启美白功能，并调用 [setWhitenParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setWhitenParam.html) 方法设置美白的程度。  

[ZegoEffectsWhitenParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsWhitenParam-class.html) 对象的美白程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，美白程度越大，开发者可以根据需求自定义取值。


```java
// 开启美白功能
ZegoEffectsPlugin.instance.enableWhiten(true);

// 设置美白的程度，范围 [0, 100]，默认为 50
ZegoEffectsWhitenParam param = ZegoEffectsWhitenParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setWhitenParam(param);
```

### 3.2 磨皮

调用 [enableSmooth\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableSmooth.html) 方法开启磨皮功能，并调用 [setSmoothParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setSmoothParam.html) 方法设置磨皮的程度。

[ZegoEffectsSmoothParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsSmoothParam-class.html) 对象的磨皮程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，磨皮程度越大，开发者可以根据需求自定义取值。

```java
// 开启磨皮功能
ZegoEffectsPlugin.instance.enableSmooth(true);

// 设置磨皮的程度，范围 [0, 100]，默认为 50
ZegoEffectsSmoothParam param = ZegoEffectsSmoothParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setSmoothParam(param);
```


### 3.3 红润

<div class = 'mk-warning'>

使用红润功能前，请先导入对应的 “RosyResources” 资源文件，否则功能无法生效。详情请参考 [快速开始 - 导入资源和模型\|_blank](!Quick_Starts/Import_Resources)。
</div>


调用 [enableRosy\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableRosy.html) 方法红润功能，并调用 [setRosyParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setRosyParam.html) 方法设置红润的程度。  

[ZegoEffectsRosyParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsRosyParam-class.html) 对象的红润程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，红润程度越大，开发者可以根据需求自定义取值。


```java
// 开启红润功能
ZegoEffectsPlugin.instance.enableRosy(true);

// 设置红润的程度，范围 [0, 100]，默认为 50
ZegoEffectsRosyParam param = ZegoEffectsRosyParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setRosyParam(param);
```


### 3.4 锐化


调用 [enableSharpen\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableSharpen.html) 方法开启锐化功能，并调用 [setSharpenParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setSharpenParam.html) 方法设置锐化的程度。

[ZegoEffectsSharpenParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsSharpenParam-class.html) 对象的锐化程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，锐化程度越大，开发者可以根据需求自定义取值。

```java
// 开启锐化功能
ZegoEffectsPlugin.instance.enableSharpen(true);

// 设置锐化的程度，范围 [0, 100]，默认为 50
ZegoEffectsSharpenParam param = ZegoEffectsSharpenParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setSharpenParam(param);
```


### 3.5 去除法令纹

调用 [enableWrinklesRemoving\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableWrinklesRemoving.html) 方法开启法令纹去除功能，并调用 [setWrinklesRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setWrinklesRemovingParam.html) 方法设置法令纹去除的程度。

[ZegoEffectsWrinklesRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsWrinklesRemovingParam-class.html) 对象的法令纹去除程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，法令纹去除程度越大，开发者可以根据需求自定义取值。

```java
// 开启法令纹去除除功能
ZegoEffectsPlugin.instance.enableWrinklesRemoving(true);

// 设置法令纹去除的程度，范围 [0, 100]，默认为 50
ZegoEffectsWrinklesRemovingParam param = ZegoEffectsWrinklesRemovingParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setWrinklesRemovingParam(param);
```

### 3.6 去除黑眼圈

调用 [enableDarkCirclesRemoving\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableDarkCirclesRemoving.html) 方法开启黑眼圈去除功能，并调用 [setDarkCirclesRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setDarkCirclesRemovingParam.html) 方法设置黑眼圈去除的程度。

[ZegoEffectsDarkCirclesRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsDarkCirclesRemovingParam-class.html) 对象的黑眼圈去除程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “50”。取值越大，黑眼圈去除程度越大，开发者可以根据需求自定义取值。

```java
// 开启黑眼圈去除功能
ZegoEffectsPlugin.instance.enableDarkCirclesRemoving(true);

// 设置黑眼圈去除的程度，范围 [0, 100]，默认为 50
ZegoEffectsDarkCirclesRemovingParam param = ZegoEffectsDarkCirclesRemovingParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setDarkCirclesRemovingParam(param);
```

### 3.7 祛痘斑

调用 [enableAcneRemoving\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableAcneRemoving.html) 方法开启祛痘斑功能，并调用[setAcneRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setAcneRemovingParam.html) 方法设置祛痘祛斑的强度。

[ZegoEffectsAcneRemovingParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsAcneRemovingParam-class.html) 对象的祛痘斑程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “0”。取值越大，祛痘斑效果强度越大，开发者可以根据需求自定义取值。

```objc
// 开启祛痘斑功能
ZegoEffectsPlugin.instance.enableAcneRemoving(true);

// 设置祛痘斑的程度，范围 [0, 100]，默认为 0
ZegoEffectsAcneRemovingParam param = ZegoEffectsAcneRemovingParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setAcneRemovingParam(param);
```

### 3.8 清晰效果

<div class = 'mk-warning'>

使用清晰效果功能前，请先导入对应的 “ClarityResources” 资源文件，否则功能无法生效。详情请参考 [快速开始 - 导入资源和模型\|_blank](!Quick_Starts/Import_Resources)。
</div>

调用 [enableClarity\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableClarity.html) 方法开启清晰功能，并调用[setClarityParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setClarityParam.html) 方法设置清晰程度。

[ZegoEffectsClarityParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsClarityParam-class.html) 对象的清晰程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “0”。取值越大，越清晰，开发者可以根据需求自定义取值。

```objc
// 开启清晰功能
ZegoEffectsPlugin.instance.enableClarity(true);

// 设置清晰的程度，范围 [0, 100]，默认为 0
ZegoEffectsClarityParam param = ZegoEffectsClarityParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setClarityParam(param);
```

### 3.9 调整肤色效果

<div class = 'mk-warning'>

使用调整肤色功能前，请先导入“SkinColorResources” 对应的皮肤资源文件并加载，否则功能无法正常生效。详情请参考 [快速开始 - 导入资源和模型\|_blank](!Quick_Starts/Import_Resources)。
</div>

调用 [enableSkinColor\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableSkinColor.html) 方法开启调整肤色功能，并调用 [setSkinColor\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setSkinColor.html) 加载可支持的皮肤资源，再调用 [setSkinColorParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setSkinColorParam.html) 方法设置肤色效果的程度。

[ZegoEffectsSkinColorParam\|_blank](/unique-api/ai-effects-sdk/zh/dart_flutter/zego_effects_defines/ZegoEffectsSkinColorParam-class.html) 对象的肤色效果程度参数 “intensity” 的取值范围为 [0, 100]，默认为 “0”。取值越大，皮肤颜色变化越明显，开发者可以根据需求自定义取值。

```objc
// 开启肤色功能
ZegoEffectsPlugin.instance.enableSkinColor(true);

// 设置指定肤色名字
ZegoEffectsPlugin.instance.setSkinColor('fenbai');

// 设置肤色的程度，范围 [0, 100]，默认为 0
ZegoEffectsSkinColorParam param = ZegoEffectsSkinColorParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setSkinColorParam(param);
```
