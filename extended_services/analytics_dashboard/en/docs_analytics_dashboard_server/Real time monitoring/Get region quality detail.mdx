# Query Region Quality Real-time Data

- - -

## Description

This interface can be used to get the quality data within the specified time period in the last 1 hour for the specified region (or all regions) and specified platform (or all platforms). The data granularity is minutes.

## Request method and endpoint

- Request method: GET
- Request URL: `https://analytics-api.zego.im/?Action=GetRegionQualityDetail`
- Transfer protocol: HTTPS
- QPS limit (same AppID): 3 times/minute, 480 times/day
- Data delay: 3 minutes

## Request parameters

The following request parameter list only lists the interface request parameters and some common parameters. Please refer to [Accessing Server APIs - Public Request Parameters](./../Access%20server%20APIs.mdx#public-request-parameters) for the complete common parameter list.

<table>
  <colgroup>
    <col width="20%" />
    <col width="15%" />
    <col width="15%" />
    <col width="50%" />
  </colgroup>
<tbody><tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
<tr>
<td>Region</td>
<td>String</td>
<td>No</td>
<td>The name of the country or region.<ul><li>all: Default value, indicating all countries and regions.</li><li>Other values: Only Chinese place names are supported. For specific values, please refer to the drop-down list after filtering <code>Region</code> in <a href="https://prism.zego.im">Star Map - Real-time Monitoring - Business Monitoring - User Experience</a>. <img src="https://media-resource.spreading.io/docuo/workspace564/27e54a759d23575969552654cb45bf89/51a706c402.jpeg" /></li></ul></td>
</tr>
<tr>
<td>Platform</td>
<td>String</td>
<td>No</td>
<td>Platform type.<ul><li>all: Default value, indicating all platforms.</li><li>native: Native platform (excluding Web and mini-programs).</li><li>web: Web and mini-programs.</li></ul><Warning title="Note">Some indicators may not support the platform type dimension, and the return value may be empty.</Warning></td>
</tr>
<tr>
<td>StartTs</td>
<td>Number</td>
<td>Yes</td>
<td>Start time, UTC timestamp in milliseconds.</td>
</tr>
<tr>
<td>EndTs</td>
<td>Number</td>
<td>Yes</td>
<td>End time, UTC timestamp in milliseconds. If the push stream is not ended, it can be represented as 0 or the current timestamp to indicate in progress.</td>
</tr>
</tbody></table>

## Request Example

```txt
https://analytics-api.zego.im/?Action=GetRegionQualityDetail
&Region=China
&Platform=all
&StartTs=1659411617260000
&EndTs=1659415320000
&<Public Request Parameters>
```

## Response Parameters

<table class="collapsible-table" >
  <colgroup>
    <col width="35%" />
    <col width="20%" />
    <col width="45%" />
  </colgroup>
<tbody><tr data-row-level="1">
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
<tr data-row-level="2">
<td>Code</td>
<td>Number</td>
<td>Return code.</td>
</tr>
<tr data-row-level="3">
<td>Message</td>
<td>String</td>
<td>Operation result description.</td>
</tr>
<tr data-row-level="4">
<td>RequestId</td>
<td>String</td>
<td>Request ID.</td>
</tr>
<tr data-row-level="5" data-row-child="true">
<td>Data</td>
<td>Object</td>
<td>Response data.</td>
</tr>
<tr data-row-level="5-1" data-row-child="true">
<td>└List</td>
<td>Array of Object</td>
<td>Metric list.</td>
</tr>
<tr data-row-level="5-1-1">
<td>&nbsp;&nbsp;└Timestamp</td>
<td>Number</td>
<td>UTC timestamp in milliseconds.</td>
</tr>
<tr data-row-level="5-1-2" data-row-child="true">
<td>&nbsp;&nbsp;└QualityInfo</td>
<td>Array of Object</td>
<td>Quality list.</td>
</tr>
<tr data-row-level="5-1-2-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└Region</td>
<td>String</td>
<td>The name of the country or region.</td>
</tr>
<tr data-row-level="5-1-2-2" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└P2pDelayDetail</td>
<td>Object</td>
<td>End-to-end delay.</td>
</tr>
<tr data-row-level="5-1-2-2-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-2-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples in the interval (0, 400ms).</td>
</tr>
<tr data-row-level="5-1-2-2-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples in the interval [400ms, 600ms).</td>
</tr>
<tr data-row-level="5-1-2-2-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples in the interval [600ms, 800ms).</td>
</tr>
<tr data-row-level="5-1-2-2-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples in the interval [800ms, +∞).</td>
</tr>
<tr data-row-level="5-1-2-3" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└P2pPlrDetail</td>
<td>Array of Object</td>
<td>End-to-end packet loss rate distribution.</td>
</tr>
<tr data-row-level="5-1-2-3-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-3-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples with a packet loss rate of 0.</td>
</tr>
<tr data-row-level="5-1-2-3-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples with a packet loss rate in the interval (0, 5%).</td>
</tr>
<tr data-row-level="5-1-2-3-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples with a packet loss rate in the interval [5%, 10%).</td>
</tr>
<tr data-row-level="5-1-2-3-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples with a packet loss rate in the interval [10%, 50%).</td>
</tr>
<tr data-row-level="5-1-2-3-6">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate5</td>
<td>Number</td>
<td>Percentage of samples with a packet loss rate in the interval [50%, 100%].</td>
</tr>
<tr data-row-level="5-1-2-4" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└VideoBreakDetail</td>
<td>Array of Object</td>
<td>Video stutter rate distribution.</td>
</tr>
<tr data-row-level="5-1-2-4-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-4-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate of 0.</td>
</tr>
<tr data-row-level="5-1-2-4-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval (0, 20%).</td>
</tr>
<tr data-row-level="5-1-2-4-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [20%, 50%).</td>
</tr>
<tr data-row-level="5-1-2-4-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [50%, 100%).</td>
</tr>
<tr data-row-level="5-1-2-4-6">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate5</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [100%, +∞).</td>
</tr>
<tr data-row-level="5-1-2-5" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└AudioBreakDetail</td>
<td>Array of Object</td>
<td>Audio stutter rate distribution.</td>
</tr>
<tr data-row-level="5-1-2-5-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-5-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate of 0.</td>
</tr>
<tr data-row-level="5-1-2-5-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval (0, 20%).</td>
</tr>
<tr data-row-level="5-1-2-5-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [20%, 50%).</td>
</tr>
<tr data-row-level="5-1-2-5-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [50%, 100%).</td>
</tr>
<tr data-row-level="5-1-2-5-6">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate5</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [100%, +∞).</td>
</tr>
<tr data-row-level="5-1-2-6" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└LoginSuccessRateDetail</td>
<td>Array of Object</td>
<td>Login success rate.</td>
</tr>
<tr data-row-level="5-1-2-6-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└LoginSuccessRate</td>
<td>Number</td>
<td>Login success rate.</td>
</tr>
<tr data-row-level="5-1-2-6-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└LoginSuccessRate5s</td>
<td>Number</td>
<td>Login success rate in 5 seconds.</td>
</tr>
<tr data-row-level="5-1-2-7" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└VideoFFTDetail</td>
<td>Array of Object</td>
<td>Video first frame time distribution.</td>
</tr>
<tr data-row-level="5-1-2-7-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-7-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (0, 500ms].</td>
</tr>
<tr data-row-level="5-1-2-7-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (500ms, 1000ms].</td>
</tr>
<tr data-row-level="5-1-2-7-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (1000ms, 2000ms].</td>
</tr>
<tr data-row-level="5-1-2-7-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (2000, 5000ms].</td>
</tr>
<tr data-row-level="5-1-2-7-6">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate5</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [5000ms, +∞).</td>
</tr>
<tr data-row-level="5-1-2-8" data-row-child="true">
<td>&nbsp;&nbsp;&nbsp;&nbsp;└AudioFFTDetail</td>
<td>Array of Object</td>
<td>Audio first frame time distribution.</td>
</tr>
<tr data-row-level="5-1-2-8-1">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Total</td>
<td>Number</td>
<td>Total number of minutes samples.</td>
</tr>
<tr data-row-level="5-1-2-8-2">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate1</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (0, 500ms].</td>
</tr>
<tr data-row-level="5-1-2-8-3">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate2</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (500ms, 1000ms].</td>
</tr>
<tr data-row-level="5-1-2-8-4">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate3</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (1000ms, 2000ms].</td>
</tr>
<tr data-row-level="5-1-2-8-5">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate4</td>
<td>Number</td>
<td>Percentage of samples with a time in the interval (2000, 5000ms].</td>
</tr>
<tr data-row-level="5-1-2-8-6">
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└Rate5</td>
<td>Number</td>
<td>Percentage of samples with a stutter rate in the interval [5000ms, +∞).</td>
</tr>
</tbody></table>

## Response Example

```json
{
  "Code": 0,
  "Data": {
    "List": [
      {
        "Timestamp": 1676961480000,
        "QualityInfo": [
          {
            "Region": "China",
            "P2pDelayDetail": {
              "Total": 298,
              "Rate1": 0.9966,
              "Rate2": 0,
              "Rate3": 0,
              "Rate4": 0.0034
            },
            "P2pPlrDetail": {
              "Total": 1123,
              "Rate1": 0.9386,
              "Rate2": 0.0561,
              "Rate3": 0.0018,
              "Rate4": 0.0036,
              "Rate5": 0
            },
            "VideoBreakDetail": {
              "Total": 920,
              "Rate1": 0.9304,
              "Rate2": 0.0022,
              "Rate3": 0.0109,
              "Rate4": 0.0446,
              "Rate5": 0.012
            },
            "AudioBreakDetail": {
              "Total": 1123,
              "Rate1": 0.951,
              "Rate2": 0.016,
              "Rate3": 0.0107,
              "Rate4": 0.0098,
              "Rate5": 0.0125
            },
            "LoginSuccessRateDetail": {
              "LoginSuccessRate": 1,
              "LoginSuccessRate5s": 1
            },
            "VideoFFTDetail": {
              "Total": 39,
              "Rate1": 0.9231,
              "Rate2": 0,
              "Rate3": 0.0513,
              "Rate4": 0.0256,
              "Rate5": 0
            },
            "AudioFFTDetail": {
              "Total": 36,
              "Rate1": 0.9167,
              "Rate2": 0.0278,
              "Rate3": 0.0556,
              "Rate4": 0,
              "Rate5": 0
            }
          }
        ]
      },
      {
        "Timestamp": 1676961540000,
        "QualityInfo": [
          {
            "Region": "China",
            "P2pDelayDetail": {
              "Total": 298,
              "Rate1": 0.9966,
              "Rate2": 0,
              "Rate3": 0,
              "Rate4": 0.0034
            },
            "P2pPlrDetail": {
              "Total": 1123,
              "Rate1": 0.9386,
              "Rate2": 0.0561,
              "Rate3": 0.0018,
              "Rate4": 0.0036,
              "Rate5": 0
            },
            "VideoBreakDetail": {
              "Total": 920,
              "Rate1": 0.9304,
              "Rate2": 0.0022,
              "Rate3": 0.0109,
              "Rate4": 0.0446,
              "Rate5": 0.012
            },
            "AudioBreakDetail": {
              "Total": 1123,
              "Rate1": 0.951,
              "Rate2": 0.016,
              "Rate3": 0.0107,
              "Rate4": 0.0098,
              "Rate5": 0.0125
            },
            "LoginSuccessRateDetail": {
              "LoginSuccessRate": 1,
              "LoginSuccessRate5s": 1
            },
            "VideoFFTDetail": {
              "Total": 39,
              "Rate1": 0.9231,
              "Rate2": 0,
              "Rate3": 0.0513,
              "Rate4": 0.0256,
              "Rate5": 0
            },
            "AudioFFTDetail": {
              "Total": 36,
              "Rate1": 0.9167,
              "Rate2": 0.0278,
              "Rate3": 0.0556,
              "Rate4": 0,
              "Rate5": 0
            }
          }
        ]
      }
    ]
  },
  "Message": "success"
}

```

## Return Code

| Return Code | Description | Action |
|--------|------|----------|
| 0      | Success. | -        |
| 500    | Interface error. | Contact ZEGO technical support. |
| 10001  | Parameter format error. | Check parameters. |
| 10002  | Parameter error or parameter invalid. | Check parameters. |
| 30002  | Interface request frequency exceeds the limit. | Please confirm the QPS limit of the corresponding interface and reduce the request frequency. |
