---
articleID: 10237
---

import { getPlatformData2 } from "/snippets/utils-content-parser.js"

export const setPortraitSegmentationBackgroundPathMap = {
    'RN': <a href='@setPortraitSegmentationBackgroundPath' target='_blank'>setPortraitSegmentationBackgroundPath</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setPortraitSegmentationBackgroundPath.html' target='_blank'>setPortraitSegmentationBackgroundPath</a>,
}

export const enablePortraitSegmentationMap = {
    'default': <a href='@enablePortraitSegmentation' target='_blank'>enablePortraitSegmentation</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enablePortraitSegmentation.html' target='_blank'>enablePortraitSegmentation</a>,
    'Windows': <a href='@zego_effects_enable_portrait_segmentation' target='_blank'>zego_effects_enable_portrait_segmentation</a>,
}

export const enablePortraitSegmentationBackgroundBlurMap = {
    'default': <a href='@enablePortraitSegmentationBackgroundBlur' target='_blank'>enablePortraitSegmentationBackgroundBlur</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enablePortraitSegmentationBackgroundBlur.html' target='_blank'>enablePortraitSegmentationBackgroundBlur</a>,
    'Windows': <a href='@zego_effects_enable_portrait_segmentation_background_blur' target='_blank'>zego_effects_enable_portrait_segmentation_background_blur</a>,
}

export const setPortraitSegmentationBackgroundBlurParamMap = {
    'default': <a href='@setPortraitSegmentationBackgroundBlurParam' target='_blank'>setPortraitSegmentationBackgroundBlurParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setPortraitSegmentationBackgroundBlurParam.html' target='_blank'>setPortraitSegmentationBackgroundBlurParam</a>,
    'Windows': <a href='@zego_effects_set_portrait_segmentation_background_blur_param' target='_blank'>zego_effects_set_portrait_segmentation_background_blur_param</a>,
}

export const ZegoEffectsBlurParamMap = {
    'default': <a href='@-ZegoEffectsBlurParam' target='_blank'>ZegoEffectsBlurParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_defines/ZegoEffectsBlurParam-class.html' target='_blank'>ZegoEffectsBlurParam</a>,
    'Windows': <a href='@zego_effects_blur_param' target='_blank'>zego_effects_blur_param</a>,
}

export const enablePortraitSegmentationBackgroundMosaicMap = {
    'default': <a href='@enablePortraitSegmentationBackgroundMosaic' target='_blank'>enablePortraitSegmentationBackgroundMosaic</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enablePortraitSegmentationBackgroundMosaic.html' target='_blank'>enablePortraitSegmentationBackgroundMosaic</a>,
    'Windows': <a href='@zego_effects_enable_portrait_segmentation_background_mosaic' target='_blank'>zego_effects_enable_portrait_segmentation_background_mosaic</a>,
}

export const setPortraitSegmentationBackgroundMosaicParamMap = {
    'default': <a href='@setPortraitSegmentationBackgroundMosaicParam' target='_blank'>setPortraitSegmentationBackgroundMosaicParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setPortraitSegmentationBackgroundMosaicParam.html' target='_blank'>setPortraitSegmentationBackgroundMosaicParam</a>,
    'Windows': <a href='@zego_effects_set_portrait_segmentation_background_mosaic_param' target='_blank'>zego_effects_set_portrait_segmentation_background_mosaic_param</a>,
}

export const ZegoEffectsMosaicParamMap = {
    'default': <a href='@-ZegoEffectsMosaicParam' target='_blank'>ZegoEffectsMosaicParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_defines/ZegoEffectsMosaicParam-class.html' target='_blank'>ZegoEffectsMosaicParam</a>,
    'Windows': <a href='@zego_effects_mosaic_param' target='_blank'>zego_effects_mosaic_param</a>,
}

export const setChromaKeyBackgroundPathMap = {
    'RN': <a href='@setChromaKeyBackgroundPath' target='_blank'>setChromaKeyBackgroundPath</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setChromaKeyBackgroundPath.html' target='_blank'>setChromaKeyBackgroundPath</a>,
}

export const enableChromaKeyMap = {
    'default': <a href='@enableChromaKey' target='_blank'>enableChromaKey</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableChromaKey.html' target='_blank'>enableChromaKey</a>,
    'Windows': <a href='@zego_effects_enable_chroma_key' target='_blank'>zego_effects_enable_chroma_key</a>,
}

export const setChromaKeyParamMap = {
    'default': <a href='@setChromaKeyParam' target='_blank'>setChromaKeyParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setChromaKeyParam.html' target='_blank'>setChromaKeyParam</a>,
    'Windows': <a href='@zego_effects_set_chroma_key_param' target='_blank'>zego_effects_set_chroma_key_param</a>,
}

export const enableChromaKeyBackgroundBlurMap = {
    'default': <a href='@enableChromaKeyBackgroundBlur' target='_blank'>enableChromaKeyBackgroundBlur</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableChromaKeyBackgroundBlur.html' target='_blank'>enableChromaKeyBackgroundBlur</a>,
    'Windows': <a href='@zego_effects_enable_chroma_key_background_blur' target='_blank'>zego_effects_enable_chroma_key_background_blur</a>,
}

export const setChromaKeyBackgroundBlurParamMap = {
    'default': <a href='@setChromaKeyBackgroundBlurParam' target='_blank'>setChromaKeyBackgroundBlurParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setChromaKeyBackgroundBlurParam.html' target='_blank'>setChromaKeyBackgroundBlurParam</a>,
    'Windows': <a href='@zego_effects_set_chroma_key_background_blur_param' target='_blank'>zego_effects_set_chroma_key_background_blur_param</a>,
}

export const enableChromaKeyBackgroundMosaicMap = {
    'default': <a href='@enableChromaKeyBackgroundMosaic' target='_blank'>enableChromaKeyBackgroundMosaic</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/enableChromaKeyBackgroundMosaic.html' target='_blank'>enableChromaKeyBackgroundMosaic</a>,
    'Windows': <a href='@zego_effects_enable_chroma_key_background_mosaic' target='_blank'>zego_effects_enable_chroma_key_background_mosaic</a>,
}

export const setChromaKeyBackgroundMosaicParamMap = {
    'default': <a href='@setChromaKeyBackgroundMosaicParam' target='_blank'>setChromaKeyBackgroundMosaicParam</a>,
    'Flutter': <a href='https://www.zegocloud.com/unique-api/ai-effects-sdk/en/dart_flutter/zego_effects_plugin/ZegoEffectsPlugin/setChromaKeyBackgroundMosaicParam.html' target='_blank'>setChromaKeyBackgroundMosaicParam</a>,
    'Windows': <a href='@zego_effects_set_chroma_key_background_mosaic_param' target='_blank'>zego_effects_set_chroma_key_background_mosaic_param</a>,
}

# Background segmentation

---


The ZegoEffects SDK provides various background segmentation features that can be used in a wide range of use cases, such as online education, video conferencing, short videos, and more.

## Prerequisites

Before you begin to use the SDK's background segmentation feature in your project, make sure you complete the following steps:
- Integrate the ZegoEffects SDK into your project. For details, see [Integrate the SDK](./../quick-starts/import-the-sdk.mdx).
- Implement the basic image processing functionality. For details, see [Implement basic image processing](./../quick-starts/implement-basic-image-processing.mdx).
- Import the `SegmentationModel`. For details, see [Import resources and models](./../quick-starts/import-resources-and-models.mdx).

## Implementation steps

Background segmentation includes portrait segmentation, green screen segmentation, background blur, background mosaic, and other features.

### Portrait segmentation

<Warning title="Note">
Before using the portrait segmentation feature, please import the corresponding "SegmentationModel" model file first, otherwise the feature will not work. For details, see [Quick Start - Import resources and models](./../quick-starts/import-resources-and-models.mdx).
</Warning>

:::if{props.platform=undefined}
<div>
1. Call the [setPortraitSegmentationBackgroundPath](@setPortraitSegmentationBackgroundPath) or [setPortraitSegmentationBackgroundBuffer](@setPortraitSegmentationBackgroundBuffer) method to set the background path or background buffer for portrait segmentation (choose either of the two).

```objc
// Set the background path for portrait segmentation (choose either of the two)
[self.effects setPortraitSegmentationBackgroundPath: @"MY_BACKGROUND_PATH" mode:ZegoEffectsScaleModeAspectFill];

// Set the background buffer for portrait segmentation (choose either of the two)
[self.effects setPortraitSegmentationBackgroundBuffer:pixelbuffer mode:ZegoEffectsScaleModeAspectFill];
```
</div>
:::
:::if{props.platform="Android"}
<div>
1. Call the [setPortraitSegmentationBackgroundPath](@setPortraitSegmentationBackgroundPath), [setPortraitSegmentationBackgroundBuffer](@setPortraitSegmentationBackgroundBuffer), or [setPortraitSegmentationBackgroundTexture](@setPortraitSegmentationBackgroundTexture) method to set the background path, background buffer, or background texture for portrait segmentation (choose one of the three).
</div>

```java
// Set the background path for portrait segmentation (choose one of the three)
mEffects.setPortraitSegmentationBackgroundPath("MY_BACKGROUND_PATH", ZegoEffectsScaleMode.ASPECT_FILL);

// Set the background buffer for portrait segmentation (choose one of the three)
mEffects.setPortraitSegmentationBackgroundBuffer(buffer, bufferLength, param, ZegoEffectsScaleMode.ASPECT_FILL);

// Set the background texture for portrait segmentation (choose one of the three)
mEffects.setPortraitSegmentationBackgroundTexture(textureID, param, ZegoEffectsScaleMode.ASPECT_FILL);
```
:::
:::if{props.platform="Windows"}
<div>
1. Call the [zego_effects_set_portrait_segmentation_background_path](@zego_effects_set_portrait_segmentation_background_path), [zego_effects_set_portrait_segmentation_background_buffer](@zego_effects_set_portrait_segmentation_background_buffer), or [zego_effects_set_portrait_segmentation_background_texture](@zego_effects_set_portrait_segmentation_background_texture) method to set the background path, background buffer, or background texture for portrait segmentation (choose one of the three).
</div>

```c
// Set the background path for portrait segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_portrait_segmentation_background_path(handle, "MY_BACKGROUND_PATH", zego_effects_scale_mode_aspect_fill);

// Set the background buffer for portrait segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_portrait_segmentation_background_buffer(handle, buffer, buffer_length, param, zego_effects_scale_mode_aspect_fill);

// Set the background texture for portrait segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_portrait_segmentation_background_texture(handle, texture_id, param, zego_effects_scale_mode_aspect_fill);
```
:::
:::if{props.platform="Flutter|RN"}
<div>
Call the {getPlatformData2(props,setPortraitSegmentationBackgroundPathMap)} method to set the background path for portrait segmentation.
</div>
:::
:::if{props.platform="Flutter"}
```dart
// Set the background path for portrait segmentation
ZegoEffectsPlugin.instance.setPortraitSegmentationBackgroundPath('MY_BACKGROUND_PATH', ZegoEffectsScaleMode.AspectFill);
```
:::
:::if{props.platform="RN"}
```js
// Set the background path for portrait segmentation
mEffects.setPortraitSegmentationBackgroundPath("MY_BACKGROUND_PATH", ZegoEffectsScaleMode.ASPECT_FILL);
```
:::

2. Call the {getPlatformData2(props,enablePortraitSegmentationMap)} method to enable the portrait segmentation feature.

:::if{props.platform=undefined}
```objc
// Enable the portrait segmentation feature
[self.effects enablePortraitSegmentation:YES];
```
:::
:::if{props.platform="Android"}
```java
// Enable the portrait segmentation feature
mEffects.enablePortraitSegmentation(true);
```
:::
:::if{props.platform="Windows"}
```c
// Enable the portrait segmentation feature
zego_effects_enable_portrait_segmentation(handle, true);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable the portrait segmentation feature
ZegoEffectsPlugin.instance.enablePortraitSegmentation(true);
```
:::
:::if{props.platform="RN"}
```js
// Enable the portrait segmentation feature
mEffects.enablePortraitSegmentation(true);
```
:::

After enabling the portrait segmentation feature, you can further set background blur, background mosaic, and other features according to your needs.

#### Background blur for portrait segmentation

Call the {getPlatformData2(props,enablePortraitSegmentationBackgroundBlurMap)} method to enable the background blur feature for portrait segmentation. After enabling the background blur feature, you can call the {getPlatformData2(props,setPortraitSegmentationBackgroundBlurParamMap)} method to set the "intensity" parameter of the {getPlatformData2(props,ZegoEffectsBlurParamMap)} object to adjust the intensity of background blur.

<Warning title="Note">
After enabling the background blur feature for portrait segmentation, it will override the custom background and background mosaic features.
</Warning>
   
:::if{props.platform=undefined}
```objc
// Enable background blur for portrait segmentation
[self.effects enablePortraitSegmentationBackgroundBlur:YES];

// Set the background blur parameter for portrait segmentation
ZegoEffectsBlurParam *param = [[ZegoEffectsBlurParam alloc] init];
param.intensity = 100;
[self.effects setPortraitSegmentationBackgroundBlurParam:param];
```
:::
:::if{props.platform="Android"}
```java
// Enable background blur for portrait segmentation
mEffects.enablePortraitSegmentationBackgroundBlur(true);

// Set the background blur parameter for portrait segmentation
ZegoEffectsBlurParam param = new ZegoEffectsBlurParam();
param.intensity = 100;
mEffects.setPortraitSegmentationBackgroundBlurParam(param);
```
:::
:::if{props.platform="Windows"}   
```c
// Enable background blur for portrait segmentation
zego_effects_enable_portrait_segmentation_background_blur(handle, true);

// Set the background blur parameter for portrait segmentation
zego_effects_blur_param param{};
param.intensity = 100;
zego_effects_set_portrait_segmentation_background_blur_param(handle, &param);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable background blur for portrait segmentation
ZegoEffectsPlugin.instance.enablePortraitSegmentationBackgroundBlur(true);

// Set the background blur parameter for portrait segmentation
ZegoEffectsBlurParam param = ZegoEffectsBlurParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setPortraitSegmentationBackgroundBlurParam(param);
```
:::
:::if{props.platform="RN"}
```js
// Enable background blur for portrait segmentation
mEffects.enablePortraitSegmentationBackgroundBlur(true);

// Set the background blur parameter for portrait segmentation
mEffects.setPortraitSegmentationBackgroundBlurParam({ intensity: 100 });
```
:::

#### Background mosaic for portrait segmentation

Call the {getPlatformData2(props,enablePortraitSegmentationBackgroundMosaicMap)} method to enable the background mosaic feature for portrait segmentation. After enabling the background mosaic feature, you can call the {getPlatformData2(props,setPortraitSegmentationBackgroundMosaicParamMap)} method to set the "intensity" parameter of the {getPlatformData2(props,ZegoEffectsMosaicParamMap)} object to adjust the intensity of background mosaic.

<Warning title="Note">
After enabling the background mosaic feature for portrait segmentation, it will override the custom background and background blur features.
</Warning>  

:::if{props.platform=undefined}
```objc
// Enable background mosaic for portrait segmentation
[self.effects enablePortraitSegmentationBackgroundMosaic:YES];
  
// Set the background mosaic parameter for portrait segmentation
ZegoEffectsMosaicParam *param = [[ZegoEffectsMosaicParam alloc] init];
param.intensity = 100;
[self.effects setPortraitSegmentationBackgroundMosaicParam:param];
```
:::
:::if{props.platform="Android"}
```java
// Enable background mosaic for portrait segmentation
mEffects.enablePortraitSegmentationBackgroundMosaic(true);

// Set the background mosaic parameter for portrait segmentation
ZegoEffectsMosaicParam param = new ZegoEffectsMosaicParam();
param.intensity = 100;
mEffects.setPortraitSegmentationBackgroundMosaicParam(param);
```
:::
:::if{props.platform="Windows"}
```c
// Enable background mosaic for portrait segmentation
 zego_effects_enable_portrait_segmentation_background_mosaic(handle, true);

// Set the background mosaic parameter for portrait segmentation
zego_effects_mosaic_param param{};
param.intensity = 100;
param.type = zego_effects_mosaic_type::zego_effects_mosaic_type_square;
zego_effects_set_portrait_segmentation_background_mosaic_param(handle, &param);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable background mosaic for portrait segmentation
ZegoEffectsPlugin.instance.enablePortraitSegmentationBackgroundMosaic(true);

// Set the background mosaic parameter for portrait segmentation
ZegoEffectsMosaicParam param = ZegoEffectsMosaicParam();
param.intesity = 100;
ZegoEffectsPlugin.instance.setPortraitSegmentationBackgroundMosaicParam(param);
```
:::
:::if{props.platform="RN"}
```js
// Enable background mosaic for portrait segmentation
mEffects.enablePortraitSegmentationBackgroundMosaic(true);

// Set the background mosaic parameter for portrait segmentation
mEffects.setPortraitSegmentationBackgroundMosaicParam({ intensity: 100 });
```
:::


### Green screen segmentation

:::if{props.platform=undefined}
<div>
1. Call the [setChromaKeyBackgroundPath](@setChromaKeyBackgroundPath) or [setChromaKeyBackgroundBuffer](@setChromaKeyBackgroundBuffer) method to set the background path

```objc
// Set the background path for green screen segmentation (choose one of the two methods: path or Buffer)
[self.effects setChromaKeyBackgroundPath: @"MY_BACKGROUND_PATH" mode:ZegoEffectsScaleModeAspectFill];

// Set the background buffer for green screen segmentation (choose one of the two methods: path or Buffer)
[self.effects setChromaKeyBackgroundBuffer:pixelbuffer mode:ZegoEffectsScaleModeAspectFill];
```
</div>
:::
:::if{props.platform="Android"}
<div>
1. Call the [setChromaKeyBackgroundPath](@setChromaKeyBackgroundPath), [setChromaKeyBackgroundBuffer](@setChromaKeyBackgroundBuffer), or [setChromaKeyBackgroundTexture](@setChromaKeyBackgroundTexture) method to set the background path, background buffer, or background texture for green screen segmentation (choose one of the three).

    ```java
    // Set the background path for green screen segmentation (choose one of the three methods: path, buffer, or texture)
    mEffects.setChromaKeyBackgroundPath("MY_BACKGROUND_PATH", ZegoEffectsScaleMode.ASPECT_FILL);

    // Set the background buffer for green screen segmentation (choose one of the three methods: path, buffer, or texture)
    mEffects.setChromaKeyBackgroundBuffer(buffer, bufferLength, param, ZegoEffectsScaleMode.ASPECT_FILL);

    // Set the background texture for green screen segmentation (choose one of the three methods: path, buffer, or texture)
    mEffects.setChromaKeyBackgroundTexture(textureID, param, ZegoEffectsScaleMode.ASPECT_FILL);
    ```
</div>
:::
:::if{props.platform="Windows"}
<div>
1. Call the [zego_effects_set_chroma_key_background_path](@zego_effects_set_chroma_key_background_path), [zego_effects_set_chroma_key_background_buffer](@zego_effects_set_chroma_key_background_buffer), or [zego_effects_set_chroma_key_background_texture](@zego_effects_set_chroma_key_background_texture) method to set the background path, background buffer, or background texture for green screen segmentation (choose one of the three).
</div>

```c
// Set the background path for green screen segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_chroma_key_background_path(handle, "MY_BACKGROUND_PATH", zego_effects_scale_mode_aspect_fill);

// Set the background buffer for green screen segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_chroma_key_background_buffer(handle, buffer, buffer_length, param, zego_effects_scale_mode_aspect_fill);

// Set the background texture for green screen segmentation (choose one of the three methods: path, buffer, or texture)
zego_effects_set_chroma_key_background_texture(handle, texture_id, param, zego_effects_scale_mode_aspect_fill);
```
:::
:::if{props.platform="Flutter|RN"}
<div>
1. Call the {getPlatformData2(props,setChromaKeyBackgroundPathMap)} method to set the background path for green screen segmentation.
</div>
:::
:::if{props.platform="Flutter"}
```dart
// Set the background path for green screen segmentation
ZegoEffectsPlugin.instance.setChromaKeyBackgroundPath("MY_BACKGROUND_PATH", ZegoEffectsScaleMode.AspectFill);
```
:::
:::if{props.platform="RN"}
```js
// Set the background path for green screen segmentation
mEffects.setChromaKeyBackgroundPath("MY_BACKGROUND_PATH", ZegoEffectsScaleMode.ASPECT_FILL);
```
:::

2. Call the {getPlatformData2(props,enableChromaKeyMap)} method to enable the green screen segmentation feature, and then call the {getPlatformData2(props,setChromaKeyParamMap)} method to set the parameters, adjust the color tolerance, edge smoothness index, and other parameters.

:::if{props.platform=undefined}
```objc
// Enable the green screen segmentation feature
[self.effects enableChromaKey:YES]

// Set the green screen segmentation parameters
ZegoEffectsChromaKeyParam *param = [[ZegoEffectsChromaKeyParam alloc] init];
[self.effects setChromaKeyParam:param];
```
:::
:::if{props.platform="Android"}
```java
// Enable the green screen segmentation feature
mEffects.enableChromaKey(true);

// Set the green screen segmentation parameters
ZegoEffectsChromaKeyParam param = new ZegoEffectsChromaKeyParam();
mEffects.setChromaKeyParam(param);
```
:::
:::if{props.platform="Windows"}
```c
// Enable the green screen segmentation feature
zego_effects_enable_chroma_key(handle, true);

// Get the default value of the green screen segmentation parameters and set it
zego_effects_chroma_key_param param{};
zego_effects_get_default_chroma_key_param(handle, &param);
zego_effects_set_chroma_key_param(param);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable the green screen segmentation feature
ZegoEffectsPlugin.instance.enableChromaKey(true);

// Set the green screen segmentation parameters
ZegoEffectsChromaKeyParam param = ZegoEffectsChromaKeyParam();
param.smoothness = 80;
param.opacity = 100;
param.keyColor = 65280;
param.similarity = 67;
ZegoEffectsPlugin.instance.setChromaKeyParam(param);
```
:::
:::if{props.platform="RN"}
```js
// Enable the green screen segmentation feature
mEffects.enableChromaKey(true);

// Set the green screen segmentation parameters
let param = new ZegoEffectsChromaKeyParam();
param.smoothness = 80;
param.opacity = 100;
param.keyColor = 65280;
param.similarity = 67;
mEffects.setChromaKeyParam(param);
```
:::

After enabling the green screen segmentation feature, you can further set background blur, background mosaic, and other features according to your needs.

#### Background blur for green screen segmentation

Call the {getPlatformData2(props,enableChromaKeyBackgroundBlurMap)} method to enable the background blur feature for green screen segmentation. After enabling the background blur feature, you can call the {getPlatformData2(props,setChromaKeyBackgroundBlurParamMap)} method to set the "intensity" parameter of the {getPlatformData2(props,ZegoEffectsBlurParamMap)} object to adjust the intensity of background blur.

<Warning title="Note">
After enabling the background blur feature for green screen segmentation, it will override the custom background and background mosaic features.
</Warning>

:::if{props.platform=undefined}
```objc
// Enable background blur for green screen segmentation
[self.effects enableChromaKeyBackgroundBlur:YES];
    
// Set the background blur parameter for green screen segmentation
ZegoEffectsBlurParam *param = [[ZegoEffectsBlurParam alloc] init];
param.intensity = 100;
[self.effects setChromaKeyBackgroundBlurParam:param];
```
:::
:::if{props.platform="Android"}
```java
// Enable background blur for green screen segmentation
mEffects.enableChromaKeyBackgroundBlur(true);

// Set the background blur parameter for green screen segmentation
ZegoEffectsBlurParam param = new ZegoEffectsBlurParam();
param.intensity = 100;
mEffects.setChromaKeyBackgroundBlurParam(param);
```
:::
:::if{props.platform="Windows"}
```c
// Enable background blur for green screen segmentation
zego_effects_enable_chroma_key_background_blur(handle, true);

// Set the background blur parameter for green screen segmentation
zego_effects_blur_param param{};
param.intensity = 100;
zego_effects_set_chroma_key_background_blur_param(handle, &param);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable background blur for green screen segmentation
ZegoEffectsPlugin.instance.enableChromaKeyBackgroundBlur(true);

// Set the background blur parameter for green screen segmentation
ZegoEffectsBlurParam param = ZegoEffectsBlurParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setChromaKeyBackgroundBlurParam(param);
```
:::
:::if{props.platform="RN"}
```js
// Enable background blur for green screen segmentation
mEffects.enableChromaKeyBackgroundBlur(true);

// Set the background blur parameter for green screen segmentation
mEffects.setChromaKeyBackgroundBlurParam({ intensity: 100 });
```
:::


#### Background mosaic for green screen segmentation

Call the {getPlatformData2(props,enableChromaKeyBackgroundMosaicMap)} method to enable the background mosaic feature for green screen segmentation. After enabling the background mosaic feature, you can call the {getPlatformData2(props,setChromaKeyBackgroundMosaicParamMap)} method to set the "intensity" parameter of the {getPlatformData2(props,ZegoEffectsMosaicParamMap)} object to adjust the intensity of background mosaic.


<Warning title="Note">
After enabling the background mosaic feature for green screen segmentation, it will override the custom background and background blur features.
</Warning>

:::if{props.platform=undefined}
```objc
// Enable background mosaic for green screen segmentation
[self.effects enableChromaKeyBackgroundMosaic:YES];

// Set the background mosaic parameter for green screen segmentation
ZegoEffectsMosaicParam *param = [[ZegoEffectsMosaicParam alloc] init];
param.intensity = 100;
[self.effects setChromaKeyBackgroundMosaicParam:param];
```
:::
:::if{props.platform="Android"}
```java
// Enable background mosaic for green screen segmentation
mEffects.enableChromaKeyBackgroundMosaic(true);

// Set the background mosaic parameter for green screen segmentation
ZegoEffectsMosaicParam param = new ZegoEffectsMosaicParam();
param.intensity = 100;
mEffects.setChromaKeyBackgroundMosaicParam(param);
```
:::
:::if{props.platform="Windows"}
```c
// Enable background mosaic for green screen segmentation
zego_effects_enable_chroma_key_background_mosaic(handle, true);

// Set the background mosaic parameter for green screen segmentation
zego_effects_mosaic_param param;
param.intensity = 100;
param.type = zego_effects_mosaic_type::zego_effects_mosaic_type_square;
zego_effects_set_chroma_key_background_mosaic_param(handle, &param);
```
:::
:::if{props.platform="Flutter"}
```dart
// Enable background mosaic for green screen segmentation
ZegoEffectsPlugin.instance.enableChromaKeyBackgroundMosaic(true);

// Set the background mosaic parameter for green screen segmentation
ZegoEffectsBlurParam param = ZegoEffectsBlurParam();
param.intensity = 100;
ZegoEffectsPlugin.instance.setChromaKeyBackgroundMosaicParam(param);
```
:::
:::if{props.platform="RN"}
```js
// Enable background mosaic for green screen segmentation
mEffects.enableChromaKeyBackgroundMosaic(true);

// Set the background mosaic parameter for green screen segmentation
mEffects.setChromaKeyBackgroundMosaicParam({ intensity: 100 });
```
:::