# Quick start

<Video src="https://www.youtube.com/embed/RowFWxNfQhc"/>					

<Tip title="TIPS">If you need the call invitation feature, the integration method is different. Please refer to [this document](./03-Quick%20start%20(with%20call%20invitation).mdx).</Tip>

## Integrate the SDK


### Add ZegoUIKitPrebuiltCall as dependencies


Run the following code in your project root directory :

```plaintext 
flutter pub add zego_uikit_prebuilt_call
```

### Import the SDK


Now in your Dart code, import the prebuilt Call Kit SDK.

```dart
​​​​​​​​​​​​​​​​import 'package:zego_uikit_prebuilt_call/zego_uikit_prebuilt_call.dart';
```

### Using the ZegoUIKitPrebuiltCall in your project


* Go to [ZEGOCLOUD Admin Console ](https://console.zegocloud.com/), get the `appID` and `appSign` of your project.
* Specify the `userID` and `userName` for connecting the Call Kit service.
* Create a `callID` that represents the call you want to make.
* `userID` and `callID` can only contain numbers, letters, and underlines (_).
* Users that join the call with the same `callID` can talk to each other.

```dart
class CallPage extends StatelessWidget {
  const CallPage({Key? key, required this.callID}) : super(key: key);
  final String callID;

  @override
  Widget build(BuildContext context) {
    return ZegoUIKitPrebuiltCall(
      appID: yourAppID, // Fill in the appID that you get from ZEGOCLOUD Admin Console.
      appSign: yourAppSign, // Fill in the appSign that you get from ZEGOCLOUD Admin Console.
      userID: 'user_id',
      userName: 'user_name',
      callID: callID,
      // You can also use groupVideo/groupVoice/oneOnOneVoice to make more types of calls.
      config: ZegoUIKitPrebuiltCallConfig.oneOnOneVideoCall(),
    );
  }
}
```

Now, you can make a new call by navigating to this `CallPage`.

## Configure your project

<Tabs>
  <Tab title="Android">
    <Tabs>
      <Tab title="android/app/build.gradle">
        Open the file `android/app/build.gradle`
        
        1. add the following:

        ```gradle
        dependencies {
          implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
        }
        ```
        <Frame width="800" height="auto" caption="">
          <img src="images/android-config-appbuildgradle.jpeg" />
        </Frame>

        2. Modify the `minSdkVersion`.
        ```xml
        minSdkVersion 21
        ```
        <Frame width="auto" height="auto" caption="">
          <img src="https://storage.zego.im/sdk-doc/Pics/ZegoUIKit/Flutter/android_min_sdk_21.png" />
        </Frame>


        3. Modify the `compileSdkVersion` to 33.

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/compile_sdk_version.png" />
        </Frame>

        <Tip title="created with Flutter 2.x.x">
          > If your project is created with **Flutter 2.x.x**, you will need to modify the `compileSdkVersion` to **33**.
          
          <Frame width="800" height="auto" caption="">
            <img src="https://storage.zego.im/sdk-doc/Pics/ZegoUIKit/Flutter/compile_sdk_version.png" />
          </Frame>
        </Tip>
      </Tab>

      <Tab title="android/build.gradle">
        Open the file `android/build.gradle`, and add the following:

        ```gradle
        buildscript {
          ext.kotlin_version = '1.8.0'
        }
        ```
        <Frame width="800" height="auto" caption="">
          <img src="images/android-config-buildgradle.jpeg" />
        </Frame>
      </Tab>

      <Tab title="gradle-wrapper.properties">
        Make the `gradle` version >= 7.0: In the `your_project/android/gradle/wrapper/gradle-wrapper.properties` file, modify the `distributionUrl` to `https://services.gradle.org/distributions/gradle-7.4-all.zip`.

        ```xml gradle-wrapper.properties
        distributionUrl=https\://services.gradle.org/distributions/gradle-7.4-all.zip
        ```

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/kotlin180.jpg" />
        </Frame>
      </Tab>

      <Tab title="Permissions">
        Open the file `your_project/app/src/main/AndroidManifest.xml`, and add the following code:

        ```html AndroidManifest.xml
        <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
        <uses-permission android:name="android.permission.RECORD_AUDIO" />
        <uses-permission android:name="android.permission.INTERNET" />
        <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
        <uses-permission android:name="android.permission.CAMERA" />
        <uses-permission android:name="android.permission.BLUETOOTH" />
        <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
        <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
        <uses-permission android:name="android.permission.READ_PHONE_STATE" />
        <uses-permission android:name="android.permission.WAKE_LOCK" />
        <uses-permission android:name="android.permission.VIBRATE"/>
        <uses-permission android:name="android.permission.ACCESS_NOTIFICATION_POLICY"/>
        <uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>
        <!--for bring app to foreground from background in Android 10 -->
        <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
        ```

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/permission_android.png" />
        </Frame>
      </Tab>

      <Tab title="Prevent code obfuscation">
        In your project's `your_project > android > app` folder, create a `proguard-rules.pro` file with the following content as shown below:

        ```plaintext
        -keep class **.zego.** { *; }
        ```

          Add the following config code to the `release` part of the `your_project/android/app/build.gradle` file.

        ```plaintext
        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        ```
      </Tab>
    </Tabs>
  </Tab>
  
  <Tab title="iOS">
    <Tabs>
      <Tab title="Permissions">
        1. Add app permissions.

        Open the `your_project/ios/Podfile` file, and add the following to the `post_install do |installer|` part:

        ```plaintext
        # Start of the permission_handler configuration
        target.build_configurations.each do |config|
          config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= [
            '$(inherited)',
            'PERMISSION_CAMERA=1',
            'PERMISSION_MICROPHONE=1',
          ]
        end
        # End of the permission_handler configuration
        ```

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/permission_podfile.png" />
        </Frame>

        2. Open the `your_project/ios/Runner/Info.plist` file, and add the following to the `dict` part:

        ```xml
        <key>NSCameraUsageDescription</key>
        <string>We require camera access to connect</string>
        <key>NSMicrophoneUsageDescription</key>
        <string>We require microphone access to connect</string>
        ```

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/permission_ios.jpg" />
        </Frame>

      </Tab>
      <Tab title="Disable `Build Libraries for Distribution`">
        Open the your_project > iOS > Runner.xcworkspace file.

        Select your target project, and follow the notes on the following image to disable the `Build Libraries for Distribution`.

        <Frame width="400"  height="auto" caption="">
          <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/call_disable_build_libraries_for_distribution.png" />
        </Frame>
      </Tab>
    </Tabs>
  </Tab>
</Tabs>



## Run & Test


Now you have finished all the steps!

You can simply click the **Run** or **Debug** to run and test your App on your device.

<Frame width="400"  height="auto" caption="">
  <img src="https://media-resource.spreading.io/5fa3f99cda659c8c9f2907cbb0242e6c/workspace86/run_flutter_project.jpg" />
</Frame>


## Related guide and resources

<CardGroup cols={2}>
  <Card title="Sample Code" href="https://github.com/ZEGOCLOUD/zego_uikit_prebuilt_call_example_flutter" target="_blank">
    Click here to get the complete sample code.
  </Card>
  <Card title="API reference" href="https://pub.dev/documentation/zego_uikit_prebuilt_call/latest/topics/APIs-topic.html" target="_blank">
    Click here for detailed explanations of all APIs.
  </Card>
</CardGroup>

