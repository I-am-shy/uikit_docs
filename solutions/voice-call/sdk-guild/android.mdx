# SDK集成指引
- - -

# 手动安装
目前 ZegoAudioRoom SDK 仅支持通过拷贝库文件的方式，集成步骤如下。

## 1 准备环境
请确保开发环境满足以下技术要求： 

* Android Studio 2.1 或以上版本

* 已经下载好 Android SDK 25、Android SDK Build-Tools 25.0.2、Android SDK Platform-Tools 25.\*.*

* Android 版本不低于 4.0.3 且支持音视频的 Android 设备或模拟器（推荐使用真机）

* Android 设备已经连接到 Internet

## 2 下载 SDK
请从 [ZegoAudioRoom Android | _blank](https://storage.zego.im/downloads/ZegoAudioRoom-Android.zip) 下载 SDK。

如果要实现播放本地音频、视频文件的功能(可用于播放背景音乐，播放MV，播放直播音效等场景)，请下载包含 MediaPlayer 功能的 SDK，请下载 [ZegoAudioRoom_MediaPlayer Android | _blank](https://storage.zego.im/downloads/ZegoAudioRoom-MediaPlayer-Android.zip) 

历史版本更新，请查看：[ZegoAudioRoom Android 历史更新日志](#3153) 

## 3 集成 SDK
### 3.1 新建示例工程（此处以新工程为例，如果是集成到已有项目，可忽略此步）
1. 打开 Android Studio，选择菜单 File-->New-->New Project。
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.1-new_project-1.png)

2. 填写项目名及项目存储路径。
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.1-new_project-2.png)

3. 其它按照默认设置一路 Next，最后点击"Finish"完成新工程创建。

### 3.2 导入 SDK

>注意，目前我们仅提供 .jar 和 .so 形式的SDK，暂不支持 .aar 形式的SDK。目前支持的平台架构包括：armeabi、armeabi-v7a、arm64-v8a。


#### 解压 SDK 至项目目录，如 app/zego_libs。 
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.2-copy_sdk_to_project.png)

#### 添加SDK引用。打开 app/build.gradle 文件，添加如下内容：

* 在 defaultConfig 节点添加 ndk 节点，指定支持的平台类型

```
ndk {
    abiFilters 'armeabi' , 'armeabi-v7a', 'arm64-v8a'
    }
```
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.2-insert_ndk_node-1.png)

* 在 android 节点添加 sourceSets 节点，指定 zego jni libs 目录

```
sourceSets {
    main {
        jniLibs.srcDirs = ['zego_libs']
    }
}
```
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.2-insert_sourceSets_node-2.png)

* 在 dependencies 节点添加

```
compile fileTree(dir: 'zego_libs', include: ['*.jar'])
```
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.2-insert_sourceSets_node-3.png)

#### 添加权限申明。打开 app/AndroidManifest.xml 文件，添加如下内容：

```
    // SDK 必须使用的权限
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.CAMERA" />
     <uses-permission android:name="android.permission.BLUETOOTH" />
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    // APP 需要使用的部分权限
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />

```
![](/Pics/Android/ZegoAudioRoom/ZegoAudioRoom-IntegrationGuide/3.2-insert_sourceSets_node-4.png)

### 3.3 使用 SDK
参见 [API说明-Android API | blank](/API/ZegoAudioRoom/Android/html/index.html)
