# 实时合唱体验 App

- - -


<Card title="示例源码" href="https://codestore.zego.im/project/16" target="_blank">点击获得完整代码。</Card>

@@@solution_demo_note@@@


源码为实时合唱体验 App Android 客户端源码。下文介绍如何运行源码：


## 准备环境

在运行源码前，请确保开发环境满足以下要求（以下说明以 macOS 开发电脑为例）：

- Android Studio Giraffe (2022.3.1) 或以上版本。
- 已下载 Android SDK 33 和 Android SDK Platform-Tools 33。
- 建议使用 Android 9.0 或以上版本，且支持音视频的 Android 设备（仅支持真机），并开启“允许调试”选项。
- Android 设备、macOS 开发电脑已经连接到 Internet。


## 前提条件

- 已在 [ZEGO 控制台\|_blank](https://console.zego.im) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考控制台的 [- 项目信息\|_blank](#12107)。
- 已在 [ZEGO 控制台\|_blank](https://console.zego.im) 开通即时通讯服务，详情请参考控制台的 [服务配置 - 即时通讯 - 开通服务\|_blank](#14994)。
- 已联系 ZEGO 技术支持开通版权音乐服务。

## 运行源码

1. 从本文档开头下载源码，在本地解压缩后，得到 “GoSingTogether_Android_Sourcecode” 文件夹。

2. 在开发电脑中找到 Android Studio 软件图标。

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_icon.png" /></Frame>
     
3. 打开 Android Studio，单击 “Open”。  
 
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_Welcome_Interface.png" /></Frame>

4. 选择并打开 “GoSingTogether_Android_Sourcecode”。

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/SourceCode_Folder_Android.png" /></Frame>


5. 下载的源码中缺少 SDK 初始化所需的 APP_ID 和 APP_SIGN。

    按照文件路径 “GoSingTogether_Android_Sourcecode/SingTogether/src/main/java/im/zego/singtogether/KeyCenter.java”，找到 “KeyCenter.java” 文件。
    
    使用本文 [前提条件](#15750#2) 已获取的 AppID 和 AppSign 正确填入（**注意：需要在 AppID 后加 “L”**），否则源码无法正常运行。 

    ```java
    /**
     * 请注意，本 demo 代码采用 APP_SIGN 鉴权，如果您需要更安全的鉴权方式，可以自行切换为 Token 鉴权
     */
    public class KeyCenter {
        // 请将您从 ZEGO 控制台（https://console.zego.im/）申请到的 APP_ID 填写在下方
        // 建议在 APP_ID 数字后面添加大写的L，避免编译错误
        public static final long APP_ID = YOUR_APP_ID;

        // 请参考 https://doc-zh.zego.im/article/12107 文档，获取您项目 APP_ID 对应的 APP_SIGN（长度为 64 位的字符串）
        // 并正确填写在下方，否则 demo 无法正常运行
        public static final String APP_SIGN = YOUR_APP_SIGN;

        // BACKEND_API_URL: 后台地址，如果访问错误请联系技术支持
        // 体验 App 源码提供的业务后台地址仅用于跑通示例源码，
        // 若您需要上线正式产品，请自行编写后台代码，同时搭建自己的业务后台
        public static final String BACKEND_API_URL = "https://togateway-huangpu-base.zego.im";
    }
    ```

@@@App_Demo_server_address_warning@@@


6. 选择一台 Android 真机设备连接到开发电脑，当该设备成功开启“开发者模式”和“USB 调试功能”后，可以看到 Android Studio 界面已检测到该设备，如下图所示： 
 
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_device_detected.png" /></Frame>     

说明 Android Studio 软件已成功连接到 Android 设备，可以将源码运行到该设备上了。

7. 单击 Android Studio 软件上的 “build and run” 按钮，编译并运行源码。  

    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_build_and_run.png" /></Frame>

@@@Go_Android_UNNAMED@@@
