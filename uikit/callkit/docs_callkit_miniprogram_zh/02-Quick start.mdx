# 快速开始

这份文档将指导您如何用 uni-app 集成 UIKit 小程序并快速开始音视频通话。

## 准备环境：

- 使用微信小程序基础库1.7.0 或以上版本，否则不支持音视频播放。
- 通过微信小程序实时音视频播放相关类目审核（获取到对应的小程序 AppID），开通 [live-player](https://developers.weixin.qq.com/miniprogram/dev/component/live-player.html)、[live-pusher](https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html) 组件权限。

## 前提条件
- 已在 [ZEGO 控制台](https://console.zego.im/account/login) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考 [控制台 - 项目信息](https://doc-zh.zego.im/article/12107)。
- 联系 ZEGO 技术支持，开通 UIKit 相关服务。
## 安装 SDK

```shell
npm i @zegocloud/zego-uikit-prebuilt-call-mini-program --save
```

## 初始化 SDK

1. 在您的服务端生成一个 [Token](https://doc-zh.zego.im/article/10360)。
2. 导入 UIKit 组件
```shell
mkdir -p ./ZegoUIKitPrebuiltCall && cp -r node_modules/zegocloud/zego-uikit-prebuilt-call-mini-program/pages/ ./ZegoUIKitPrebuiltCall/pages/
```

3. 在 pages.json 文件中注册全局监听页面。
```js
{
    "path": "ZegoUIKitPrebuiltCall/pages/call/SingleCall",
    "style": {
        "navigationBarTitleText": "Call"
    }
}
```

4. 在以下代码中替换 appID 和 server 参数为您从 ZEGO 控制台获取的项目的 AppID 和 Server 地址，详情请参考 [控制台 - 项目信息](https://doc-zh.zego.im/article/12107)。

```js Vue
<template>
   <view class="button-container">
        <button @tap="startCall" >
            开始音视频通话
        </button>
    </view>
</template>
<script setup>
import { ZegoUIKitPrebuiltCall, ZegoUIKitPrebuiltCallConfig } from '@zegocloud/zego-uikit-prebuilt-call-mini-program';

const appID = 0; // 您从控制台获取的 AppID
const server = ""; // 您从控制台获取的 Server 地址

onMounted(() => {
	ZegoUIKitPrebuiltCall.init(appID, server);
})

function startCall() {
    const token = ""; // 您从服务端生成的 Token
    const userID = "user1"; // userID，需用户自己定义，保证全局唯一，建议设置为业务系统中的用户唯一标识
    const userName = "user1_name"; // userName 用户名
    const callID = "call"; // callID，通话ID，通话双方需输入同一个ID
    const config = {}; // 房间配置
    ZegoUIKitPrebuiltCall.joinRoom(token, userID, userName, callID, config);
}
</script>
```


