# Background blur and virtual background
- - -

<Note title="Note">
This feature is a paid feature. If you need to apply for a trial or consult about official pricing, please contact ZEGOCLOUD sales representatives.
</Note>

## Description  

This document explains how to separate the subject from the original image during a video call to achieve background blur and virtual background effects.

### Compatibility

The browsers that support background blur and virtual background features are shown in the following table:

| Browser | Compatible Version |
|  ----  | ----  |
|Google Chrome	| 90 and above|
|Firefox | 111 and above|
|Safari | 15 and above |
|Mobile browsers| Not supported |

### Device and browser requirements

Please ensure that your device and browser meet the following requirements:
- Equipped with Core i5 or higher CPU.
- Equipped with 8GB or more RAM.
- (Recommended) Latest desktop Google Chrome browser.

## Steps

### 1 Get resources

All resource files in the `/assets` directory of the npm package are applicable for background blur and virtual background. Please place these resource files in your project root directory.

### 2 Set configuration

When creating a ZegoUIKitPrebuilt instance, pass the `BackgroundProcessConfig` parameter to configure background blur and virtual background settings.

```ts
/**
 * BackgroundProcessConfig parameter description
 * BackgroundProcessConfig?: {
 *   blurDegree?: 1 | 2 | 3, // Blur degree 1, 2, 3, the higher the degree, the blurrier the background
 *   source?: HTMLImageElement, // HTMLImageElement of virtual background image
 *   objectFit?: 'fill' | 'contain' | 'cover', // Virtual background fill method
 * }
*/
// Background blur
const zp = ZegoUIKitPrebuilt.create(kitToken, { BackgroundProcessConfig: { blurDegree: 1 } });

// Virtual background
const img = document.createElement("img");
img.src = require("./background.jpg"); // The path of your background image placed in the root directory
const zp = ZegoUIKitPrebuilt.create(kitToken, { BackgroundProcessConfig: { source: img, objectFit: "fill" } });
```

### 3 Enable/disable the feature

After the local stream is created successfully, call the method to enable/disable background blur and virtual background.

```ts
zp.joinRoom({
    // Local stream creation success callback
    onLocalStreamCreated: (stream) => {
        // Enable
        await zp.openBackgroundProcess();
        // Disable
        await zp.closeBackgroundProcess();
    }
})
```

### 4 Display the switch button

If you want to display the button enabling/disabling background blur and virtual background in the room, you can set the `showBackgroundProcessButton` parameter.

```ts
zp.joinRoom({
    showBackgroundProcessButton: true
})
```